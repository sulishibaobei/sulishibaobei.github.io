<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å°‘å¥³é›¨çš„åšå®¢</title>
  <subtitle>çˆ±ç”Ÿæ´»çˆ±è¿œæ–¹çˆ±è‡ªç”±æ›´çˆ±ä½ </subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.sulishibaobei.com/"/>
  <updated>2017-09-08T15:00:04.000Z</updated>
  <id>http://www.sulishibaobei.com/</id>
  
  <author>
    <name>å°‘å¥³é›¨</name>
    <email>380571249@qq.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Angular 4 è‡ªå®šä¹‰ç»„ä»¶å°è£…é‡è§çš„ä¸€äº›äº‹å„¿</title>
    <link href="http://www.sulishibaobei.com/angular/style/component-120170908/"/>
    <id>http://www.sulishibaobei.com/angular/style/component-120170908/</id>
    <published>2017-09-08T03:05:53.000Z</published>
    <updated>2017-09-08T15:00:04.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/fengjing-2.jpg" alt="sf"></p>
<p><div class="image-caption">ä½ ç”¨Angular å—ï¼Ÿ</div><br><a id="more"></a><br>ä¸€.ä»‹ç»<br>è¯´è¯´å°è£…Angular ç»„å»ºè¿‡ç¨‹ä¸­é‡è§çš„ä¸€äº›é—®é¢˜å’Œæ„Ÿæ‚Ÿ.ç”¨ä¹…äº†Angular,å°±ä¼šé‡è§å¾ˆå¤šå‘ï¼Œè®¸å¤šåŸºäºAngularå¼€å‘çš„æ¡†æ¶æœ€å–œæ¬¢åšçš„äº‹æƒ…å°±æ˜¯å°è£…ç»„ä»¶,ç„¶åå¤ç”¨å› ä¸ºè¿™æ˜¯æœ€çœäº‹çš„.<br>äºŒ.åŸºæœ¬æ„å»ºç»„ä»¶æ€æƒ³<br><img src="/images/sf-2.png" alt="sf"></p>
<p><div class="image-caption">ç•Œé¢æ„å»ºè‰å›¾</div><br>ç®€è¦ä»‹ç»ä¸Šå›¾ï¼š<br>1.View å°±æ˜¯æˆ‘ä»¬éœ€è¦å®Œæˆçš„ç•Œé¢,ä½†æ˜¯ç•Œé¢æ— éå°±æ˜¯ç”±è‹¥å¹²ä¸ªlabel,button,table,img,listç­‰ä¸€äº›åŸºæœ¬æ§ä»¶æ„æˆçš„,æ‰€æœ‰çš„å‰ç«¯é¡µé¢æ„æˆéƒ½æ˜¯ä¸€æ ·,åªæ˜¯åŠ ä¸ŠCSSæ’ç‰ˆç¡®å®šæœ€åçš„æ˜¾ç¤ºæ•ˆæœã€‚<br>2.äº”ç§åŸºç±»ï¼Œå…¶å®ä¸æ­¢äº”ç§,åªæ˜¯åˆ—ä¸¾ã€‚è¿™é‡Œå°±éœ€è¦æˆ‘ä»¬å°†åŸºç±»éƒ½å°è£…æˆç»„ä»¶çš„å½¢å¼,å¯¹å¤–æä¾›ç»„ä»¶æ ‡ç­¾å°±å¯ä»¥ä½¿ç”¨.ä¸ç®¡æ„å»ºå¤šå°‘ä¸ªé¡µé¢,éƒ½å¯ä»¥ç”¨è¿™å‡ ä¸ªåŸºæœ¬ç»„ä»¶å®Œæˆ.<br>egï¼šä¸€ä¸ªbuttonç»„ä»¶ </p>
<p><img src="/images/sf-3.png" alt="sf"></p>
<p><div class="image-caption">button.component.html</div><br>è¿™ä¸ªButtonç»„ä»¶é‡Œé¢æ˜¯è¿˜åŒ…è£¹ä¸€ä¸ªlabelç»„ä»¶çš„.</p>
<p><img src="/images/sf-4.png" alt="sf"></p>
<p><div class="image-caption">button.component.ts</div><br>å¯¹å¤–åªç”¨æä¾›é€‰æ‹©å™¨ï¼Œå°±å¯ä»¥ä½¿ç”¨Buttonäº†.<br>3.å¯æ˜¯ä¸ºä»€ä¹ˆè¿˜è¦æœ‰ä¸­é—´çš„UIbuilederå‘¢ï¼Ÿ<br>æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¬¡å¼•é€‰æ‹©å™¨åæ˜¯ä¸æ˜¯ä¹Ÿå¾ˆéº»çƒ¦ï¼Œçœ‹èµ·æ¥æ²¡æœ‰çœåŠ›å¤šå°‘ï¼Œ<br>å°è£…çš„åŸºæœ¬ç»„ä»¶åªéœ€è¦å¯¹å¤–æŠ›å‡ºä¸€ä¸ªTYPEIDï¼ŒUIbuilderåªè¦çŸ¥é“1æ˜¯ä»£è¡¨buttonç»„ä»¶ï¼Œ2ä»£è¡¨labelç»„ä»¶ï¼ŒUIbuilderå°†ç»„ä»¶æ„å»ºå‡ºæ¥ã€‚ </p>
<p><img src="/images/sf-5.png" alt="sf"></p>
<p><div class="image-caption">UIBuilder.html æ„å»ºç»„å»ºå›¾</div><br>VIEWç•Œé¢éœ€è¦Buttonç»™æˆ‘ä¼ ä¸€ä¸ª1ï¼Œéœ€è¦labelä¼ ä¸€ä¸ª2ï¼Œéœ€è¦ä»€ä¹ˆä¼ å¯¹äºçš„idå°±è¡Œã€‚æ­¤æ—¶çš„ç•Œé¢å’Œç»„ä»¶æ˜¯å®Œå…¨åˆ†ç¦»çš„ï¼Œè¿™æ ·æ„ä»¶ç•Œé¢çš„æ—¶å€™å‡ ä¹å¯ä»¥æ²¡æœ‰ä»£ç å°±å‡ºæ¥ä¸€ä¸ªé¡µé¢å•¦ã€‚è€Œä¸”ä¸‹æ¬¡ç”¨çš„æ—¶å€™ï¼ŒåŸºç±»æ˜¯å®Œå…¨ä¸ç”¨åŠ¨çš„ã€‚<br>ä¸‰.æ ·å¼æ§åˆ¶ã€‚<br>ä¹Ÿè®¸ä½ ä¼šè§‰å¾—è¿™æ ·æ„ä»¶å‡ºæ¥çš„åªæœ‰æœ€ç®€å•çš„é¡µé¢ï¼Œé‚£ä¹ˆæ ·å¼å‘¢ï¼Ÿ<br>çš„ç¡®å‘€ï¼Œè¿™æ ·å°±æ˜¯å¾ˆè€åœŸçš„ç•Œé¢ï¼Œé‚£ä¹ˆæ ·å¼è¦æ€ä¹ˆå®ç°å‘¢ï¼Ÿ<br>å…¶å®Angular æä¾›äº†å¾ˆå¤šçš„æ–¹æ³•çš„ã€‚<br>1.ä¸€å¼ æ ·å¼è¡¨ï¼Œå®šä¹‰æ‰€æœ‰çš„æ ·å¼ã€‚ç›¸å½“äºboostrapä¸€æ ·ã€‚ </p>
<p><img src="/images/sf-6.png" alt="sf"></p>
<p><div class="image-caption">buttonæ ·å¼å®šä¹‰</div><br>éƒ½çŸ¥é“åŒèŠ±æ‹¬å·çš„å®šä¹‰,ä½ åªè¦åœ¨æœ€å¤–é¢å°†ä½ éœ€è¦çš„æ ·å¼åä¼ è¿›æ¥å°±å¯ä»¥å•¦.<br>2.ä»£ç ä¿®æ”¹æ ·å¼<br>ElementRef ï¼ŒRenderer2 æœ‰å¤šå°‘äººçŸ¥é“è¿™ä¸¤ä¸ªå±æ€§çš„ã€‚ </p>
<p><img src="/images/sf-7.png" alt="sf"></p>
<p><div class="image-caption">ä»£ç ä¿®æ”¹æ ·å¼</div><br>è¿™ç§éƒ½æ˜¯å¯ä»¥åœ¨å¤–éƒ¨ä¿®æ”¹æ ·å¼çš„,ä½ çš„åŸºç»„ä»¶ä¸éœ€è¦æ”¹åŠ¨ã€‚ å¯èƒ½çœ‹èµ·æ¥è´¹åŠ²,ä½†ç”¨èµ·æ¥å¥½å¤„å¾ˆå¤šï¼Œä¸ç”¨copy,copyäº†,è€Œä¸”ä½ çš„æ€æƒ³ä¹Ÿä¼šåˆ°ä¸€ä¸ªæ–°çš„å¢ƒç•Œã€‚<br>å…¶å®ï¼Œæˆ‘ç”¨Angularæœ‰ä¸€æ®µæ—¶é—´äº†,å¦‚æœä½ ä¹Ÿæ˜¯,æ¬¢è¿æ¥äº¤æµã€‚ </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/fengjing-2.jpg&quot; alt=&quot;sf&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;div class=&quot;image-caption&quot;&gt;ä½ ç”¨Angular å—ï¼Ÿ&lt;/div&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/categories/Angular-2/"/>
    
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/tags/Angular-2/"/>
    
      <category term="è‡ªå®šä¹‰" scheme="http://www.sulishibaobei.com/tags/%E8%87%AA%E5%AE%9A%E4%B9%89/"/>
    
      <category term="component" scheme="http://www.sulishibaobei.com/tags/component/"/>
    
  </entry>
  
  <entry>
    <title>Flexible Boxå¸ƒå±€åŸºç¡€çŸ¥è¯†è¯¦è§£</title>
    <link href="http://www.sulishibaobei.com/css/fb-120170908/"/>
    <id>http://www.sulishibaobei.com/css/fb-120170908/</id>
    <published>2017-09-08T02:08:53.000Z</published>
    <updated>2017-09-08T12:56:06.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-åŸºæœ¬æ¦‚å¿µï¼Œå€Ÿç”¨é˜®ä¸€å³°è€å¸ˆçš„ä¸€å¼ å›¾ï¼š"><a href="#1-åŸºæœ¬æ¦‚å¿µï¼Œå€Ÿç”¨é˜®ä¸€å³°è€å¸ˆçš„ä¸€å¼ å›¾ï¼š" class="headerlink" title="1.åŸºæœ¬æ¦‚å¿µï¼Œå€Ÿç”¨é˜®ä¸€å³°è€å¸ˆçš„ä¸€å¼ å›¾ï¼š"></a>1.åŸºæœ¬æ¦‚å¿µï¼Œå€Ÿç”¨é˜®ä¸€å³°è€å¸ˆçš„ä¸€å¼ å›¾ï¼š</h2><p><img src="/images/fb-1.png" alt="fb"><br><a id="more"></a><br>å®¹å™¨é»˜è®¤å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´ï¼ˆmain axisï¼‰å’Œå‚ç›´çš„äº¤å‰è½´ï¼ˆcross axisï¼‰ã€‚ä¸»è½´çš„å¼€å§‹ä½ç½®ï¼ˆä¸è¾¹æ¡†çš„äº¤å‰ç‚¹ï¼‰å«åšmain startï¼Œç»“æŸä½ç½®å«åšmain endï¼›äº¤å‰è½´çš„å¼€å§‹ä½ç½®å«åšcross startï¼Œç»“æŸä½ç½®å«åšcross endã€‚<br>é¡¹ç›®é»˜è®¤æ²¿ä¸»è½´æ’åˆ—ã€‚å•ä¸ªé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´å«åšmain sizeï¼Œå æ®çš„äº¤å‰è½´ç©ºé—´å«åšcross sizeã€‚</p>
<h2 id="2-å®¹å™¨çš„åŸºæœ¬å±æ€§"><a href="#2-å®¹å™¨çš„åŸºæœ¬å±æ€§" class="headerlink" title="2.å®¹å™¨çš„åŸºæœ¬å±æ€§"></a>2.å®¹å™¨çš„åŸºæœ¬å±æ€§</h2><p>flex-direction<br>flex-wrap<br>flex-flow<br>justify-content<br>align-items<br>align-content</p>
<h3 id="2-1-flex-direction-å±æ€§å†³å®šä¸»è½´çš„æ–¹å‘-åŠè¡Œæ’åˆ—-é»˜è®¤å€¼ï¼šrow"><a href="#2-1-flex-direction-å±æ€§å†³å®šä¸»è½´çš„æ–¹å‘-åŠè¡Œæ’åˆ—-é»˜è®¤å€¼ï¼šrow" class="headerlink" title="2.1 flex-direction  å±æ€§å†³å®šä¸»è½´çš„æ–¹å‘ (åŠè¡Œæ’åˆ—)  é»˜è®¤å€¼ï¼šrow"></a>2.1 flex-direction  å±æ€§å†³å®šä¸»è½´çš„æ–¹å‘ (åŠè¡Œæ’åˆ—)  é»˜è®¤å€¼ï¼šrow</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.box&#123;</div><div class="line">    flex-directionï¼šrow | row-reverse | column |column-reverse   /*æœ‰å››ä¸ªå€¼  åˆ†åˆ«çš„æ˜¾ç¤ºæ•ˆæœ*/</div><div class="line">       &#125;</div></pre></td></tr></table></figure>
<p><img src="/images/fb-2.png" alt="fb"><br>html5å®ç°ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>css3éƒ¨åˆ†å®ç°ä»£ç ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">          <span class="attribute">margin</span>: <span class="number">0</span> auto;</div><div class="line">          <span class="attribute">width</span>: <span class="number">1000px</span>;</div><div class="line">       &#125;</div><div class="line">        <span class="selector-class">.box</span>&#123;</div><div class="line">            <span class="attribute">background</span>: gold;</div><div class="line">            <span class="attribute">margin</span>: <span class="number">1px</span>;</div><div class="line">            <span class="attribute">display</span>: flex;  <span class="comment">/*å¿…é¡»è®¾ç½®è¿™ä¸ª*/</span></div><div class="line">            <span class="attribute">flex-direction</span>: row;  <span class="comment">/*ä¸€æ’çš„æ–¹å¼æ’åˆ—*/</span></div><div class="line">        &#125;</div><div class="line">        <span class="selector-class">.box-item</span>&#123;</div><div class="line">            <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">            <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">            <span class="attribute">line-height</span>: <span class="number">100px</span>;</div><div class="line">            <span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">            <span class="attribute">color</span>: white;</div><div class="line">            <span class="attribute">text-align</span>: center;</div><div class="line">            <span class="attribute">margin</span>: <span class="number">5px</span>;</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<p>å®ç°æ•ˆæœï¼š<br><img src="/images/fb-3.png" alt="fb"><br>å¦‚æœcss3æ”¹æˆ   <code>flex-direction: row-reverse</code>;<br><img src="/images/fb-4.png" alt="fb"><br>å…¶ä»–ä¸¤ä¸ªå±æ€§ç±»æ¨ï¼›</p>
<h3 id="2-2-flex-wrap-å®šä¹‰å¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œ-é»˜è®¤ï¼šnowrap"><a href="#2-2-flex-wrap-å®šä¹‰å¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œ-é»˜è®¤ï¼šnowrap" class="headerlink" title="2.2 flex-wrap  å®šä¹‰å¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œ é»˜è®¤ï¼šnowrap"></a>2.2 flex-wrap  å®šä¹‰å¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œ é»˜è®¤ï¼šnowrap</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.box&#123;</div><div class="line">            flex-wrapï¼šnowrap | wrap | wrap-reverse;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>htmléƒ¨åˆ†ä»£ç ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>css éƒ¨åˆ†ä»£ç ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box1</span>&#123;</div><div class="line">            <span class="attribute">background</span>: gold;</div><div class="line">            <span class="attribute">margin</span>: <span class="number">1px</span>;</div><div class="line">            <span class="attribute">display</span>: flex;</div><div class="line">            <span class="attribute">flex-flow</span>: wrap;</div><div class="line">        &#125;</div><div class="line">        <span class="selector-class">.box-item</span>&#123;</div><div class="line">            <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">            <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">            <span class="attribute">line-height</span>: <span class="number">100px</span>;</div><div class="line">            <span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">            <span class="attribute">color</span>: white;</div><div class="line">            <span class="attribute">text-align</span>: center;</div><div class="line">            <span class="attribute">margin</span>: <span class="number">5px</span>;</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š<br><img src="/images/fb-5.png" alt="fb"><br>è¿™æ˜¯æ¢è¡Œçš„æ•ˆæœï¼Œå…¶ä»–æ•ˆæœå¯ä»¥å°è¯•ï¼›</p>
<h3 id="2-3-flex-flow-æ˜¯flex-direction-å’Œ-flex-wrapçš„ç¼©å†™ï¼›æ‰€ä»¥å½“ç‹¬å†™ä¸Šé¢çš„è¦å†™ä¸¤ä¸ª"><a href="#2-3-flex-flow-æ˜¯flex-direction-å’Œ-flex-wrapçš„ç¼©å†™ï¼›æ‰€ä»¥å½“ç‹¬å†™ä¸Šé¢çš„è¦å†™ä¸¤ä¸ª" class="headerlink" title="2.3 flex-flow æ˜¯flex-direction å’Œ flex-wrapçš„ç¼©å†™ï¼›æ‰€ä»¥å½“ç‹¬å†™ä¸Šé¢çš„è¦å†™ä¸¤ä¸ª"></a>2.3 flex-flow æ˜¯flex-direction å’Œ flex-wrapçš„ç¼©å†™ï¼›æ‰€ä»¥å½“ç‹¬å†™ä¸Šé¢çš„è¦å†™ä¸¤ä¸ª</h3><p>é»˜è®¤å€¼ä¸ºrow norap</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">     <span class="attribute">flex-flow</span>: flex-direction || flex-wrap</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h3 id="2-4-justify-content-å±æ€§å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼"><a href="#2-4-justify-content-å±æ€§å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼" class="headerlink" title="2.4 justify-content å±æ€§å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼"></a>2.4 justify-content å±æ€§å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">           <span class="attribute">justify-content</span>:flex-start | flex-end | center | space-between | space-around;</div><div class="line">       &#125;</div></pre></td></tr></table></figure>
<p>flex-startï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå·¦å¯¹é½<br>flex-endï¼šå³å¯¹é½<br>centerï¼š å±…ä¸­<br>space-betweenï¼šä¸¤ç«¯å¯¹é½ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”éƒ½ç›¸ç­‰ã€‚<br>space-aroundï¼šæ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚<br>html5ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box2"</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>css3ä»£ç ï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box2</span>&#123;</div><div class="line">            <span class="attribute">background</span>: gold;</div><div class="line">            <span class="attribute">margin</span>: <span class="number">1px</span>;</div><div class="line">            <span class="attribute">display</span>: flex;</div><div class="line">            <span class="attribute">justify-content</span>: center; <span class="comment">/**å¯ä»¥æ¢æ¢å…¶ä»–çš„å±æ€§å€¼*/</span></div><div class="line">        &#125;</div><div class="line">        <span class="selector-class">.box-item</span>&#123;</div><div class="line">            <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">            <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">            <span class="attribute">line-height</span>: <span class="number">100px</span>;</div><div class="line">            <span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">            <span class="attribute">color</span>: white;</div><div class="line">            <span class="attribute">text-align</span>: center;</div><div class="line">            <span class="attribute">margin</span>: <span class="number">5px</span>;</div><div class="line">        &#125;</div></pre></td></tr></table></figure></p>
<p>æ•ˆæœå›¾ï¼š<br><img src="/images/fb-6.png" alt="fb"><br>å…¶ä»–çš„å¯ä»¥è‡ªå·±è¯•è¯•ï¼š<br>flex-startï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå·¦å¯¹é½<br>flex-endï¼šå³å¯¹é½<br>centerï¼š å±…ä¸­<br>space-betweenï¼šä¸¤ç«¯å¯¹é½ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”éƒ½ç›¸ç­‰ã€‚<br>space-aroundï¼šæ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚</p>
<h3 id="2-5-align-items-å®šä¹‰é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½ï¼ˆçºµè½´ï¼‰"><a href="#2-5-align-items-å®šä¹‰é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½ï¼ˆçºµè½´ï¼‰" class="headerlink" title="2.5 align-items å®šä¹‰é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½ï¼ˆçºµè½´ï¼‰"></a>2.5 align-items å®šä¹‰é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½ï¼ˆçºµè½´ï¼‰</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">          <span class="attribute">align-items</span>:flex-start | flex-end |center | baseline |stretch</div><div class="line">      &#125;</div></pre></td></tr></table></figure>
<p>html5ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box3"</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item item-tall"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item item-tall"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span> </div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item item-tall"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span>        </div><div class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>css3ä»£ç ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box3</span>&#123;</div><div class="line">          <span class="attribute">background</span>: gold;</div><div class="line">          <span class="attribute">margin</span>: <span class="number">1px</span>;</div><div class="line">          <span class="attribute">display</span>: flex;</div><div class="line">          <span class="attribute">align-items</span>:flex-end; <span class="comment">/*å¯ä»¥æ¢å…¶ä»–å€¼çœ‹çœ‹*/</span></div><div class="line">          <span class="attribute">flex-wrap</span>: wrap;</div><div class="line">      &#125;</div><div class="line">      <span class="selector-class">.box-item</span>&#123;</div><div class="line">          <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">          <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">          <span class="attribute">line-height</span>: <span class="number">100px</span>;</div><div class="line">          <span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">          <span class="attribute">color</span>: white;</div><div class="line">          <span class="attribute">text-align</span>: center;</div><div class="line">          <span class="attribute">margin</span>: <span class="number">5px</span>;</div><div class="line">      &#125;</div><div class="line">      <span class="selector-class">.item-tall</span>&#123;</div><div class="line">          <span class="attribute">height</span>: <span class="number">200px</span>; <span class="comment">/*äº¤å‰è½´ï¼Œé«˜åº¦ä¸ä¸€*/</span></div><div class="line">          <span class="attribute">line-height</span>: <span class="number">200px</span>;</div><div class="line">      &#125;</div></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š<br><img src="/images/fb-8.png" alt="fb"><br>å…¶ä»–çš„å¯ä»¥è‡ªå·±è¯•è¯•ï¼š<br>flex-startï¼šäº¤å‰è½´çš„èµ·ç‚¹å¯¹é½ã€‚<br>flex-endï¼šäº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½ã€‚<br>centerï¼šäº¤å‰è½´çš„ä¸­ç‚¹å¯¹é½ã€‚<br>baseline: é¡¹ç›®çš„ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½ã€‚<br>stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå¦‚æœé¡¹ç›®æœªè®¾ç½®é«˜åº¦æˆ–è®¾ä¸ºautoï¼Œå°†å æ»¡æ•´ä¸ªå®¹å™¨çš„é«˜åº¦ã€‚</p>
<h3 id="2-6-align-content-å±æ€§å®šä¹‰äº†å¤šæ ¹è½´çº¿-å¤šè¡Œ-çš„å¯¹é½æ–¹å¼ï¼Œå¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§èµ·ä¸æ¥ä½œç”¨"><a href="#2-6-align-content-å±æ€§å®šä¹‰äº†å¤šæ ¹è½´çº¿-å¤šè¡Œ-çš„å¯¹é½æ–¹å¼ï¼Œå¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§èµ·ä¸æ¥ä½œç”¨" class="headerlink" title="2.6 align-content  å±æ€§å®šä¹‰äº†å¤šæ ¹è½´çº¿(å¤šè¡Œ)çš„å¯¹é½æ–¹å¼ï¼Œå¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§èµ·ä¸æ¥ä½œç”¨"></a>2.6 align-content  å±æ€§å®šä¹‰äº†å¤šæ ¹è½´çº¿(å¤šè¡Œ)çš„å¯¹é½æ–¹å¼ï¼Œå¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§èµ·ä¸æ¥ä½œç”¨</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">         <span class="attribute">align-content</span>: flex-start | flex-end | center | space-between | space-around | stretch;</div><div class="line">       &#125;</div></pre></td></tr></table></figure>
<p>htmlä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box3 box3-tall"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span> </div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span>        </div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>cssä»£ç ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box3</span>&#123;</div><div class="line">          <span class="attribute">background</span>: gold;</div><div class="line">          <span class="attribute">margin</span>: <span class="number">1px</span>;</div><div class="line">          <span class="attribute">display</span>: flex;</div><div class="line">          <span class="attribute">flex-wrap</span>: wrap;</div><div class="line">          <span class="attribute">align-content</span>: space-around;</div><div class="line">      &#125;</div><div class="line">      <span class="selector-class">.box-tall</span> &#123;</div><div class="line">          <span class="attribute">height</span>: <span class="number">300px</span>;</div><div class="line">          &#125;</div><div class="line">      <span class="selector-class">.box-item</span>&#123;</div><div class="line">          <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">          <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">          <span class="attribute">line-height</span>: <span class="number">100px</span>;</div><div class="line">          <span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">          <span class="attribute">color</span>: white;</div><div class="line">          <span class="attribute">text-align</span>: center;</div><div class="line">          <span class="attribute">margin</span>: <span class="number">5px</span>;</div><div class="line">      &#125;</div></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š<br><img src="/images/fb-8.png" alt="fb"><br>å…¶ä»–çš„å¯ä»¥è‡ªå·±è¯•è¯•ï¼š<br>flex-startï¼šä¸äº¤å‰è½´çš„èµ·ç‚¹å¯¹é½ã€‚<br>flex-endï¼šä¸äº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½ã€‚<br>centerï¼šä¸äº¤å‰è½´çš„ä¸­ç‚¹å¯¹é½ã€‚<br>space-betweenï¼šä¸äº¤å‰è½´ä¸¤ç«¯å¯¹é½ï¼Œè½´çº¿ä¹‹é—´çš„é—´éš”å¹³å‡åˆ†å¸ƒã€‚<br>space-aroundï¼šæ¯æ ¹è½´çº¿ä¸¤ä¾§çš„é—´éš”éƒ½ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œè½´çº¿ä¹‹é—´çš„é—´éš”æ¯”è½´çº¿ä¸è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚<br>stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šè½´çº¿å æ»¡æ•´ä¸ªäº¤å‰è½´ã€‚</p>
<h2 id="3-å®¹å™¨é‡Œå­å…ƒç´ çš„å±æ€§"><a href="#3-å®¹å™¨é‡Œå­å…ƒç´ çš„å±æ€§" class="headerlink" title="3.å®¹å™¨é‡Œå­å…ƒç´ çš„å±æ€§"></a>3.å®¹å™¨é‡Œå­å…ƒç´ çš„å±æ€§</h2><p>orderå±æ€§å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0ã€‚<br>flex-growå±æ€§å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ã€‚<br>flex-shrinkå±æ€§å®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°ã€‚<br>flex-basiså±æ€§å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain sizeï¼‰ã€‚æµè§ˆå™¨æ ¹æ®è¿™ä¸ªå±æ€§ï¼Œè®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å¤šä½™ç©ºé—´ã€‚å®ƒçš„é»˜è®¤å€¼ä¸ºautoï¼Œå³é¡¹ç›®çš„æœ¬æ¥å¤§å°ã€‚<br>align-selfå±æ€§å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-itemså±æ€§ã€‚é»˜è®¤å€¼ä¸ºautoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemså±æ€§ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäºstretch<br>é€šå¸¸æˆ‘ä»¬å®šä¹‰flex:1;<br><img src="/images/fb-11.png" alt="fb"><br>è¡¨ç¤ºçš„å°±æ˜¯è¿™ä¸‰ä¸ªï¼›</p>
<h3 id="3-1-order-å±æ€§"><a href="#3-1-order-å±æ€§" class="headerlink" title="3.1 order å±æ€§"></a>3.1 order å±æ€§</h3><p>htmlä»£ç ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box4"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item1 "</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-item1 order"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span>        /*æ³¨æ„æ˜¯ç¬¬äºŒä¸ªå…ƒç´ æœ‰Orderç±»*/</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>cssä»£ç ï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box4</span>&#123;</div><div class="line">            <span class="attribute">background</span>: gold;</div><div class="line">            <span class="attribute">margin</span>: <span class="number">1px</span>;</div><div class="line">            <span class="attribute">display</span>: flex;</div><div class="line">        &#125;</div><div class="line">        <span class="selector-class">.box-item1</span>&#123;</div><div class="line">           <span class="attribute">flex</span>: <span class="number">1</span>;</div><div class="line">            <span class="attribute">line-height</span>: <span class="number">100px</span>;</div><div class="line">            <span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">            <span class="attribute">color</span>: white;</div><div class="line">            <span class="attribute">text-align</span>: center;</div><div class="line">            <span class="attribute">margin</span>: <span class="number">5px</span>;</div><div class="line">            </div><div class="line">        &#125;</div><div class="line">        <span class="selector-class">.order</span>&#123;</div><div class="line">            <span class="attribute">background</span>: blue;</div><div class="line">            <span class="attribute">order</span>: -<span class="number">1</span>;  </div><div class="line">        &#125;</div></pre></td></tr></table></figure></p>
<p>æ•ˆæœå›¾ï¼š<br><img src="/images/fb-9.png" alt="fb"><br>å¦‚æœæˆ‘è¿™æ ·è®¾ç½®ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.order</span>&#123;</div><div class="line">            <span class="attribute">background</span>: blue;</div><div class="line">            <span class="attribute">order</span>: -<span class="number">1</span>;</div><div class="line">           <span class="attribute">flex-grow</span>:<span class="number">2</span>; <span class="comment">/*å¤šäº†è¿™ä¸ª*/</span></div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<p><img src="/images/fb-10.png" alt="fb"><br>å…¶ä»–çš„å»è¯•ä¸€è¯•ï¼Œå¤§æ¦‚å°±æ˜¯è¿™æ ·</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-åŸºæœ¬æ¦‚å¿µï¼Œå€Ÿç”¨é˜®ä¸€å³°è€å¸ˆçš„ä¸€å¼ å›¾ï¼š&quot;&gt;&lt;a href=&quot;#1-åŸºæœ¬æ¦‚å¿µï¼Œå€Ÿç”¨é˜®ä¸€å³°è€å¸ˆçš„ä¸€å¼ å›¾ï¼š&quot; class=&quot;headerlink&quot; title=&quot;1.åŸºæœ¬æ¦‚å¿µï¼Œå€Ÿç”¨é˜®ä¸€å³°è€å¸ˆçš„ä¸€å¼ å›¾ï¼š&quot;&gt;&lt;/a&gt;1.åŸºæœ¬æ¦‚å¿µï¼Œå€Ÿç”¨é˜®ä¸€å³°è€å¸ˆçš„ä¸€å¼ å›¾ï¼š&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/images/fb-1.png&quot; alt=&quot;fb&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="CSS" scheme="http://www.sulishibaobei.com/categories/CSS/"/>
    
    
      <category term="CSS" scheme="http://www.sulishibaobei.com/tags/CSS/"/>
    
      <category term="å¼¹æ€§å¸ƒå±€" scheme="http://www.sulishibaobei.com/tags/%E5%BC%B9%E6%80%A7%E5%B8%83%E5%B1%80/"/>
    
      <category term="Flexible" scheme="http://www.sulishibaobei.com/tags/Flexible/"/>
    
  </entry>
  
  <entry>
    <title>Angular 4+ HttpClient</title>
    <link href="http://www.sulishibaobei.com/angular/http/http-220170908/"/>
    <id>http://www.sulishibaobei.com/angular/http/http-220170908/</id>
    <published>2017-09-08T01:08:53.000Z</published>
    <updated>2017-09-08T11:40:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>Angular 4.3.0-rc.0 ç‰ˆæœ¬å·²ç»å‘å¸ƒğŸ¦ã€‚åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ç­‰åˆ°äº†ä¸€ä¸ªä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½ - HTTPClient API çš„æ”¹è¿›ç‰ˆæœ¬ï¼›<br>HttpClient æ˜¯å·²æœ‰ Angular HTTP API çš„æ¼”è¿›ï¼Œå®ƒåœ¨ä¸€ä¸ªå•ç‹¬çš„ @angular/common/http åŒ…ä¸­ã€‚è¿™æ˜¯ä¸ºäº†ç¡®ä¿ç°æœ‰çš„ä»£ç åº“å¯ä»¥ç¼“æ…¢è¿ç§»åˆ°æ–°çš„ APIï¼›<br>å¤§å¤šæ•°å‰ç«¯åº”ç”¨éƒ½éœ€è¦é€šè¿‡ HTTP åè®®ä¸åç«¯æœåŠ¡å™¨é€šè®¯ã€‚ç°ä»£æµè§ˆå™¨æ”¯æŒä½¿ç”¨ä¸¤ç§ä¸åŒçš„ API å‘èµ· HTTP è¯·æ±‚ï¼šXMLHttpRequest æ¥å£å’Œ fetch() APIï¼›<br><a id="more"></a><br>@angular/common/httpä¸­çš„HttpClientç±»ï¼ŒAngular ä¸ºåº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªç®€åŒ–çš„ API æ¥å®ç° HTTP åŠŸèƒ½ã€‚å®ƒåŸºäºæµè§ˆå™¨æä¾›çš„XMLHttpRequestæ¥å£ã€‚ HttpClientå¸¦æ¥çš„å…¶å®ƒä¼˜ç‚¹åŒ…æ‹¬ï¼šå¯æµ‹è¯•æ€§ã€å¼ºç±»å‹çš„è¯·æ±‚å’Œå“åº”å¯¹è±¡ã€å‘èµ·è¯·æ±‚ä¸æ¥æ”¶å“åº”æ—¶çš„æ‹¦æˆªå™¨æ”¯æŒï¼Œä»¥åŠæ›´å¥½çš„ã€åŸºäºå¯è§‚å¯Ÿï¼ˆObservableï¼‰å¯¹è±¡çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼›<br>1.å¦‚ä½•ä½¿ç”¨httpClient;</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;NgModule&#125; from <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123;BrowserModule&#125; from <span class="string">'@angular/platform-browser'</span>;</div><div class="line"><span class="keyword">import</span> &#123;HttpClientModule&#125; from <span class="string">'@angular/common/http'</span>;</div><div class="line"><span class="meta">@NgModule</span>(&#123;</div><div class="line">  imports: [</div><div class="line">    BrowserModule,</div><div class="line">    <span class="comment">// Include it under 'imports' in your application module</span></div><div class="line">    <span class="comment">// after BrowserModule.</span></div><div class="line">    HttpClientModule,</div><div class="line">  ],</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> MyAppModule &#123;&#125;</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šå¯¼å…¥æ–¹å¼å’ŒHttpModuleä¸€æ ·çš„ï¼Œè®°å¾—è¦åœ¨BrowserModuleåé¢å¯¼å…¥ï¼›åŒºåˆ«æ˜¯ï¼šåœ¨@angular/common/http æ¨¡å—é‡Œé¢ï¼Œè€Œä¸æ˜¯@angular/httpä¸­<br>è¿™æ ·æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›å•¦ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> HttpClient &#123;</div><div class="line">  request(first: <span class="built_in">string</span>|HttpRequest&lt;<span class="built_in">any</span>&gt;, url?: <span class="built_in">string</span>, options: &#123;...&#125;): Observable&lt;<span class="built_in">any</span>&gt;</div><div class="line">  <span class="keyword">delete</span>(url: <span class="built_in">string</span>, options: &#123;...&#125;): Observable&lt;<span class="built_in">any</span>&gt;</div><div class="line">  <span class="keyword">get</span>(url: <span class="built_in">string</span>, options: &#123;...&#125;): Observable&lt;<span class="built_in">any</span>&gt;</div><div class="line">  head(url: <span class="built_in">string</span>, options: &#123;...&#125;): Observable&lt;<span class="built_in">any</span>&gt;</div><div class="line">  jsonp&lt;T&gt;(url: <span class="built_in">string</span>, callbackParam: <span class="built_in">string</span>): Observable&lt;T&gt;</div><div class="line">  options(url: <span class="built_in">string</span>, options: &#123;...&#125;): Observable&lt;<span class="built_in">any</span>&gt;</div><div class="line">  patch(url: <span class="built_in">string</span>, body: <span class="built_in">any</span>|<span class="literal">null</span>, options: &#123;...&#125;): Observable&lt;<span class="built_in">any</span>&gt;</div><div class="line">  post(url: <span class="built_in">string</span>, body: <span class="built_in">any</span>|<span class="literal">null</span>, options: &#123;...&#125;): Observable&lt;<span class="built_in">any</span>&gt;</div><div class="line">  put(url: <span class="built_in">string</span>, body: <span class="built_in">any</span>|<span class="literal">null</span>, options: &#123;...&#125;): Observable&lt;<span class="built_in">any</span>&gt;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>2.å‘èµ·ä¸€ä¸ªè¯·æ±‚æ¥è·å–Jsonæ•°æ®ï¼›<br>é¦–å…ˆåˆ›å»ºä¸€ä¸ªjsonæ–‡ä»¶ï¼Œå…¶å®å°±æ˜¯ä¸Šä¸€ç¯‡çš„åŒä¸€ä¸ªjsonæ–‡ä»¶ï¼š<br>{<br>  â€œdataâ€: [<br>    { â€œidâ€: 1, â€œnameâ€: â€œWindstormâ€ },<br>    { â€œidâ€: 2, â€œnameâ€: â€œBombastoâ€ },<br>    { â€œidâ€: 3, â€œnameâ€: â€œMagnetaâ€ },<br>    { â€œidâ€: 4, â€œnameâ€: â€œTornadoâ€ }<br>  ]<br>}</p>
<p>æ€ä¹ˆè°ƒç”¨Httpè¯·æ±‚å‘¢ï¼Ÿ<br>2.1 app.componment.ts;</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Component,OnInit &#125; from <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123;HttpClient&#125; from <span class="string">'@angular/common/http'</span>;  <span class="comment">/*æ³¨é‡Š1*/</span></div><div class="line"><span class="meta">@Component</span>(&#123;</div><div class="line">  selector: <span class="string">'app-root'</span>,</div><div class="line">  templateUrl: <span class="string">'./app.component.html'</span>,</div><div class="line">  styleUrls: [<span class="string">'./app.component.css'</span>]</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppComponent  <span class="keyword">implements</span> OnInit &#123;</div><div class="line"><span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> http:HttpClient</span>)&#123;&#125; </div><div class="line"> datas:<span class="built_in">string</span>[];</div><div class="line">  ngOnInit()&#123;</div><div class="line">    <span class="keyword">this</span>.http.get(<span class="string">'./assets/heroes.json'</span>).subscribe(data=&gt;&#123;  <span class="comment">/*æ³¨é‡Š2*/</span></div><div class="line">         <span class="keyword">this</span>.datas=data[<span class="string">'data'</span>];</div><div class="line">         <span class="built_in">console</span>.log(<span class="keyword">this</span>.datas)</div><div class="line">    &#125;) </div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š<br>æ³¨é‡Š1ï¼šç»„ä»¶ä¸­å¼•å…¥çš„æ˜¯HttpClient,ä¹Ÿæ˜¯åœ¨å•ç‹¬çš„åº“ï¼Œ@angular/common/httpä¸­;ä¹‹å‰çš„é¡¹ç›®é‡Œé¢å¼•å…¥çš„ä¸€ç›´éƒ½æ˜¯httpï¼Œè¿™å°±æ˜¯æ”¹ç‰ˆåçš„åŒºåˆ«ï¼›<br>æ³¨é‡Š2ï¼šç°åœ¨ JSON æ˜¯é»˜è®¤çš„æ•°æ®æ ¼å¼ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†è¿›è¡Œæ˜¾å¼çš„è§£æï¼›this.http.get(â€˜xxâ€™).subscribe();ä¹‹å‰çš„è¿˜éœ€è¦res.json()å»æ‰‹åŠ¨è½¬ï¼›<br>è¿˜æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼šæˆ‘å¹¶æ²¡æœ‰å»hero.service.tsé‡Œé¢å»æ“ä½œäº†ï¼Œè€Œæ˜¯ç›´æ¥åœ¨ç»„ä»¶ä¸­å‘è¯·æ±‚è·å–æ•°æ®ï¼Œè¿™æ ·æ›´åŠ ç®€å•æ˜äº†ï¼›<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">ul</span>  *<span class="attr">ngFor</span>=<span class="string">"let data of datas"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;data.id&#125;&#125;  &#123;&#123;data.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>htmlä»£ç è¿˜æ˜¯ä¸€æ ·ç®€å•ï¼Œå¹¶æ²¡æœ‰æ”¹å˜ï¼›<br>è¿™æ˜¯ç›¸æ¯”è¾ƒä¹‹å‰çš„Httpç®€å•çš„æ–¹å¼ï¼›</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">get</span>(url: <span class="built_in">string</span>, options: &#123;</div><div class="line">  headers?: HttpHeaders,</div><div class="line">  observe?: HttpObserve,</div><div class="line">  params?: HttpParams,</div><div class="line">  reportProgress?: <span class="built_in">boolean</span>,</div><div class="line">  responseType?: <span class="string">'arraybuffer'</span>|<span class="string">'blob'</span>|<span class="string">'json'</span>|<span class="string">'text'</span>,</div><div class="line">  withCredentials?: <span class="built_in">boolean</span>,</div><div class="line">&#125;): Observable&lt;<span class="built_in">any</span>&gt;</div></pre></td></tr></table></figure>
<p>è¿™æ˜¯getæ–¹æ³•è¯¦è§£ï¼Œè¯·æ³¨æ„ï¼Œè¿”å›çš„éƒ½æ˜¯observableå¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨promiseäº†ï¼›<br>3.å“åº”ä½“çš„æ£€æŸ¥<br>3.1ä¸Šé¢çš„ä»£ç ä¸­ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"> datas:<span class="built_in">string</span>[];   <span class="comment">//å®šä¹‰ä¸€ä¸ªæ¥å£æ¥æè¿°è¿™ä¸ªç±»å‹çš„æ­£ç¡®å½¢æ€</span></div><div class="line"><span class="keyword">this</span>.datas=data[<span class="string">'data'</span>]; <span class="comment">/*æ³¨é‡Š1*/</span></div></pre></td></tr></table></figure>
<p>æ³¨é‡Š1ï¼šæˆ‘ä»¬å–jsonå¯¹è±¡dataå€¼æ—¶è¦data[â€˜dataâ€™]ï¼Œè€Œä¸æ˜¯ä¹‹å‰çš„data.dataäº†ï¼›å¦‚æœæ”¹æˆï¼š<br> <code>this.datas=data.data;</code><br>ä¼šæŠ¥é”™ï¼š<code>does not exist on type &#39;Object</code><br>é‚£æ˜¯å› ä¸ºHttpClientæŠŠ JSON æ ¼å¼çš„å“åº”ä½“è§£ææˆäº†ä¸€ä¸ªObjectï¼Œå®ƒå¹¶ä¸çŸ¥é“è¿™ä¸ªå¯¹è±¡çš„å½¢æ€åº”è¯¥æ˜¯ä»€ä¹ˆã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥å‘Šè¯‰ä½ éœ€è¦å–å¾—dataæ˜¯ä¸ªä»€ä¹ˆç±»å‹ï¼›è¿™ä¹Ÿæ˜¯æ›´ç¬¦åˆtypescriptè¯­æ³•çš„åšæ³•ï¼›<br>4.å¦‚æœå°†è¦è·å–çš„ä¸æ˜¯JSONæ–‡ä»¶å¦‚ä½•ï¼Ÿ<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">this</span>.http.get(<span class="string">'/assets/1.txt'</span>,&#123;responseType:<span class="string">'text'</span>&#125;).subscribe(</div><div class="line">      data=&gt;<span class="built_in">console</span>.log(data)</div><div class="line">)</div></pre></td></tr></table></figure></p>
<p>æ³¨æ„ï¼šè¿™æ ·æˆ‘ä»¬å°±è¦æŒ‡å®šéœ€è¦è·å–çš„æ–‡æœ¬æ ¼å¼ï¼›<br>æ§åˆ¶å°å°†ä¼šæ‰“å°æˆ‘çš„1.txtä¸­çš„å†…å®¹ï¼šwww.sulishibaobei.com<br> 5.å¦‚ä½•å¸¦å‚æŸ¥è¯¢æ•°æ®</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> params = <span class="keyword">new</span> HttpParams()</div><div class="line">  .set(<span class="string">'id'</span>, <span class="string">'1'</span>).set(<span class="string">'name'</span>,<span class="string">'Windstorm'</span>)</div><div class="line">  <span class="keyword">this</span>.cus=<span class="keyword">this</span>.http.get(<span class="string">'assets/heroes.json'</span>,&#123;params&#125;)</div><div class="line">  .do(<span class="built_in">console</span>.log)</div><div class="line">  .map(data=&gt;</div><div class="line">      <span class="built_in">console</span>.log( _.values(data))</div><div class="line">  );</div></pre></td></tr></table></figure>
<p>å¼•å…¥ï¼šhttpParamså‚æ•°ï¼š<br><code>import {HttpClient, HttpParams} from &#39;@angular/common/http&#39;;</code><br>æˆ‘ä»¬é€šè¿‡é“¾å¼è¯­æ³•è°ƒç”¨set()æ–¹æ³•ï¼Œæ„å»ºäº†paramså¯¹è±¡ï¼›æ¯å½“set()æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œéƒ½ä¼šåŒ…å«æ–°çš„å€¼è¿›æ¥ï¼Œå¹¶ä¸”é˜²æ­¢ä¹‹å‰å¯¹è±¡ä¸è¢«ä¿®æ”¹ï¼›<br><a href="http://localhost:4200/assets/heroes.json?id=1&amp;name=Windstorm" target="_blank" rel="external">http://localhost:4200/assets/heroes.json?id=1&amp;name=Windstorm</a><br>è¯·æ±‚çš„é“¾æ¥åœ°å€å°†ä¼šæ˜¯è¿™æ ·çš„å½¢å¼ï¼›è¿™ä¸ªæœ‰ç‚¹åƒhttpé‡Œæ·»åŠ urlå‚æ•°ï¼›<br>è¿˜å¯ä»¥è®¾ç½®Headersï¼›<br><code>const headers = new HttpHeaders().set(&quot;X-CustomHeader&quot;, &quot;custom header value&quot;);</code><br>è¿˜æœ‰å…¶ä»–çš„è¯·æ±‚ï¼Œä¹‹åä¼šé€ä¸€åˆ†æï¼›<br>å¦å¤–è¿˜æœ‰å‡ ç‚¹æ¯”è¾ƒé‡è¦çš„ï¼šå¤šè¡Œå¹¶å‘å‘é€è¯·æ±‚å’Œé¡ºåºå‘é€è¯·æ±‚ï¼Œé¿å…å‘é€é‡å¤è¯·æ±‚ï¼› </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">'rxjs/add/operator/shareReplay'</span>;</div><div class="line"><span class="keyword">const</span> httpGet = <span class="keyword">this</span>.http</div><div class="line">    .get(<span class="string">"assets/heroes.json"</span>)</div><div class="line">    .map(data =&gt; _.values(data))</div><div class="line">    .shareReplay();</div></pre></td></tr></table></figure>
<p>è¿™æ ·å³ä½¿ä½ å°† httpGetå†èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œæˆ–é‡å¤è°ƒç”¨ä¹Ÿä¸ä¼šå†æ¬¡è¯·æ±‚äº†<br>å¹¶è¡Œå‘é€ HTTP è¯·æ±‚çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ RxJs ä¸­çš„ forkjoin æ“ä½œç¬¦ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">'rxjs/add/observable/forkJoin'</span>;</div><div class="line">Requests() &#123;</div><div class="line">    <span class="keyword">const</span> result = Observable.forkJoin(</div><div class="line">        <span class="keyword">this</span>.http.get(<span class="string">'/assets/heroes.json'</span>),</div><div class="line">        <span class="keyword">this</span>.http.get(<span class="string">'/assets/heroes.json'</span>)</div><div class="line">    );</div><div class="line"></div><div class="line">   result.subscribe(</div><div class="line">        values =&gt; &#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">"all values"</span>, values)</div><div class="line">        &#125;</div><div class="line">    );</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é¡ºåºå‘é€è¯·æ±‚</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">sequentialRequests() &#123;</div><div class="line">    <span class="keyword">const</span> sequence$ = <span class="keyword">this</span>.http.get&lt;Hero&gt;(<span class="string">'/assets/heroes.json'</span>)</div><div class="line">        .switchMap(hero =&gt; &#123;</div><div class="line">            hero.id+= <span class="string">' - TEST '</span>;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.http.put(<span class="string">'/assets/heroes.json'</span>, hero)</div><div class="line">        &#125;);</div><div class="line">        </div><div class="line">    sequence$.subscribe();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>6.æ‹¦æˆªå™¨  ï¼ˆæ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚å’Œå“åº”è¿™ä¹Ÿæ˜¯@angular/common/httpçš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ï¼‰<br>å®ƒèƒ½å£°æ˜ä¸€äº›æ‹¦æˆªå™¨ï¼Œæ‹¦åœ¨åº”ç”¨å’Œåç«¯ä¹‹é—´ã€‚å½“åº”ç”¨ç¨‹åºå‘èµ·ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œæ‹¦æˆªå™¨å¯ä»¥åœ¨è¯·æ±‚è¢«å‘å¾€æœåŠ¡å™¨ä¹‹å‰å…ˆè½¬æ¢è¿™ä¸ªè¯·æ±‚ã€‚å¹¶ä¸”åœ¨åº”ç”¨çœ‹åˆ°æœåŠ¡å™¨å‘å›æ¥çš„å“åº”ä¹‹å‰ï¼Œè½¬æ¢è¿™ä¸ªå“åº”ã€‚è¿™å¯¹äºå¤„ç†åŒ…æ‹¬è®¤è¯å’Œè®°å½•æ—¥å¿—åœ¨å†…çš„ä¸€ç³»åˆ—å·¥ä½œéƒ½éå¸¸æœ‰ç”¨ã€‚<br>6.1 å¦‚ä½•å†™ä¸€ä¸ªæ‹¦æˆªå™¨</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Injectable&#125; from <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123;HttpEvent, HttpInterceptor, HttpHandler, HttpRequest, HttpResponse&#125; from <span class="string">'@angular/common/http'</span>;</div><div class="line"><span class="keyword">import</span> &#123;Observable&#125; from <span class="string">'Rxjs/Observable'</span>;</div><div class="line"></div><div class="line"><span class="meta">@Injectable</span>()</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> NoopInterceptor <span class="keyword">implements</span> HttpInterceptor &#123;</div><div class="line">   intercept(req: HttpRequest&lt;<span class="built_in">any</span>&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;<span class="built_in">any</span>&gt;&gt; &#123;</div><div class="line">       <span class="keyword">return</span> next.handle(req).map(event =&gt; &#123;</div><div class="line">        <span class="keyword">if</span> (event <span class="keyword">instanceof</span> HttpResponse) &#123;</div><div class="line">          <span class="keyword">if</span> (event.status === <span class="number">401</span>) &#123;</div><div class="line">            <span class="comment">// JWT expired, go to login</span></div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> event;</div><div class="line">      &#125;</div><div class="line">   &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>1.interceptæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒæŠŠä¸€ä¸ªè¯·æ±‚å¯¹è±¡è½¬æ¢æˆä¸€ä¸ªè¿”å›è¿™ä¸ªå“åº”çš„å¯è§‚å¯Ÿå¯¹è±¡ï¼ˆObservableï¼‰ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œæ¯ä¸ªæ‹¦æˆªå™¨éƒ½è¦å®Œå…¨è‡ªå·±å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼›<br>2.å“åº”æ‹¦æˆªå™¨å¯ä»¥é€šè¿‡åœ¨ next.handle(req) è¿”å›çš„æµå¯¹è±¡ (å³ Observable å¯¹è±¡) ä¸Šåº”ç”¨é™„åŠ çš„ Rx æ“ä½œç¬¦æ¥è½¬æ¢å“åº”äº‹ä»¶æµå¯¹è±¡ï¼›<br>å†…éƒ¨å¯ä»¥åšè‡ªå·±çš„å¤„ç†æ“ä½œï¼›<br>ä½†æ˜¯æ­¤æ—¶æ‹¦æˆªå™¨è¿˜æœªä½¿ç”¨åœ¨ç»„ä»¶ä¸Šï¼›</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;NgModule&#125; from <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123;HTTP_INTERCEPTORS&#125; from <span class="string">'@angular/common/http'</span>;</div><div class="line"><span class="meta">@NgModule</span>(&#123;</div><div class="line">  providers: [&#123;</div><div class="line">    provide: HTTP_INTERCEPTORS,</div><div class="line">    useClass: NoopInterceptor,</div><div class="line">    multi: <span class="literal">true</span>,</div><div class="line">  &#125;],</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppModule &#123;&#125;</div></pre></td></tr></table></figure>
<p>providersé‡Œé¢é…ç½®æˆ‘ä»¬çš„ä¿¡æ¯ï¼›<br>æ³¨æ„multi: trueé€‰é¡¹ã€‚è¿™æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºå®ƒä¼šå‘Šè¯‰ Angular è¿™ä¸ª HTTP_INTERCEPTORS è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè€Œä¸æ˜¯å•ä¸ªçš„å€¼ï¼›</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Angular 4.3.0-rc.0 ç‰ˆæœ¬å·²ç»å‘å¸ƒğŸ¦ã€‚åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ç­‰åˆ°äº†ä¸€ä¸ªä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½ - HTTPClient API çš„æ”¹è¿›ç‰ˆæœ¬ï¼›&lt;br&gt;HttpClient æ˜¯å·²æœ‰ Angular HTTP API çš„æ¼”è¿›ï¼Œå®ƒåœ¨ä¸€ä¸ªå•ç‹¬çš„ @angular/common/http åŒ…ä¸­ã€‚è¿™æ˜¯ä¸ºäº†ç¡®ä¿ç°æœ‰çš„ä»£ç åº“å¯ä»¥ç¼“æ…¢è¿ç§»åˆ°æ–°çš„ APIï¼›&lt;br&gt;å¤§å¤šæ•°å‰ç«¯åº”ç”¨éƒ½éœ€è¦é€šè¿‡ HTTP åè®®ä¸åç«¯æœåŠ¡å™¨é€šè®¯ã€‚ç°ä»£æµè§ˆå™¨æ”¯æŒä½¿ç”¨ä¸¤ç§ä¸åŒçš„ API å‘èµ· HTTP è¯·æ±‚ï¼šXMLHttpRequest æ¥å£å’Œ fetch() APIï¼›&lt;br&gt;
    
    </summary>
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/categories/Angular-2/"/>
    
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/tags/Angular-2/"/>
    
      <category term="httpClient" scheme="http://www.sulishibaobei.com/tags/httpClient/"/>
    
  </entry>
  
  <entry>
    <title>Angular 4+ Http</title>
    <link href="http://www.sulishibaobei.com/angular/http/http-120170908/"/>
    <id>http://www.sulishibaobei.com/angular/http/http-120170908/</id>
    <published>2017-09-08T01:08:53.000Z</published>
    <updated>2017-09-08T13:13:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>HTTP: ä½¿åº”ç”¨èƒ½å¤Ÿå¯¹è¿œç«¯æœåŠ¡å™¨å‘èµ·ç›¸åº”çš„Httpè°ƒç”¨ï¼›<br>ä½ è¦çŸ¥é“ï¼šHttpModuleå¹¶ä¸æ˜¯Angularçš„æ ¸å¿ƒæ¨¡å—ï¼Œå®ƒæ˜¯Angualrç”¨æ¥è¿›è¡ŒWebè®¿é—®çš„ä¸€ç§å¯é€‰æ–¹å¼ï¼Œå¹¶ä½äºä¸€ä¸ªåå«@angual/httpçš„ç‹¬ç«‹é™„å±æ¨¡å—ä¸­ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼šä½¿ç”¨httpä¹‹å‰è¦å¼•å…¥æ­¤æ¨¡å—;<br><a id="more"></a></p>
<h2 id="1-åŸºæœ¬ä½¿ç”¨ï¼š"><a href="#1-åŸºæœ¬ä½¿ç”¨ï¼š" class="headerlink" title="1.åŸºæœ¬ä½¿ç”¨ï¼š"></a>1.åŸºæœ¬ä½¿ç”¨ï¼š</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; BrowserModule &#125; from <span class="string">'@angular/platform-browser'</span>;</div><div class="line"><span class="keyword">import</span> &#123; NgModule &#125; from <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123;HttpModule&#125; from <span class="string">'@angular/http'</span>;  <span class="comment">/*å¼•å…¥å®ƒ*/</span></div><div class="line"><span class="keyword">import</span> &#123; AppComponent &#125; from <span class="string">'./app.component'</span>;</div><div class="line"><span class="meta">@NgModule</span>(&#123;</div><div class="line">  declarations: [</div><div class="line">    AppComponent</div><div class="line">  ],</div><div class="line">  imports: [</div><div class="line">    BrowserModule,</div><div class="line">    HttpModule  <span class="comment">/*å¯¼å…¥*/</span></div><div class="line">  ],</div><div class="line">  providers: [],</div><div class="line">  bootstrap: [AppComponent]</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppModule &#123; &#125;</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œç°åœ¨HttpModuleå·²ç»æ˜¯æ ¹æ¨¡å—AppModuleçš„importsæ•°ç»„çš„ä¸€éƒ¨åˆ†äº†;</p>
<h2 id="2-ä»‹ç»æ¨¡æ‹Ÿweb-api-å‘é€è¯·æ±‚"><a href="#2-ä»‹ç»æ¨¡æ‹Ÿweb-api-å‘é€è¯·æ±‚" class="headerlink" title="2.ä»‹ç»æ¨¡æ‹Ÿweb api å‘é€è¯·æ±‚"></a>2.ä»‹ç»æ¨¡æ‹Ÿweb api å‘é€è¯·æ±‚</h2><p>æ³¨æ„ï¼šæ˜¯åœ¨ä½ æ²¡æœ‰çœŸå®çš„è¿œç¨‹æœåŠ¡è¯·æ±‚åœ°å€æ—¶ï¼Œè‡ªå·±æ¨¡æ‹Ÿä¸€ä¸ªwebæœåŠ¡ï¼Œç”¨äºæµ‹è¯•ä»£ç ï¼›å€˜è‹¥æœ‰çœŸå®çš„è¿œç¨‹æœåŠ¡å™¨ï¼Œåˆ™ä¸éœ€è¦è¿™ä¸ªï¼›</p>
<h3 id="2-1-å¼•å…¥InMemoryWebApiModuleï¼Œ"><a href="#2-1-å¼•å…¥InMemoryWebApiModuleï¼Œ" class="headerlink" title="2.1 å¼•å…¥InMemoryWebApiModuleï¼Œ"></a>2.1 å¼•å…¥InMemoryWebApiModuleï¼Œ</h3><p>è¿™æ˜¯Angularæä¾›çš„ä¸€ä¸ªè¾…åŠ©æœåŠ¡ï¼Œè´Ÿè´£ä¸è¿œç¨‹æœåŠ¡å™¨å¯¹è¯ â€” æ›¿æ¢æˆäº†å†…å­˜ Web APIæœåŠ¡ï¼Œç±»ä¼¼äºåç«¯æœåŠ¡ï¼›<b>import { InMemoryWebApiModule } from â€˜angular-in-memory-web-apiâ€™;</b><br>æ³¨æ„ï¼šå¯¼å…¥è¿™ä¸ªï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼Œå¯èƒ½æ˜¯ä½ çš„node-module æ–‡ä»¶åº“é‡Œé¢æ²¡æœ‰æ­¤åº“ï¼Œè¿™æ—¶å€™æ‰“å¼€ä½ çš„package.jsonæ–‡ä»¶ï¼š<b>â€œdependenciesâ€</b>é‡Œé¢é…ç½®è¿™æ ·ä¸€å¥ï¼š<b>â€œangular-in-memory-web-apiâ€: â€œ^0.3.2â€</b> é‡æ–°è¿è¡Œ<b>npm install</b>;</p>
<h3 id="2-2-å‘å†…å­˜æœåŠ¡ä¸­æ³¨å…¥æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®æ˜¯ä¸èƒ½è¿è¡Œçš„ï¼›"><a href="#2-2-å‘å†…å­˜æœåŠ¡ä¸­æ³¨å…¥æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®æ˜¯ä¸èƒ½è¿è¡Œçš„ï¼›" class="headerlink" title="2.2 å‘å†…å­˜æœåŠ¡ä¸­æ³¨å…¥æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®æ˜¯ä¸èƒ½è¿è¡Œçš„ï¼›"></a>2.2 å‘å†…å­˜æœåŠ¡ä¸­æ³¨å…¥æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®æ˜¯ä¸èƒ½è¿è¡Œçš„ï¼›</h3><p><b>import { InMemoryDataService }  from â€˜./in-memory-data.serviceâ€™;</b><br>æ³¨æ„å‡ ç‚¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">in</span>-memory-data.service.ts æ–‡ä»¶æ˜¯ä½ è‡ªå·±åˆ›å»ºçš„ï¼Œç”¨æ¥å­˜æ”¾å®ä¾‹æ•°æ®çš„ï¼›</div><div class="line"><span class="keyword">in</span>-memory-data.service.ts è¿™æ ·å†™ï¼š</div><div class="line"><span class="keyword">import</span> &#123; InMemoryDbService &#125; <span class="keyword">from</span> <span class="string">'angular-in-memory-web-api'</span>;</div><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">InMemoryDataService</span>  <span class="title">implements</span> <span class="title">InMemoryDbService</span></span>&#123;</div><div class="line">   createDb() &#123;</div><div class="line">    <span class="keyword">const</span> heroes = [</div><div class="line">      &#123; <span class="attr">id</span>: <span class="number">0</span>,  <span class="attr">name</span>: <span class="string">'Zero'</span> &#125;,</div><div class="line">      &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">'Mr. Nice'</span> &#125;,</div><div class="line">      &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">'Narco'</span> &#125;,</div><div class="line">      &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">'Bombasto'</span> &#125;,</div><div class="line">    ];</div><div class="line">    <span class="keyword">return</span> &#123;heroes&#125;;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œç›¸å½“äºè‡ªå·±åˆ›å»ºäº†ä¸€ä¸ªå†…éƒ¨æ•°æ®åº“ï¼›</p>
<h3 id="2-3å¯¼å…¥çš„æ–‡ä»¶å¦‚ä½•åœ¨app-module-tsä¸­æ³¨å…¥ï¼š"><a href="#2-3å¯¼å…¥çš„æ–‡ä»¶å¦‚ä½•åœ¨app-module-tsä¸­æ³¨å…¥ï¼š" class="headerlink" title="2.3å¯¼å…¥çš„æ–‡ä»¶å¦‚ä½•åœ¨app.module.tsä¸­æ³¨å…¥ï¼š"></a>2.3å¯¼å…¥çš„æ–‡ä»¶å¦‚ä½•åœ¨app.module.tsä¸­æ³¨å…¥ï¼š</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; BrowserModule &#125; <span class="keyword">from</span> <span class="string">'@angular/platform-browser'</span>;</div><div class="line"><span class="keyword">import</span> &#123; NgModule &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123;HttpModule&#125; <span class="keyword">from</span> <span class="string">'@angular/http'</span>;</div><div class="line"><span class="keyword">import</span> &#123; InMemoryWebApiModule &#125; <span class="keyword">from</span> <span class="string">'angular-in-memory-web-api'</span>;</div><div class="line"><span class="keyword">import</span> &#123; InMemoryDataService &#125;  <span class="keyword">from</span> <span class="string">'./in-memory-data.service'</span>;</div><div class="line"><span class="keyword">import</span> &#123; AppComponent &#125; <span class="keyword">from</span> <span class="string">'./app.component'</span>;</div><div class="line">@NgModule(&#123;</div><div class="line">  <span class="attr">declarations</span>: [</div><div class="line">    AppComponent</div><div class="line">  ],</div><div class="line">  <span class="attr">imports</span>: [</div><div class="line">    BrowserModule,</div><div class="line">    HttpModule,</div><div class="line">    InMemoryWebApiModule.forRoot(InMemoryDataService),  <span class="comment">/*è¿™æ ·æ³¨å…¥*/</span></div><div class="line">  ],</div><div class="line">  <span class="attr">providers</span>: [],</div><div class="line">  <span class="attr">bootstrap</span>: [AppComponent]</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">AppModule</span> </span>&#123; &#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œç°åœ¨å°±æ˜¯å…¨éƒ¨ä»£ç ï¼›</p>
<h2 id="3-å¦‚ä½•å‘èµ·httpè¯·æ±‚ï¼›"><a href="#3-å¦‚ä½•å‘èµ·httpè¯·æ±‚ï¼›" class="headerlink" title="3.å¦‚ä½•å‘èµ·httpè¯·æ±‚ï¼›"></a>3.å¦‚ä½•å‘èµ·httpè¯·æ±‚ï¼›</h2><h3 id="3-1åˆ›å»ºä¸€ä¸ªæœåŠ¡ï¼›"><a href="#3-1åˆ›å»ºä¸€ä¸ªæœåŠ¡ï¼›" class="headerlink" title="3.1åˆ›å»ºä¸€ä¸ªæœåŠ¡ï¼›"></a>3.1åˆ›å»ºä¸€ä¸ªæœåŠ¡ï¼›</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Injectable&#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</div><div class="line">@Injectable()</div><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">HeroService</span></span>&#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>angular ä¸­æ‰€æœ‰åˆ›å»ºæœåŠ¡çš„æ¨¡å¼éƒ½æ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªHeroServiceçš„æ–‡ä»¶ï¼Œä¸‹è½½è¦åœ¨app.module.tsä¸­æ³¨å…¥å®ƒï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;HeroService&#125; <span class="keyword">from</span> <span class="string">'./hero.service'</span>;</div><div class="line">  providers: [HeroService],</div><div class="line">  <span class="attr">bootstrap</span>: [AppComponent]</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š<br>1.providers æ˜¯ä¸“é—¨ç”¨æ¥æ³¨å…¥æœåŠ¡çš„ï¼›</p>
<ol>
<li>å¯ä»¥åœ¨app.module.tsé‡Œçš„providersä¸­æ³¨å…¥æœåŠ¡ï¼Œä¹Ÿå¯ä»¥åœ¨ä½ çš„å­æ¨¡å—å’Œç»„ä»¶ä¸­æ³¨å…¥ï¼Œ<br>å‰è€…æ˜¯å…±äº«çš„æœåŠ¡ï¼Œä¸€æ¬¡æ³¨å…¥ï¼Œæ•´ä¸ªé¡¹ç›®éƒ½æœ‰æ•ˆï¼Œå¦‚æœåœ¨å­æ¨¡å—ä¸­æˆ–è€…å­ç»„ä»¶ä¸­æ³¨å…¥ï¼Œè¿™åªæ˜¯ä½ å±äºå½“å‰æ¨¡å—æˆ–å½“å‰ç»„ä»¶ä¸‹æœ‰æ•ˆï¼Œå…¶ä»–çš„ç»„ä»¶éœ€è¦ä½¿ç”¨ï¼Œéƒ½å¾—è‡ªå·±é‡æ–°æ³¨å…¥ï¼›<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼šè¿”å›çš„æ˜¯ä¸€ä¸ªèƒ½è§£æçš„promise(æ‰¿è¯º)<h3 id="3-2-å¼•å…¥http"><a href="#3-2-å¼•å…¥http" class="headerlink" title="3.2 å¼•å…¥http  ;"></a>3.2 å¼•å…¥http  ;</h3></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Http&#125; <span class="keyword">from</span> <span class="string">'@angular/http'</span>;</div><div class="line"><span class="keyword">constructor</span>(private http:Http)&#123; &#125;</div></pre></td></tr></table></figure>
<p>ä¸€å®šè¦åœ¨æ„é€ é‡Œåˆ›å»ºå®ƒï¼›</p>
<h3 id="3-3-å°è¯•è·å–å†…å­˜æ•°æ®åº“é‡Œé¢çš„ä¿¡æ¯ï¼›"><a href="#3-3-å°è¯•è·å–å†…å­˜æ•°æ®åº“é‡Œé¢çš„ä¿¡æ¯ï¼›" class="headerlink" title="3.3 å°è¯•è·å–å†…å­˜æ•°æ®åº“é‡Œé¢çš„ä¿¡æ¯ï¼›"></a>3.3 å°è¯•è·å–å†…å­˜æ•°æ®åº“é‡Œé¢çš„ä¿¡æ¯ï¼›</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Injectable&#125; from <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123;Http&#125; from <span class="string">'@angular/http'</span>;</div><div class="line"><span class="keyword">import</span> <span class="string">'rxjs/add/operator/toPromise'</span>;</div><div class="line"><span class="keyword">import</span> &#123;Hero&#125; from <span class="string">'./hero'</span>;</div><div class="line"><span class="meta">@Injectable</span>()</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> HeroService&#123;</div><div class="line">    <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> http:Http</span>)&#123; </div><div class="line"> <span class="comment">/*æ³¨é‡Š1*/</span>  <span class="keyword">private</span> heroUrl=<span class="string">'api/heroes'</span>;</div><div class="line"> <span class="comment">/*æ³¨é‡Š2*/</span>     getHeroes(): Promise&lt;Hero[]&gt;&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.http.get(<span class="keyword">this</span>.heroUrl)</div><div class="line"> <span class="comment">/*æ³¨é‡Š3*/</span>             .toPromise()</div><div class="line"> <span class="comment">/*æ³¨é‡Š4*/</span>             .then(response =&gt;response.json().data as Hero[])</div><div class="line"><span class="comment">/*æ³¨é‡Š5*/</span>              .catch((error: <span class="built_in">any</span>) =&gt; Promise.reject(error || <span class="string">"Server error"</span>));</div><div class="line">                          &#125;</div><div class="line">            &#125;</div></pre></td></tr></table></figure>
<p>ç°åœ¨æˆ‘å†™äº†ä¸€ä¸ªgetHeroes()çš„æ–¹æ³•ï¼š<br>è§£æå‡ ç‚¹ï¼š<br>æ³¨é‡Š1ï¼šhttpè¯·æ±‚è‚¯å®šéœ€è¦Urlåœ°å€ï¼Œè¿™é‡Œéœ€è¦å¯¼å…¥æ•°æ®åº“é‡Œé¢çš„åï¼›api/heroes å…¶å®å°±æ˜¯ä½ å†…å­˜æ•°æ®åº“ web apié‡Œé¢<code>return {heroes};</code><br>æ ¹æ®ä½ è¿”å›çš„å€¼ï¼Œè°ƒç”¨ç›¸åº”çš„apiåœ°å€ï¼›<br>æ³¨é‡Š2ï¼šä½¿ç”¨çš„æ˜¯httpæ‰¿è¯ºï¼ˆpromiseï¼‰ï¼Œä¸€å®šè¦æœ‰è¿”å›å€¼ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå¯ä»¥è§£ææˆè‹±é›„åˆ—è¡¨çš„Observableå¯¹è±¡ ,ä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„Heroï¼›ä¹Ÿå°±æ˜¯éœ€è¦å¯¼å…¥è¿™ä¸ª<code>import {Hero} from &#39;./hero&#39;;</code><br>hero.tsæ–‡ä»¶åŒ…å«ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Hero</span></span>&#123;</div><div class="line">    id:number;</div><div class="line">    name:string;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Observableï¼ˆå¯è§‚å¯Ÿå¯¹è±¡ï¼‰æ˜¯ä¸€ä¸ªç®¡ç†å¼‚æ­¥æ•°æ®æµçš„å¼ºåŠ›æ–¹å¼ï¼Œåç»­ä¼šå­¦ä¹ ï¼›<br>æ³¨é‡Š3ï¼š.toPromiseä¼šå°†æˆ‘ä»¬å¾—åˆ°çš„Observableå¯¹è±¡è½¬åŒ–æˆpromiseå¯¹è±¡ï¼›<br>ä½†æ˜¯Angularä¸­çš„observableå¯¹è±¡å¹¶æ²¡æœ‰ä¸€ä¸ªtopromiseæ“ä½œç¬¦ï¼Œè¿™é‡Œå°±éœ€è¦å€ŸåŠ©å…¶ä»–å·¥å…·ï¼Œ<code>import &#39;rxjs/add/operator/toPromise&#39;;</code><br>æ›´å¤šè¯¦ç»†çš„å¯ä»¥çœ‹rxjsåº“æ“ä½œç¬¦ï¼›<br>æ³¨é‡Š4ï¼šåœ¨ then å›è°ƒä¸­æå–å‡ºæ•°æ®ï¼Œè¿™ä¹Ÿæ˜¯angularä¸­ä¸€å¤§ç‰¹ç‚¹ï¼Œé»˜è®¤ JSON è§£æ,è¿™ä¸ªç”±jsonæ–¹æ³•è¿”å›çš„å¯¹è±¡åªæœ‰ä¸€ä¸ªdataå±æ€§ã€‚<br>è¿™ä¸ªdataå±æ€§ä¿å­˜äº†è‹±é›„æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„æ‰æ˜¯è°ƒç”¨è€…çœŸæ­£æƒ³è¦çš„ã€‚ æ‰€ä»¥æˆ‘ä»¬å–å¾—è¿™ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”æŠŠå®ƒä½œä¸ºæ‰¿è¯ºçš„å€¼è¿›è¡Œè§£æ<br>æ³¨æ„ï¼šweb api è¿”å›çš„æ˜¯å¸¦æœ‰dataå±æ€§çš„å¯¹è±¡ï¼Œè€Œä½ çœŸæ˜¯çš„apiå¯ä»¥è¿”å›å…¶ä»–å€¼çš„ï¼›<br>æ³¨é‡Š5ï¼šé”™è¯¯å¤„ç†,æœ‰å¼‚å¸¸å¾ˆæ­£å¸¸ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»–ä»¬ä¼ ç»™é”™è¯¯å¤„ç†å™¨ï¼›ç°åœ¨æˆ‘ä»¬åªæ˜¯å°†é”™è¯¯è®°å½•åˆ°æ§åˆ¶å°ï¼ŒçœŸå®æ¡ˆä¾‹ä¸­ï¼Œå¯ä»¥å°†é”™è¯¯è¿›è¡Œå¤„ç†ï¼›</p>
<h2 id="4-å¦‚ä½•å°†è·å¾—çš„æ•°æ®æ˜¾ç¤ºåœ¨ç•Œé¢ï¼›"><a href="#4-å¦‚ä½•å°†è·å¾—çš„æ•°æ®æ˜¾ç¤ºåœ¨ç•Œé¢ï¼›" class="headerlink" title="4.å¦‚ä½•å°†è·å¾—çš„æ•°æ®æ˜¾ç¤ºåœ¨ç•Œé¢ï¼›"></a>4.å¦‚ä½•å°†è·å¾—çš„æ•°æ®æ˜¾ç¤ºåœ¨ç•Œé¢ï¼›</h2><h3 id="4-1-ç»„ä»¶ä¸­è°ƒç”¨Hero-service-tsï¼›"><a href="#4-1-ç»„ä»¶ä¸­è°ƒç”¨Hero-service-tsï¼›" class="headerlink" title="4.1 ç»„ä»¶ä¸­è°ƒç”¨Hero.service.tsï¼›"></a>4.1 ç»„ä»¶ä¸­è°ƒç”¨Hero.service.tsï¼›</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123;HeroService&#125; <span class="keyword">from</span> <span class="string">'./hero.service'</span>;</div><div class="line"><span class="keyword">import</span> &#123;Hero&#125;  <span class="keyword">from</span> <span class="string">'./hero'</span>;</div><div class="line">@Component(&#123;</div><div class="line">  <span class="attr">selector</span>: <span class="string">'app-root'</span>,</div><div class="line">  <span class="attr">templateUrl</span>: <span class="string">'./app.component.html'</span>,</div><div class="line">  <span class="attr">styleUrls</span>: [<span class="string">'./app.component.css'</span>]</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">AppComponent</span> </span>&#123;</div><div class="line"> <span class="comment">/*æ³¨é‡Š1*/</span> hero:Hero[];</div><div class="line"> <span class="comment">/*æ³¨é‡Š2*/</span> <span class="keyword">constructor</span>(private service:HeroService)&#123;</div><div class="line">             <span class="keyword">this</span>.getHeroes();</div><div class="line">            &#125;</div><div class="line">          getHeroes()&#123;</div><div class="line"><span class="comment">/*æ³¨é‡Š3*/</span>     <span class="keyword">this</span>.service.getHeroes().then(</div><div class="line">               <span class="function"><span class="params">hero</span>=&gt;</span>&#123;</div><div class="line">                 <span class="keyword">this</span>.hero=hero;</div><div class="line">                  <span class="built_in">console</span>.log(<span class="keyword">this</span>.hero);</div><div class="line">                    &#125;</div><div class="line"><span class="comment">/*æ³¨é‡Š4*/</span>     ).catch(<span class="function">(<span class="params">error: any</span>) =&gt;</span> <span class="built_in">Promise</span>.reject(error || <span class="string">'client error'</span>))</div><div class="line">           &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ³¨é‡Š1ï¼š ç”¨æ¥æ¥æ”¶è¿”å›çš„å¯¹è±¡ï¼›<br>æ³¨é‡Š2ï¼š å¯¹å¼•å…¥çš„hero.service.tsæœåŠ¡åˆå§‹åŒ–ï¼›<br>æ³¨é‡Š3ï¼š è¿”å›çš„æ˜¯promiseå¯¹è±¡ï¼Œç”¨thenæ–¹æ³•å»è§£æå¾—åˆ°çš„å€¼ï¼›<br>æ³¨é‡Š4ï¼š é¢„æœŸä¼šçŠ¯é”™ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼›<br>ç°åœ¨å¯ä»¥çœ‹çœ‹æ§åˆ¶å°æ‰“å°çš„heroå¯¹è±¡ï¼š<br><img src="/images/http-1.png" alt="http"><br>å¦‚ä½•æ˜¾ç¤ºåœ¨æˆ‘ä»¬çš„htmlä¸Šå‘¢ï¼Ÿ<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span> *<span class="attr">ngFor</span>=<span class="string">"let a of hero"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;a.id&#125;&#125; : &#123;&#123;a.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>ç®€å•çš„å†™äº†è¿™æ ·ä¸€æ®µï¼šè¿™é‡Œæ³¨æ„ï¼šå¤šå¯¹æ•°ç»„æˆ–å¯¹è±¡å½¢å¼ç”¨*ngForéå†ï¼›<br>è¿è¡Œlocalhost:4200,è¿™æ ·å°±å¯ä»¥è®©æ•°æ®æ­£å¸¸æ˜¾ç¤ºå•¦ï¼›<br><img src="/images/http-2.png" alt="http"><br>è¿™é‡Œä»‹ç»çš„æ˜¯é‡‡ç”¨promiseçš„å½¢å¼è°ƒç”¨httpçš„æ–¹æ³•ï¼ŒåŸç†å°±æ˜¯ï¼šhero.serviceä¸­ï¼Œhttp.get()è¿”å›çš„Observableåé¢ä¸²è”äº†ä¸€ä¸ªtoPromiseæ“ä½œç¬¦ã€‚ è¯¥æ“ä½œç¬¦æŠŠObservableè½¬æ¢æˆäº†Promiseï¼Œå¹¶ä¸”æˆ‘ä»¬æŠŠé‚£ä¸ªæ‰¿è¯ºè¿”å›ç»™äº†è°ƒç”¨è€…ï¼›</p>
<h2 id="5-http-promiseè¿˜èƒ½åšä»€ä¹ˆï¼Ÿ"><a href="#5-http-promiseè¿˜èƒ½åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="5.http promiseè¿˜èƒ½åšä»€ä¹ˆï¼Ÿ"></a>5.http promiseè¿˜èƒ½åšä»€ä¹ˆï¼Ÿ</h2><h3 id="5-1-å°è¯•é€šè¿‡idè·å–è‹±é›„ï¼›"><a href="#5-1-å°è¯•é€šè¿‡idè·å–è‹±é›„ï¼›" class="headerlink" title="5.1 å°è¯•é€šè¿‡idè·å–è‹±é›„ï¼›"></a>5.1 å°è¯•é€šè¿‡idè·å–è‹±é›„ï¼›</h3><p>hero.service.tsä¸­æ·»åŠ è¿™æ®µä»£ç ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">getHero(id:<span class="built_in">number</span>):Promise&lt;Hero&gt;&#123;</div><div class="line">        <span class="keyword">const</span> url = <span class="string">`<span class="subst">$&#123;this.heroUrl&#125;</span>/<span class="subst">$&#123;id&#125;</span>`</span>;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.http.get(url)</div><div class="line">        .toPromise()</div><div class="line">        .then(response =&gt;</div><div class="line">                response.json().data as Hero,  </div><div class="line">         )</div><div class="line">        .catch((error: <span class="built_in">any</span>) =&gt; Promise.reject(error || <span class="string">'Server error'</span>));</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>å’Œè·å–æ‰€æœ‰è‹±é›„çš„æ–¹æ³•ç±»ä¼¼ï¼Œè¿™ä¸ªçš„æ­¥éª¤æ˜¯å…ˆè·å–æ‰€æœ‰çš„è‹±é›„ï¼Œå¹¶ä»ä¸­è¿‡æ»¤å‡ºä¸idåŒ¹é…çš„é‚£ä¸€ä¸ªï¼›<br>åŒ¹é…api/hero/:id æ¨¡å¼ï¼Œæœ‰ç‚¹åƒè·¯ç”±ï¼›</p>
<h3 id="5-2-ç»„ä»¶ä¸­å¦‚ä½•è°ƒç”¨ï¼›"><a href="#5-2-ç»„ä»¶ä¸­å¦‚ä½•è°ƒç”¨ï¼›" class="headerlink" title="5.2 ç»„ä»¶ä¸­å¦‚ä½•è°ƒç”¨ï¼›"></a>5.2 ç»„ä»¶ä¸­å¦‚ä½•è°ƒç”¨ï¼›</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">detailhero:Hero;</div><div class="line">getHero(id:<span class="built_in">number</span>)&#123;</div><div class="line">    <span class="keyword">this</span>.service.getHero(id).then(</div><div class="line">       hero=&gt;&#123;</div><div class="line">         <span class="keyword">this</span>.detailhero=hero;</div><div class="line">         <span class="built_in">console</span>.log(<span class="keyword">this</span>.detailhero);</div><div class="line">        &#125;</div><div class="line">   ).catch((error: <span class="built_in">any</span>) =&gt; Promise.reject(error || <span class="string">'client error'</span>))</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>æ–¹æ³•éƒ½ç±»ä¼¼ï¼Œåªæ˜¯ä½ éœ€è¦ä¼ å…¥æƒ³æŸ¥è¯¢çš„id;<br>constructorä¸­è¿è¡Œæ­¤æ–¹æ³•ï¼Œæ¯”å¦‚æˆ‘æƒ³çŸ¥é“ç¬¬äºŒä¸ªè‹±é›„çš„è¯¦æƒ…ï¼š<code>this.getHero(2);</code><br>çœ‹çœ‹æ§åˆ¶å°è¾“å‡ºï¼š<br><img src="/images/http-3.png" alt="http"><br>çœ‹çœ‹htmlä»£ç ï¼š<code><p *ngif="detailhero"></p></code><br>æ³¨æ„ï¼šå•ä¸ªå¯¹è±¡ç”¨*ngIf ï¼›</p>
<h2 id="6-http-promiseè¿˜æœ‰ä»€ä¹ˆè¯·æ±‚æ–¹å¼ï¼Ÿ"><a href="#6-http-promiseè¿˜æœ‰ä»€ä¹ˆè¯·æ±‚æ–¹å¼ï¼Ÿ" class="headerlink" title="6.http promiseè¿˜æœ‰ä»€ä¹ˆè¯·æ±‚æ–¹å¼ï¼Ÿ"></a>6.http promiseè¿˜æœ‰ä»€ä¹ˆè¯·æ±‚æ–¹å¼ï¼Ÿ</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">request(url: string | Request, options?: RequestOptionsArgs): Observable&lt;Response&gt;;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Performs a request with `get` http method.</div><div class="line">     */</div><div class="line">    get(url: string, options?: RequestOptionsArgs): Observable&lt;Response&gt;;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Performs a request with `post` http method</div><div class="line">     */</div><div class="line">    post(url: string, <span class="attr">body</span>: any, options?: RequestOptionsArgs): Observable&lt;Response&gt;;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Performs a request with `put` http method.</div><div class="line">     */</div><div class="line">    put(url: string, <span class="attr">body</span>: any, options?: RequestOptionsArgs): Observable&lt;Response&gt;;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Performs a request with `delete` http method.</div><div class="line">     */</div><div class="line">    <span class="keyword">delete</span>(url: string, options?: RequestOptionsArgs): Observable&lt;Response&gt;;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Performs a request with `patch` http method.</div><div class="line">     */</div><div class="line">    patch(url: string, <span class="attr">body</span>: any, options?: RequestOptionsArgs): Observable&lt;Response&gt;;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Performs a request with `head` http method.</div><div class="line">     */</div><div class="line">    head(url: string, options?: RequestOptionsArgs): Observable&lt;Response&gt;;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Performs a request with `options` http method.</div><div class="line">     */</div><div class="line">    options(url: string, options?: RequestOptionsArgs): Observable&lt;Response&gt;;</div></pre></td></tr></table></figure>
<h3 id="6-1-æˆ‘ä»¬æ¥æ·»åŠ ä¸€ä¸ªè‹±é›„ï¼›"><a href="#6-1-æˆ‘ä»¬æ¥æ·»åŠ ä¸€ä¸ªè‹±é›„ï¼›" class="headerlink" title="6.1 æˆ‘ä»¬æ¥æ·»åŠ ä¸€ä¸ªè‹±é›„ï¼›"></a>6.1 æˆ‘ä»¬æ¥æ·»åŠ ä¸€ä¸ªè‹±é›„ï¼›</h3><p>hero.service.tsä¸­åŠ å…¥è¿™ä¸€æ®µï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*æ³¨é‡Š1*/</span> private headers = <span class="keyword">new</span> Headers(&#123;<span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>&#125;);</div><div class="line">      addHero(name:string):<span class="built_in">Promise</span>&lt;Hero&gt;&#123;</div><div class="line">          <span class="keyword">return</span> <span class="keyword">this</span>.http.post(<span class="keyword">this</span>.heroUrl,<span class="built_in">JSON</span>.stringify(&#123;<span class="attr">name</span>:name&#125;),&#123;<span class="attr">headers</span>:<span class="keyword">this</span>.headers&#125;)</div><div class="line">          .toPromise()</div><div class="line">          .then(</div><div class="line">              <span class="function"><span class="params">res</span>=&gt;</span></div><div class="line">                  res.json().data <span class="keyword">as</span> Hero</div><div class="line">          )</div><div class="line">          .catch(<span class="function">(<span class="params">error: any</span>) =&gt;</span> <span class="built_in">Promise</span>.reject(error || <span class="string">'Server error'</span>));</div><div class="line">      &#125;</div></pre></td></tr></table></figure>
<p>æ³¨é‡Š1ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Http,Headers&#125; from <span class="string">'@angular/http'</span>;</div></pre></td></tr></table></figure>
<p>éœ€è¦å¼•å…¥Headersï¼Œç„¶ånew ä¸€ä¸ªå®ä¾‹ï¼›<br>ä½†æ˜¯è¿™ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼›<br>ç»„ä»¶ä¸­æ€ä¹ˆæ¥æ”¶ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">addhero:Hero;</div><div class="line">  addHero(name:string)&#123;</div><div class="line">    <span class="keyword">this</span>.service.addHero(name).then(</div><div class="line">        <span class="function"><span class="params">hero</span>=&gt;</span>&#123;</div><div class="line">          <span class="keyword">this</span>.addhero=hero;</div><div class="line">          <span class="built_in">console</span>.log(<span class="keyword">this</span>.addhero);</div><div class="line">          <span class="keyword">this</span>.hero.push(<span class="keyword">this</span>.addhero);  <span class="comment">/*å°†æ·»åŠ çš„æ•°æ®Pushè¿›heroæ•°ç»„*/</span></div><div class="line">        &#125;</div><div class="line">    ).catch(<span class="function">(<span class="params">error: any</span>) =&gt;</span> <span class="built_in">Promise</span>.reject(error || <span class="string">'client error'</span>))</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>ä¸€æ ·çš„ä»£ç ï¼Œå°±ä¸è¿‡å¤šè§£é‡Šï¼›<br>æˆ‘ä»¬çš„è‹±é›„åœ¨å“ªé‡Œæ·»åŠ å‘¢ï¼Ÿ<br>è‚¯å®šæ˜¯è¦æœ‰ä¸€ä¸ªinputè¾“å…¥æ¡†çš„ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    add:<span class="tag">&lt;<span class="name">input</span> #<span class="attr">heroName</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> (<span class="attr">click</span>)=<span class="string">"addHero(heroName.value);heroName.value=''"</span>&gt;</span>add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>æ·»åŠ ä¹‹åï¼Œå¯ä»¥çœ‹åˆ°æ§åˆ¶å°ä¼šæœ‰è¾“å‡ºï¼š<br><img src="/images/http-4.png" alt="http"><br>ä½†æ˜¯ç•Œé¢æ˜¾ç¤ºçš„è¿˜æ˜¯è¿™äº›ï¼š<br><img src="/images/http-5.png" alt="http"><br>Angularä¼šè‡ªåŠ¨æ£€æµ‹æ•°æ®çš„å˜æ¢ï¼Œå½“æœ‰æ•°æ®å˜æ¢æ—¶ï¼Œä¼šå®æ—¶æ›´æ–°<br>è¿˜æœ‰ä¸€äº›å…¶ä»–æ–¹æ³•ï¼Œè‡ªå·±å»å°è¯•ä¸‹ï¼›<br>hero.service.ts:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Injectable &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123; Http, Headers,Response&#125; <span class="keyword">from</span> <span class="string">'@angular/http'</span>;</div><div class="line"><span class="keyword">import</span> <span class="string">'rxjs/add/operator/toPromise'</span>;</div><div class="line"><span class="keyword">import</span> &#123; Hero &#125; <span class="keyword">from</span> <span class="string">'./hero'</span>;</div><div class="line">@Injectable()</div><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">HeroService</span> </span>&#123;</div><div class="line">    <span class="keyword">constructor</span>(private http: Http) &#123; &#125;</div><div class="line">    private heroUrl = <span class="string">'api/heroes'</span>;</div><div class="line">    getHeroes(): <span class="built_in">Promise</span>&lt;Hero[]&gt; &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.http.get(<span class="keyword">this</span>.heroUrl)</div><div class="line">            .toPromise()</div><div class="line">            .then( <span class="keyword">this</span>.extractData )  <span class="comment">/*æ³¨é‡Š1*/</span></div><div class="line">            .catch(<span class="function">(<span class="params">error: any</span>) =&gt;</span> <span class="built_in">Promise</span>.reject(error || <span class="string">'Server error'</span>));<span class="comment">/*æ³¨é‡Š2*/</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    getHero(id: number): <span class="built_in">Promise</span>&lt;Hero&gt; &#123;</div><div class="line">        <span class="keyword">const</span> url = <span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.heroUrl&#125;</span>/<span class="subst">$&#123;id&#125;</span>`</span>;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.http.get(url)</div><div class="line">            .toPromise()</div><div class="line">            .then(<span class="keyword">this</span>.extractData)</div><div class="line">            .catch(<span class="keyword">this</span>.handleError);</div><div class="line">    &#125;</div><div class="line">    private headers = <span class="keyword">new</span> Headers(&#123; <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span> &#125;);</div><div class="line">    addHero(name: string): <span class="built_in">Promise</span>&lt;Hero&gt; &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.http.post(<span class="keyword">this</span>.heroUrl, <span class="built_in">JSON</span>.stringify(&#123; <span class="attr">name</span>: name &#125;), &#123; <span class="attr">headers</span>: <span class="keyword">this</span>.headers &#125;)</div><div class="line">            .toPromise()</div><div class="line">            .then(<span class="keyword">this</span>.extractData)</div><div class="line">            .catch(<span class="keyword">this</span>.handleError);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">   <span class="comment">/**</span></div><div class="line">    *</div><div class="line">    * @param res æ¥æ”¶æ•°æ®çš„æ–¹æ³•</div><div class="line">    */</div><div class="line">    private extractData(res: Response)  &#123;  <span class="comment">/*æ³¨é‡Š2*/</span></div><div class="line">        <span class="keyword">let</span> body = res.json();</div><div class="line">        <span class="keyword">return</span> body.data|| &#123;&#125;; <span class="comment">/*æ³¨é‡Š3*/</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * </div><div class="line">     * @param error å¤„ç†é”™è¯¯çš„æ–¹æ³•</div><div class="line">     */</div><div class="line">    private handleError(error: Response | any) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error || <span class="string">'Server error'</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ³¨é‡Š1ï¼šå°†then()å’Œcatch()é‡Œé¢çš„éƒ¨åˆ†æå–å‡ºæ¥ï¼Œæ¯æ¬¡ä½¿ç”¨åªéœ€è¦è°ƒç”¨æ–¹æ³•å³å¯ï¼›<br>æ³¨é‡Š2ï¼šæ¥æ”¶çš„Responseè®°å¾—å°†Responseåœ¨Httpå¯¹è±¡ä¸­å¼•å…¥ï¼›<br>æ³¨é‡Š3ï¼šè¿™é‡Œæ¥æ”¶çš„dataå…¶å®æ˜¯ä¸€ä¸ªanyå‹;</p>
<h2 id="7-Observableå¯¹è±¡"><a href="#7-Observableå¯¹è±¡" class="headerlink" title="7. Observableå¯¹è±¡"></a>7. Observableå¯¹è±¡</h2><p>HttpæœåŠ¡ä¸­çš„æ¯ä¸ªæ–¹æ³•éƒ½è¿”å›ä¸€ä¸ª HTTP Responseå¯¹è±¡çš„Observableå®ä¾‹ï¼›<br>Observable å°±æ˜¯ä¸€ä¸ªæ‹¥æœ‰ä»¥ä¸‹ç‰¹æ€§çš„å‡½æ•°ï¼š<br>    å®ƒæ¥æ”¶ä¸€ä¸ª observer å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¯¥å¯¹è±¡ä¸­åŒ…å« nextã€error å’Œ complete æ–¹æ³•<br>    å®ƒè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåœ¨é”€æ¯ Observable æ—¶ï¼Œæ‰§è¡Œæ¸…ç†æ“ä½œ<br>åœ¨ RxJS ä¸­ï¼Œè¿”å›çš„æ˜¯ Subcription å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­åŒ…å«ä¸€ä¸ª unsubscribe æ–¹æ³•ã€‚<br>ä¸€ä¸ª Observable å¯¹è±¡è®¾ç½®è§‚å¯Ÿè€… (observer)ï¼Œå¹¶å°†å®ƒä¸ç”Ÿäº§è€…å…³è”èµ·æ¥ã€‚è¯¥ç”Ÿäº§è€…å¯èƒ½æ˜¯ DOM å…ƒç´ äº§ç”Ÿçš„ click æˆ– input äº‹ä»¶ï¼Œä¹Ÿå¯èƒ½æ˜¯æ›´å¤æ‚çš„äº‹ä»¶ï¼Œå¦‚ HTTPã€‚<br>å½“ Observable å¯¹è±¡äº§ç”Ÿæ–°å€¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨ next() æ–¹æ³•æ¥é€šçŸ¥å¯¹åº”çš„è§‚å¯Ÿè€…ã€‚è‹¥å‡ºç°å¼‚å¸¸ï¼Œåˆ™ä¼šè°ƒç”¨è§‚å¯Ÿè€…çš„ error() æ–¹æ³•ã€‚å½“æˆ‘ä»¬è®¢é˜… Observable å¯¹è±¡åï¼Œåªè¦æœ‰æ–°çš„å€¼ï¼Œéƒ½ä¼šé€šçŸ¥å¯¹åº”çš„è§‚å¯Ÿè€…ã€‚ä½†åœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¸‹ï¼Œæ–°çš„å€¼ä¸ä¼šå†é€šçŸ¥å¯¹åº”çš„è§‚å¯Ÿè€…ï¼šå·²è°ƒç”¨ observer å¯¹è±¡çš„ complete() æ–¹æ³•æ¶ˆè´¹è€…å¯¹æ•°æ®ä¸å†æ„Ÿå…´è¶£ï¼Œæ‰§è¡Œå–æ¶ˆè®¢é˜…æ“ä½œ<br>æ­¤å¤–åœ¨æ‰§è¡Œæœ€ç»ˆçš„ subscribe() è®¢é˜…æ“ä½œå‰ï¼Œæˆ‘ä»¬ä¼ é€’çš„å€¼å¯ä»¥ç»è¿‡ä¸€ç³»åˆ—çš„é“¾å¼å¤„ç†æ“ä½œã€‚æ‰§è¡Œå¯¹åº”æ“ä½œçš„ä¸œè¥¿å«æ“ä½œç¬¦ï¼Œæ¯ä¸ªæ“ä½œç¬¦æ‰§è¡Œå®Œåä¼šè¿”å›ä¸€ä¸ªæ–°çš„ Observable å¯¹è±¡ï¼Œç„¶åç»§ç»­æˆ‘ä»¬çš„å¤„ç†æµç¨‹ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›Observableç»™ç»„ä»¶å—ï¼Ÿ<br>æˆ‘ä»¬å¯ä»¥çœ‹çœ‹ï¼Œä¹‹å‰getHero()é‚£ä¸€æ®µå¦‚æœç›´æ¥æ”¹æˆè¿”å›Observableå¯¹è±¡ä¼šå¦‚ä½•ï¼›<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">getHeroes():Observable&lt;Hero[]&gt;&#123;  <span class="comment">/*æ³¨é‡Š1*/</span></div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.http.get(<span class="keyword">this</span>.heroUrl)</div><div class="line">        .map(<span class="keyword">this</span>.extractData); </div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>æ³¨é‡Š1ï¼šä¸ç”¨è°ƒç”¨toPromise()æ–¹æ³•ï¼Œè‡ªç„¶ä¹Ÿä¸ç”¨then()å»å–æ•°æ®ï¼Œè€Œæ˜¯ç›´æ¥è¿”å›Observableå¯¹è±¡ä¹‹å<br>è°ƒç”¨RXJSä¸­çš„mapæ“ä½œç¬¦æ¥ä»è¿”å›çš„æ•°æ®ä¸­æå–æ•°æ®ï¼›<br>æ‰€ä»¥ä½ è¦å¼•å…¥ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Observable &#125;  <span class="keyword">from</span> <span class="string">'rxjs/Observable'</span>;</div><div class="line"><span class="keyword">import</span> <span class="string">'rxjs/add/operator/map'</span>;</div></pre></td></tr></table></figure></p>
<p>æ“ä½œç¬¦ä¹‹åä¼šè®²åˆ°ï¼Œæ³¨æ„å’Œä¹‹å‰çš„promiseæ–¹æ³•å¯¹æ¯”ï¼›<br>ç»„ä»¶ä¸­æ€ä¹ˆæ¥æ”¶æ•°æ®Observableå¯¹è±¡å‘¢ï¼Ÿ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">getHeroes()&#123;</div><div class="line">   <span class="keyword">this</span>.service.getHeroes().subscribe(    <span class="comment">/*æ³¨é‡Š1*/</span></div><div class="line">     hero=&gt;&#123;</div><div class="line">       <span class="keyword">this</span>.hero=hero;</div><div class="line">       <span class="built_in">console</span>.log(<span class="keyword">this</span>.hero);</div><div class="line">     &#125;</div><div class="line">   )</div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>
<p>è¿™æ ·æ˜¾ç¤ºçš„æ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„ï¼›<br>æ³¨é‡Š1ï¼šè°ƒç”¨ subscribe() æ–¹æ³•ï¼Œæ¥è·å–æœ€ç»ˆçš„å€¼ï¼Œé‡‡å–è®¢é˜…çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ç”¨then();</p>
<h2 id="8-Observabelå’ŒPromise-æœ‰ä»€ä¹ˆä¸åŒ"><a href="#8-Observabelå’ŒPromise-æœ‰ä»€ä¹ˆä¸åŒ" class="headerlink" title="8. Observabelå’ŒPromise æœ‰ä»€ä¹ˆä¸åŒ"></a>8. Observabelå’ŒPromise æœ‰ä»€ä¹ˆä¸åŒ</h2><h3 id="8-1-ä¸¤ä¸ªéƒ½å¯ä»¥ç”¨äºweb-API-httpçš„è°ƒç”¨ï¼Œä½†Observableæ˜¯å¯ä»¥ä¸­é€”å–æ¶ˆçš„ï¼Œè€ŒPromiseä¸€æ—¦è§¦å‘å°±ä¸èƒ½è¢«å–æ¶ˆï¼›"><a href="#8-1-ä¸¤ä¸ªéƒ½å¯ä»¥ç”¨äºweb-API-httpçš„è°ƒç”¨ï¼Œä½†Observableæ˜¯å¯ä»¥ä¸­é€”å–æ¶ˆçš„ï¼Œè€ŒPromiseä¸€æ—¦è§¦å‘å°±ä¸èƒ½è¢«å–æ¶ˆï¼›" class="headerlink" title="8.1 ä¸¤ä¸ªéƒ½å¯ä»¥ç”¨äºweb API httpçš„è°ƒç”¨ï¼Œä½†Observableæ˜¯å¯ä»¥ä¸­é€”å–æ¶ˆçš„ï¼Œè€ŒPromiseä¸€æ—¦è§¦å‘å°±ä¸èƒ½è¢«å–æ¶ˆï¼›"></a>8.1 ä¸¤ä¸ªéƒ½å¯ä»¥ç”¨äºweb API httpçš„è°ƒç”¨ï¼Œä½†Observableæ˜¯å¯ä»¥ä¸­é€”å–æ¶ˆçš„ï¼Œè€ŒPromiseä¸€æ—¦è§¦å‘å°±ä¸èƒ½è¢«å–æ¶ˆï¼›</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">       <span class="keyword">this</span>.service.getHero().unsubscribe();</div><div class="line">     &#125;, <span class="number">1000</span>);</div></pre></td></tr></table></figure>
<h3 id="8-2-å› ä¸ºPromiseåªèƒ½å‘èµ·ä¸€æ¬¡è¯·æ±‚ï¼Œåªè¦æ¥æ”¶åˆ°æ•°æ®ï¼Œå°±ä¼šç®—å®Œæˆï¼Œæ‰€ä»¥Promiseåªèƒ½å‘å°„ä¸€ä¸ªå€¼å°±ç®—ç»“æŸï¼ŒObservableå¯ä»¥è¿ç»­å‘é€å¥½å‡ ä¸ªå€¼ï¼Œåœ¨æœåŠ¡å™¨å¯¹ç¬¬ä¸€ä¸ªè¯·æ±‚ä½œå‡ºå›åº”ä¹‹å‰ï¼Œå†å¼€å§‹å¦ä¸€ä¸ªä¸åŒçš„è¯·æ±‚ï¼›"><a href="#8-2-å› ä¸ºPromiseåªèƒ½å‘èµ·ä¸€æ¬¡è¯·æ±‚ï¼Œåªè¦æ¥æ”¶åˆ°æ•°æ®ï¼Œå°±ä¼šç®—å®Œæˆï¼Œæ‰€ä»¥Promiseåªèƒ½å‘å°„ä¸€ä¸ªå€¼å°±ç®—ç»“æŸï¼ŒObservableå¯ä»¥è¿ç»­å‘é€å¥½å‡ ä¸ªå€¼ï¼Œåœ¨æœåŠ¡å™¨å¯¹ç¬¬ä¸€ä¸ªè¯·æ±‚ä½œå‡ºå›åº”ä¹‹å‰ï¼Œå†å¼€å§‹å¦ä¸€ä¸ªä¸åŒçš„è¯·æ±‚ï¼›" class="headerlink" title="8.2 å› ä¸ºPromiseåªèƒ½å‘èµ·ä¸€æ¬¡è¯·æ±‚ï¼Œåªè¦æ¥æ”¶åˆ°æ•°æ®ï¼Œå°±ä¼šç®—å®Œæˆï¼Œæ‰€ä»¥Promiseåªèƒ½å‘å°„ä¸€ä¸ªå€¼å°±ç®—ç»“æŸï¼ŒObservableå¯ä»¥è¿ç»­å‘é€å¥½å‡ ä¸ªå€¼ï¼Œåœ¨æœåŠ¡å™¨å¯¹ç¬¬ä¸€ä¸ªè¯·æ±‚ä½œå‡ºå›åº”ä¹‹å‰ï¼Œå†å¼€å§‹å¦ä¸€ä¸ªä¸åŒçš„è¯·æ±‚ï¼›"></a>8.2 å› ä¸ºPromiseåªèƒ½å‘èµ·ä¸€æ¬¡è¯·æ±‚ï¼Œåªè¦æ¥æ”¶åˆ°æ•°æ®ï¼Œå°±ä¼šç®—å®Œæˆï¼Œæ‰€ä»¥Promiseåªèƒ½å‘å°„ä¸€ä¸ªå€¼å°±ç®—ç»“æŸï¼ŒObservableå¯ä»¥è¿ç»­å‘é€å¥½å‡ ä¸ªå€¼ï¼Œåœ¨æœåŠ¡å™¨å¯¹ç¬¬ä¸€ä¸ªè¯·æ±‚ä½œå‡ºå›åº”ä¹‹å‰ï¼Œå†å¼€å§‹å¦ä¸€ä¸ªä¸åŒçš„è¯·æ±‚ï¼›</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.heroes = <span class="keyword">this</span>.searchTerms</div><div class="line">    .debounceTime(<span class="number">300</span>)        </div><div class="line">    .distinctUntilChanged()  </div><div class="line">    .switchMap(<span class="function"><span class="params">term</span> =&gt;</span> term   </div><div class="line">      ? <span class="keyword">this</span>.service.search(term)</div><div class="line">      : Observable.of&lt;Hero[]&gt;([]))</div><div class="line">    .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</div><div class="line">      <span class="built_in">console</span>.log(error);</div><div class="line">      <span class="keyword">return</span> Observable.of&lt;Hero[]&gt;([]);</div><div class="line">    &#125;);</div><div class="line"><span class="keyword">this</span>.heroes.subscribe(<span class="function"><span class="params">value</span> =&gt;</span> <span class="built_in">console</span>.log(value));</div></pre></td></tr></table></figure>
<p>è¿™ä¸ªåé¢ä»£ç æ“ä½œç¬¦è¿™å—æœ‰è¯¦è§£ï¼›</p>
<h3 id="8-3-Observableæä¾›äº†å¾ˆå¤šçš„å·¥å…·å‡½æ•°ï¼Œæœ€æœ€æœ€å¸¸ç”¨çš„filterå’Œmapï¼›è¯¦ç»†çœ‹çœ‹è¿™ä¸¤ä¸ªmapå’Œfilterï¼›"><a href="#8-3-Observableæä¾›äº†å¾ˆå¤šçš„å·¥å…·å‡½æ•°ï¼Œæœ€æœ€æœ€å¸¸ç”¨çš„filterå’Œmapï¼›è¯¦ç»†çœ‹çœ‹è¿™ä¸¤ä¸ªmapå’Œfilterï¼›" class="headerlink" title="8.3 Observableæä¾›äº†å¾ˆå¤šçš„å·¥å…·å‡½æ•°ï¼Œæœ€æœ€æœ€å¸¸ç”¨çš„filterå’Œmapï¼›è¯¦ç»†çœ‹çœ‹è¿™ä¸¤ä¸ªmapå’Œfilterï¼›"></a>8.3 Observableæä¾›äº†å¾ˆå¤šçš„å·¥å…·å‡½æ•°ï¼Œæœ€æœ€æœ€å¸¸ç”¨çš„filterå’Œmapï¼›è¯¦ç»†çœ‹çœ‹è¿™ä¸¤ä¸ªmapå’Œfilterï¼›</h3><p> map() æ“ä½œç¬¦è¿”å›ä¸€ä¸ªæ–°çš„ Observable å¯¹è±¡<br> filter() æ“ä½œç¬¦æ‰§è¡Œè¿‡æ»¤æ“ä½œï¼Œç„¶ååˆè¿”å›ä¸€ä¸ªæ–°çš„ Observable å¯¹è±¡<br>æœ€åæˆ‘ä»¬é€šè¿‡è°ƒç”¨ subscribe() æ–¹æ³•ï¼Œæ¥è·å–æœ€ç»ˆçš„å€¼<br>Filter:è¿‡æ»¤å™¨<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">getHeroes()&#123;</div><div class="line">    this.service.getHeroes().filter(hero =&gt; hero.length &gt;= 2)</div><div class="line">    .subscribe(</div><div class="line">        hero=&gt;&#123;</div><div class="line">           this.hero=hero;</div><div class="line">        &#125;</div><div class="line">    )</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<p>Mapçš„ç”¨æ³•ä¸Šé¢æœ‰ä»‹ç»ï¼›<br>ä½†æ˜¯ï¼Œä½¿ç”¨æ‰¿è¯ºçš„æ–¹å¼èƒ½è®©è°ƒç”¨æ–¹æ³•æ›´å®¹æ˜“å†™ï¼Œå¹¶ä¸”æ‰¿è¯ºå·²ç»åœ¨ JavaScript ç¨‹åºå‘˜ä¸­è¢«å¹¿æ³›æ¥å—äº†ã€‚<br>å†æ¥çœ‹çœ‹Observableæ“ä½œç¬¦ï¼š<br>æ ¹æ®åå­—æœç´¢ç”¨æˆ·ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">search(term: string): Observable<span class="tag">&lt;<span class="name">Hero[]</span>&gt;</span> &#123;</div><div class="line">        return this.http</div><div class="line">               .get(`api/heroes/?name=$&#123;term&#125;`)</div><div class="line">               .map(response =&gt; response.json().data as Hero[]);</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p> çœ‹çœ‹ç»„ä»¶ä»£ç ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"> import &#123; Observable &#125; from 'rxjs/Observable';  /*æ³¨é‡Š1*/</div><div class="line">import &#123; Subject &#125;  from 'rxjs/Subject';  /*æ³¨é‡Š2*/</div><div class="line">// Observable class extensions</div><div class="line">import 'rxjs/add/observable/of';  /*æ³¨é‡Š3*/</div><div class="line">// Observable operators</div><div class="line">import 'rxjs/add/operator/catch';  /*æ³¨é‡Š4*/</div><div class="line">import 'rxjs/add/operator/debounceTime';  /*æ³¨é‡Š5*/</div><div class="line">import 'rxjs/add/operator/distinctUntilChanged';  /*æ³¨é‡Š6*/</div><div class="line">import 'rxjs/add/operator/switchMap'; /*æ³¨é‡Š6*/</div></pre></td></tr></table></figure></p>
<p>å¼•å…¥è¿™äº›æ“ä½œç¬¦ï¼š<br>æ³¨é‡Š1ï¼šå¼•å…¥RXJSçš„å¯è§‚å¯Ÿå¯¹è±¡ï¼›<br>æ³¨é‡Š2ï¼šSujectæ˜¯ä¸€ä¸ªå¯è§‚å¯Ÿäº‹ä»¶æµä¸­çš„ç”Ÿäº§è€…ï¼Œé€šè¿‡è°ƒç”¨Next()å¯¹è±¡ï¼Œå¯ä»¥å°†æ–°è§‚å¯Ÿçš„å¯¹è±¡æ”¾å…¥å¯è§‚å¯Ÿæµä¸­ï¼›<br>æ³¨é‡Š3ï¼šæ˜¯Rxjsä¸ºObservableå¯¹è±¡æä¾›çš„æ‰©å±•ï¼Œ<br>æ³¨é‡Š4ï¼šå¼‚å¸¸æ“ä½œç¬¦ï¼Œæ‹¦æˆªå¤±è´¥çš„å¯è§‚å¯Ÿå¯¹è±¡ã€‚<br>æ³¨é‡Š5ï¼šç›¸å½“äºsettimeout(),å»¶è¿Ÿï¼›<br>æ³¨é‡Š6ï¼šdistinctUntilChangedç¡®ä¿åªåœ¨è¿‡æ»¤æ¡ä»¶å˜åŒ–æ—¶æ‰å‘é€è¯·æ±‚ï¼Œ è¿™æ ·å°±ä¸ä¼šé‡å¤è¯·æ±‚åŒä¸€ä¸ªæœç´¢è¯äº†ï¼›<br>æ³¨é‡Š7ï¼šswitchMap()ä¼šä¸ºæ¯ä¸ªä»debounceå’ŒdistinctUntilChangedä¸­é€šè¿‡çš„æœç´¢è¯è°ƒç”¨æœç´¢æœåŠ¡ã€‚ å®ƒä¼šå–æ¶ˆå¹¶ä¸¢å¼ƒä»¥å‰çš„æœç´¢å¯è§‚å¯Ÿå¯¹è±¡ï¼Œåªä¿ç•™æœ€è¿‘çš„ï¼›ä½¿ç”¨è¿™ä¸ªæ¯è§¦å‘ä¸€æ¬¡äº‹ä»¶éƒ½ä¼šå¼•èµ·ä¸€æ¬¡Http()çš„è°ƒç”¨ï¼Œå³ä½¿ä½ ä½¿ç”¨å»¶è¿Ÿï¼Œä½†åŒä¸€æ—¶é—´è¿˜æ˜¯ä¼šæœ‰å¤šä¸ªHttpè¯·æ±‚ï¼Œå¹¶ä¸”è¿”å›çš„é¡ºåºä¸ä¸€å®šæ˜¯è¯·æ±‚å‘èµ·çš„é¡ºåºï¼›<br>çœ‹çœ‹Http()æ–¹æ³•è°ƒç”¨ï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"> heroes: Observable&lt;Hero[]&gt;;</div><div class="line">  <span class="keyword">private</span> searchTerms=<span class="keyword">new</span> Subject&lt;<span class="built_in">string</span>&gt;();   <span class="comment">// searchTermsç”Ÿæˆä¸€ä¸ªäº§ç”Ÿå­—ç¬¦ä¸²çš„Observable</span></div><div class="line">  <span class="comment">/*æ¯å½“è°ƒç”¨search()æ—¶éƒ½ä¼šè°ƒç”¨next()æ¥æŠŠæ–°çš„å­—ç¬¦ä¸²æ”¾è¿›è¯¥ä¸»é¢˜çš„å¯è§‚å¯Ÿæµä¸­*/</span></div><div class="line">  search(term:<span class="built_in">string</span>):<span class="built_in">void</span>&#123;</div><div class="line">    <span class="keyword">this</span>.searchTerms.next(term);</div><div class="line">  &#125;</div><div class="line">   ngOnInit(): <span class="built_in">void</span> &#123;</div><div class="line">     <span class="keyword">this</span>.heroes = <span class="keyword">this</span>.searchTerms</div><div class="line">    .debounceTime(<span class="number">300</span>)        </div><div class="line">    .distinctUntilChanged()  </div><div class="line">    .switchMap(term =&gt; term   </div><div class="line">      ? <span class="keyword">this</span>.service.search(term)</div><div class="line">      : Observable.of&lt;Hero[]&gt;([]))</div><div class="line">    .catch(error =&gt; &#123;</div><div class="line">      <span class="built_in">console</span>.log(error);</div><div class="line">      <span class="keyword">return</span> Observable.of&lt;Hero[]&gt;([]);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>çœ‹çœ‹ä»£ç ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  search :<span class="tag">&lt;<span class="name">input</span> #<span class="attr">searchBox</span> (<span class="attr">keyup</span>)=<span class="string">"search(searchBox.value)"</span>/&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">div</span>  *<span class="attr">ngFor</span>=<span class="string">"let b of heroes | async"</span>&gt;</span></div><div class="line">        &#123;&#123;b.name&#125;&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>ä¸ºä»€ä¹ˆä½¿ç”¨ä¸€ä¸ªasyncç®¡é“å‘¢ï¼Ÿå› ä¸ºå¾—åˆ°çš„æ˜¯Observableå¯¹è±¡ï¼Œä¸æ˜¯æ•°ç»„ï¼Œ*ngForä¸èƒ½éå†å¯è§‚å¯Ÿå¯¹è±¡ï¼›<br>æ•ˆæœï¼š<br><img src="/images/http-6.png" alt="http"><br>çœ‹å®Œè¿™ä¸ªï¼Œå¤§æ¦‚çŸ¥é“ï¼š<br>Observableï¼ˆå¯è§‚å¯Ÿå¯¹è±¡ï¼‰æ˜¯åŸºäºæ¨é€ï¼ˆPushï¼‰è¿è¡Œæ—¶æ‰§è¡Œï¼ˆlazyï¼‰çš„å¤šå€¼é›†åˆï¼›<br>å…³äºæ“ä½œç¬¦ï¼Œæˆ‘æœ‰è¯è¦è¯´ï¼š<br>å¤§éƒ¨åˆ†RxJSæ“ä½œç¬¦éƒ½ä¸åŒ…æ‹¬åœ¨Angularçš„ObservableåŸºæœ¬å®ç°ä¸­ï¼ŒåŸºæœ¬å®ç°åªåŒ…æ‹¬Angularæœ¬èº«æ‰€éœ€çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯ï¼Œä½ éœ€è¦çš„å¤§å¤šæ“ä½œç¬¦éƒ½éœ€è¦ä»rxjsä¸­å¼•å…¥ï¼›</p>
<h2 id="9-ä¸Šè¿°çš„ä¾‹å­ï¼Œå…¶å®è¯´çš„éƒ½æ˜¯å…³äºweb-api-å†…å­˜æœåŠ¡å™¨çš„ï¼Œå ç”¨å†…å­˜çš„ä¸œè¥¿ï¼Œé€Ÿç‡éƒ½æœ‰ç‚¹æ…¢ï¼Œå¦‚æœä½ è¦ä»æœ¬åœ°è·å–æ–‡ä»¶è®°ä½ä¸è¦ç”¨è¿™ä¸ªï¼›"><a href="#9-ä¸Šè¿°çš„ä¾‹å­ï¼Œå…¶å®è¯´çš„éƒ½æ˜¯å…³äºweb-api-å†…å­˜æœåŠ¡å™¨çš„ï¼Œå ç”¨å†…å­˜çš„ä¸œè¥¿ï¼Œé€Ÿç‡éƒ½æœ‰ç‚¹æ…¢ï¼Œå¦‚æœä½ è¦ä»æœ¬åœ°è·å–æ–‡ä»¶è®°ä½ä¸è¦ç”¨è¿™ä¸ªï¼›" class="headerlink" title="9.ä¸Šè¿°çš„ä¾‹å­ï¼Œå…¶å®è¯´çš„éƒ½æ˜¯å…³äºweb api,å†…å­˜æœåŠ¡å™¨çš„ï¼Œå ç”¨å†…å­˜çš„ä¸œè¥¿ï¼Œé€Ÿç‡éƒ½æœ‰ç‚¹æ…¢ï¼Œå¦‚æœä½ è¦ä»æœ¬åœ°è·å–æ–‡ä»¶è®°ä½ä¸è¦ç”¨è¿™ä¸ªï¼›"></a>9.ä¸Šè¿°çš„ä¾‹å­ï¼Œå…¶å®è¯´çš„éƒ½æ˜¯å…³äºweb api,å†…å­˜æœåŠ¡å™¨çš„ï¼Œå ç”¨å†…å­˜çš„ä¸œè¥¿ï¼Œé€Ÿç‡éƒ½æœ‰ç‚¹æ…¢ï¼Œå¦‚æœä½ è¦ä»æœ¬åœ°è·å–æ–‡ä»¶è®°ä½ä¸è¦ç”¨è¿™ä¸ªï¼›</h2><p>å¯ä»¥æ¢ç”¨jsonæ–‡ä»¶è·å–ï¼š<br> åˆ›å»ºä¸€ä¸ªheroes.jsonï¼Œè®°å¾—æ”¾åœ¨assetsæ–‡ä»¶ä¸‹ï¼š<br>{<br>  â€œdataâ€: [<br>    { â€œidâ€: 1, â€œnameâ€: â€œWindstormâ€ },<br>    { â€œidâ€: 2, â€œnameâ€: â€œBombastoâ€ },<br>    { â€œidâ€: 3, â€œnameâ€: â€œMagnetaâ€ },<br>    { â€œidâ€: 4, â€œnameâ€: â€œTornadoâ€ }<br>  ]<br>}<br>æˆ‘ä»¬app.module.tsé‡Œé¢çš„ï¼š<br>   <code>InMemoryWebApiModule.forRoot(InMemoryDataService),</code><br>ä¸ç”¨å¼•å…¥ï¼Œå¼•å…¥ä¹‹åä¼šé»˜è®¤ä½¿ç”¨web apiï¼›<br>ç„¶åhero.service.tsä¸­è¿™æ ·<br>private heroesUrl = â€˜assets/heroes.jsonâ€™;<br>å…¶ä»–çš„éƒ½æ˜¯ä¸€æ ·çš„ï¼›<br>è¿™ç§æ–¹å¼å¯¹äºè¯·æ±‚é™æ€çš„æœ¬åœ°æ•°æ®æ˜¯æ¯”è¾ƒæœ‰ç”¨çš„ï¼›å¦‚æœæ˜¯è¯·æ±‚çœŸæ˜¯çš„è¿œç¨‹æœåŠ¡å™¨åœ°å€ï¼Œurlæ¢æˆè¿œç¨‹åœ°å€å°±å¯ä»¥ï¼›</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;HTTP: ä½¿åº”ç”¨èƒ½å¤Ÿå¯¹è¿œç«¯æœåŠ¡å™¨å‘èµ·ç›¸åº”çš„Httpè°ƒç”¨ï¼›&lt;br&gt;ä½ è¦çŸ¥é“ï¼šHttpModuleå¹¶ä¸æ˜¯Angularçš„æ ¸å¿ƒæ¨¡å—ï¼Œå®ƒæ˜¯Angualrç”¨æ¥è¿›è¡ŒWebè®¿é—®çš„ä¸€ç§å¯é€‰æ–¹å¼ï¼Œå¹¶ä½äºä¸€ä¸ªåå«@angual/httpçš„ç‹¬ç«‹é™„å±æ¨¡å—ä¸­ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼šä½¿ç”¨httpä¹‹å‰è¦å¼•å…¥æ­¤æ¨¡å—;&lt;br&gt;
    
    </summary>
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/categories/Angular-2/"/>
    
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/tags/Angular-2/"/>
    
      <category term="http" scheme="http://www.sulishibaobei.com/tags/http/"/>
    
  </entry>
  
  <entry>
    <title>bootstrapç®€å•å›¾æ–‡ç¯ç»•æ•ˆæœ</title>
    <link href="http://www.sulishibaobei.com/bootstrap/bt-120170908/"/>
    <id>http://www.sulishibaobei.com/bootstrap/bt-120170908/</id>
    <published>2017-09-08T01:08:53.000Z</published>
    <updated>2017-09-08T13:16:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€.ä¸‹è½½bootstrap-3.3.7<br>äºŒ.åœ¨htmlé¡µé¢å¼•å…¥css,js;<br>eg:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">src</span>=<span class="string">"bootstrap-3.3.7-dist/css/bootstrap.min.css"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.min.js"</span>&gt;</span><span class="xml"><span class="tag">&lt;/ <span class="attr">script</span>&gt;</span> </span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"bootstrap-3.3.7-dist/js/bootstrap.min.js"</span>&gt;</span><span class="xml"><span class="tag">&lt;/ <span class="attr">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>æ³¨æ„ï¼šå› ä¸ºä¼šç”¨åˆ°jqueryï¼Œæ‰€ä»¥å¼•å…¥äº†jquery .js;<br>ä¸‰.bodyéƒ¨åˆ†çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">"margin: 10px;padding: 0px"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>/&gt;</span></div></pre></td></tr></table></figure></p>
<p>ç®€å•è§£æä¸‹ï¼š<br>  bodyé‡ŒåŒ…å«ä¸¤ä¸ªdiv ,ä¸€ä¸ªåœ¨å·¦è¾¹æ’åˆ—(ç”¨äºæ”¾å›¾ç‰‡)ï¼Œä¸€ä¸ªåœ¨å³è¾¹æ’åˆ—(ç”¨äºæ”¾æ–‡å­—);éƒ½ç”¨classåè¿›è¡ŒåŒºåˆ†å•¦ï¼Œleftå’Œright;<br>ç®€å•çš„ç»™ä¸¤ä¸ªdivæ·»åŠ ç‚¹æ ·å¼ï¼š </p>
<pre><code class="css"><span class="selector-class">.left</span>  { 
  <span class="attribute">float </span>:  left ; 
  <span class="attribute">max-width </span>:  <span class="number">43%</span> ; 
  <span class="attribute">padding-left </span>:  <span class="number">5px</span> ;  
     } 
 <span class="selector-class">.right</span>{ 
 <span class="attribute">margin-left </span>:  <span class="number">5px</span> ;
     }
</code></pre>
<p>ç°åœ¨è¿˜çœ‹ä¸å‡ºä»€ä¹ˆæ•ˆæœ;<br>ç»™ç¬¬ä¸€ä¸ªdivé‡Œæ·»åŠ å›¾ç‰‡;<br><code>&lt; img src=â€index.jpgâ€ class=â€img-responsiveâ€ alt=â€å›¾åƒâ€&gt; </code><br>ç»™ç¬¬äºŒä¸ªdivæ·»åŠ æ–‡å­—ï¼Œé‡Œé¢çš„æ–‡å­—æ˜¯é‡‡ç”¨Boostrapçš„æ ·å¼; </p>
<pre><code class="html"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span>
                <span class="tag">&lt;<span class="name">h1</span>&gt;</span>å›¾æ–‡ç¯ç»•<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>
                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span>
                  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-6 col-md-offset-3"</span> <span class="attr">style</span>=<span class="string">" box-shadow: inset 1px -1px 1px #ccc, inset -1px 1px 1px #ccc;"</span>&gt;</span>
                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span>
                            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6"</span> <span class="attr">style</span>=<span class="string">" box-shadow: inset 1px -1px 1px #ccc, inset -1px 1px 1px #ccc;"</span>&gt;</span>
                                <span class="tag">&lt;<span class="name">p</span>&gt;</span>&amp;nbsp;&amp;nbsp;&amp;nbsp;é£é›¨ä¸­èµ°è¿‡å´ä¸å®‰ä¸–äº‹çš„å¿ƒ<span class="tag">&lt;/<span class="name">p</span>&gt;</span>
                            <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
                      <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
                               <span class="tag">&lt;<span class="name">p</span>&gt;</span>&amp;nbsp;&amp;nbsp;&amp;nbsp;æˆ‘è¿˜æ˜¯å¾ˆå–œæ¬¢ä½ ï¼Œåƒé£èµ°äº†ä¸‰åƒç±³ä¸é—®å½’æœŸ æˆ‘å¸Œæœ›æœ‰ä¸ªå¦‚ä½ ä¸€èˆ¬çš„äººå¦‚å±±é—´æ¸…çˆ½çš„é£å¦‚å¤åŸæ¸©æš–çš„å…‰ä»æ¸…æ™¨åˆ°å¤œæ™šç”±å±±é‡åˆ°ä¹¦æˆ¿åªè¦æœ€åæ˜¯ä½ å°±å¥½ <span class="tag">&lt;/<span class="name">p</span>&gt;</span>
                 <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-6 col-sm-offset-3"</span> <span class="attr">style</span>=<span class="string">"box-shadow: inset 1px -1px 1px #ccc, inset -1px 1px 1px #ccc;"</span>&gt;</span>
                      <span class="tag">&lt;<span class="name">p</span>&gt;</span>&amp;nbsp;&amp;nbsp;&amp;nbsp;æˆ‘è§‰å¾—è¿™ä¸ªä¸–ç•Œç¾å¥½æ— æ¯”ã€‚æ™´æ—¶æ»¡æ ‘èŠ±å¼€ï¼Œé›¨å¤©ä¸€æ¹–æ¶Ÿæ¼ªï¼Œé˜³å…‰å¸­å·åŸå¸‚ï¼Œå¾®é£ç©¿è¶ŠæŒ‡é—´ï¼Œå…¥å¤œæ¯ä¸ªç”µå°æ’­æ”¾çš„æƒ…æ­Œï¼Œæ²¿é€”æ¯æ¡å±±è·¯é“ºå¼€çš„å½±å­ï¼Œå…¨éƒ¨æ˜¯ä½ ä¸ç»æ„å†™çš„ä¸€å­—ä¸€å¥ï¼Œç•™æˆ‘å¹´å¤ä¸€å¹´æœ—è¯»ã€‚è¿™ä¸–ç•Œæ˜¯ä½ çš„é—å˜±ï¼Œè€Œæˆ‘æ˜¯ä½ å”¯ä¸€çš„é—ç‰©ã€‚
                      <span class="tag">&lt;/<span class="name">p</span>&gt;</span>
                      <span class="tag">&lt;<span class="name">p</span>&gt;</span>&amp;nbsp;&amp;nbsp;ä¸€ä¸ªäººçš„è®°å¿†å°±æ˜¯åº§åŸå¸‚ï¼Œæ—¶é—´è…èš€ç€ä¸€åˆ‡å»ºç­‘ï¼ŒæŠŠé«˜æ¥¼å’Œé“è·¯å…¨éƒ¨æ²™åŒ–ã€‚å¦‚æœä½ ä¸å¾€å‰èµ°ï¼Œå°±ä¼šè¢«æ²™å­æ©åŸ‹ã€‚æ‰€ä»¥æˆ‘ä»¬æ³ªæµæ»¡é¢ï¼Œæ­¥æ­¥å›å¤´ï¼Œå¯æ˜¯åªèƒ½å¾€å‰èµ° <span class="tag">&lt;/<span class="name">p</span>&gt;</span>
               <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
               <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clearfix visible-xs"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>
                  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-6 col-md-offset-3"</span> <span class="attr">style</span>=<span class="string">" box-shadow:inset 1px -1px 1px #ccc, inset -1px 1px 1px #ccc;"</span>&gt;</span>
                   <span class="tag">&lt;<span class="name">p</span>&gt;</span>&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½ ç‡ƒçƒ§ï¼Œæˆ‘é™ªä½ ç„šæˆç°çƒ¬ã€‚ä½ ç†„ç­ï¼Œæˆ‘é™ªä½ ä½è½å°˜åŸƒã€‚ä½ å‡ºç”Ÿï¼Œæˆ‘é™ªä½ å¾’æ­¥äººæµ·ã€‚ä½ æ²‰é»˜ï¼Œæˆ‘é™ªä½ ä¸€è¨€ä¸å‘ï¼Œä½ æ¬¢ç¬‘ï¼Œæˆ‘é™ªä½ å±±å‘¼æµ·å•¸ã€‚ä½ è¡°è€ï¼Œæˆ‘é™ªä½ æ»¡ç›®ç–®ç—ã€‚ä½ é€ƒé¿ï¼Œæˆ‘é™ªä½ éšå…¥å¤œæ™šã€‚ä½ ç¦»å¼€ï¼Œæˆ‘åªèƒ½ç­‰å¾…ã€‚ <span class="tag">&lt;/<span class="name">p</span>&gt;</span>
               <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
             <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-6 col-sm-offset-3"</span> <span class="attr">style</span>=<span class="string">"box-shadow: inset 1px -1px 1px #ccc, inset -1px 1px 1px #ccc;"</span>&gt;</span>
                 <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘å¸Œæœ›ä¹°çš„é‹å­æ˜¯ä½ æ¸´æœ›çš„é¢œè‰²ã€‚æˆ‘å¸Œæœ›æ‹¨é€šç”µè¯æ—¶ä½ æ°å¥½åœ¨æƒ³æˆ‘ã€‚æˆ‘å¸Œæœ›è¯´æ—©å®‰ä½ ä¹Ÿåˆšèµ·åºŠã€‚æˆ‘å¸Œæœ›å†™çš„ä¹¦æ˜¯ä½ æ¬£èµçš„æ•…äº‹ã€‚æˆ‘å¸Œæœ›å…³ç¯çš„åˆ¹é‚£ä½ æ­£æ³›èµ·å›°æ„ã€‚æˆ‘å¸Œæœ›ä¹°çš„æ°´æœä½ æ°¸è¿œè§‰å¾—æ˜¯ç”œçš„ã€‚æˆ‘å¸Œæœ›ç‚¹çš„æ­Œéƒ½æ˜¯ä½ å–œæ¬¢å”±çš„ã€‚æˆ‘å¸Œæœ›æˆ‘å¸Œæœ›çš„æ˜¯ä½ å¸Œæœ›çš„ã€‚
                  <span class="tag">&lt;/<span class="name">p</span>&gt;</span>
             <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
             <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clearfix visible-xs"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
  <span class="tag">&lt;/<span class="name">div</span>&gt;</span>
</code></pre>
<p>é‡‡ç”¨çš„æ˜¯bootstrapçš„æ¶æ„ï¼š container&gt; row&gt; column&nbsp;<br>å°†cssæ ·å¼ä¹Ÿå†™åœ¨æ ‡ç­¾ä¸Šï¼Œæ‰€ä»¥æœ‰ç‚¹çœ‹èµ·æ¥å¤æ‚ï¼Œå…¶å®å¾ˆç®€å•ï¼Œè¿™å‡ æ®µæ–‡å­—çš„ç»“æ„éƒ½ä¸€æ ·ã€‚<br>çœ‹çœ‹è¿è¡Œæ•ˆæœï¼š<br><img src="/images/bt-1.png" alt="bt"><br>æ‹–åŠ¨é¡µé¢è¯•è¯•<br><img src="/images/bt-2.png" alt="bt"><br>ä½ å¯ä»¥é€šè¿‡æ§åˆ¶å°éšæ„æ‹–åŠ¨é¡µé¢çš„å®½åº¦ï¼Œçœ‹çœ‹æ–‡å­—çš„é€‚é…ç¨‹åº¦ã€‚<br><a href="https://github.com/sulishibaobei/bootstrap/tree/master/bootstrap%20by%20around" target="_blank" rel="external">æºç </a><br>å¦å¤–æœ‰ä¸¤ä¸ªå…è´¹ç½‘ç«™æ¨¡æ¿ä¹Ÿå¯ä»¥çœ‹çœ‹ï¼Œåœ¨åŒä¸€ä¸ªgithubè·¯å¾„ä¸‹</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€.ä¸‹è½½bootstrap-3.3.7&lt;br&gt;äºŒ.åœ¨htmlé¡µé¢å¼•å…¥css,js;&lt;br&gt;eg:&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;bootstrap-3.3.7-dist/css/bootstrap.min.css&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;jquery.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/ &lt;span class=&quot;attr&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;bootstrap-3.3.7-dist/js/bootstrap.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/ &lt;span class=&quot;attr&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Bootstrap" scheme="http://www.sulishibaobei.com/categories/Bootstrap/"/>
    
    
      <category term="bootstrap" scheme="http://www.sulishibaobei.com/tags/bootstrap/"/>
    
      <category term="å›¾æ–‡ç¯ç»•" scheme="http://www.sulishibaobei.com/tags/%E5%9B%BE%E6%96%87%E7%8E%AF%E7%BB%95/"/>
    
  </entry>
  
  <entry>
    <title>angular4 ä¸­è‡ªå®šä¹‰paginationç»„ä»¶</title>
    <link href="http://www.sulishibaobei.com/angular/pg-120170908/"/>
    <id>http://www.sulishibaobei.com/angular/pg-120170908/</id>
    <published>2017-09-08T01:08:53.000Z</published>
    <updated>2017-09-08T15:01:32.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/fengjing-3.jpg" alt="fengjing"></p>
<p><div class="image-caption">ä½ ç”¨Angular å—?</div><br><a id="more"></a><br><br>ä¸€.ä»‹ç»<br>ä¸€ä¸ªåŸºäºangular4 å¼€å‘çš„å¯ä»¥åˆ†é¡µçš„ç»„ä»¶ã€‚ç»„ä»¶çš„å¥½å¤„å°±æ˜¯å¯ä»¥å¤ç”¨ï¼Œå¤ç”¨â€¦..ä½œä¸ºä¸€ä¸ªå‰ç«¯ç å†œï¼Œå¼€å§‹çš„åˆ†é¡µåŠŸèƒ½å®ç°æ˜¯æˆ‘ç”¨jqueryå†™çš„ï¼Œå…¶ä»–åŒäº‹ç”¨çš„æ—¶å€™éƒ½è¦å°†æˆ‘çš„ä»£ç æ‹·è´è¿‡å»ï¼Œäºæ˜¯æˆ‘è¢«é„™è§†äº†ã€‚ä¸ºäº†ä¸ç»§ç»­è¢«é„™è§†å°±å¼€å§‹äº†å°è¯•ã€‚<br>äºŒ.åŸºæœ¬åŠŸèƒ½<br>1.æ ¹æ®è§„å®šçš„æ¯é¡µæ•°æ®æ¡æ•°ï¼Œåˆ†é¡µæ˜¾ç¤ºæ•°æ®<br>2.ä¸Šä¸‹é¡µæ“ä½œæ•°æ®<br>ç›´æ¥ä¸Šç•Œé¢å›¾å¯èƒ½æ¸…æ™°ç‚¹ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/4116930-2fe57ab69ccdcb87.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" data-original-src="http://upload-images.jianshu.io/upload_images/4116930-2fe57ab69ccdcb87.png?imageMogr2/auto-orient/strip" data-image-slug="2fe57ab69ccdcb87" data-width="1338" data-height="655"> </p>
<p><div class="image-caption">é¡¹ç›®æˆªå›¾</div><br>æ ¹æ®å›¾ç‰‡è¿›è¡Œè®²è§£ä¸‹ï¼šæ ¹æ®ä½ æ€»æ•°æ®æ¡æ•°:totalNum; æ¯é¡µæ˜¾ç¤ºæ¡æ•°:pageSize,é€šè¿‡ç»„ä»¶ä¼šè‡ªåŠ¨ç»™ä½ åˆ†é¡µæ˜¾ç¤ºã€‚<br>egï¼šæ€»æ•°41 æ¡æ•°æ®,æ¯é¡µæ˜¾ç¤º10æ¡æ•°æ®ï¼Œåˆ™æ˜¯åˆ†æˆ5é¡µã€‚å¦‚æœæƒ³æ¯é¡µæ˜¾ç¤º7æ¡ï¼Œåˆ™ä¼šåˆ†æˆ6é¡µã€‚<br>ä¸‰.ç®€è¦ä»£ç <br>æ¶æ„ç›®å½•å›¾ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/4116930-fed7af4e2c9f5530.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" data-original-src="http://upload-images.jianshu.io/upload_images/4116930-fed7af4e2c9f5530.png?imageMogr2/auto-orient/strip" data-image-slug="fed7af4e2c9f5530" data-width="360" data-height="351"> </p>
<p><div class="image-caption">é¡¹ç›®ç›®å½•</div><br>æœ‰ä¸¤ä¸ªç»„ä»¶ï¼špaginationå’Œpage;&nbsp; paginationæ˜¯ç”¨æ¥æ˜¾ç¤ºå‰é¢æ•°æ®çš„ï¼Œpageæ˜¯ç”¨æ¥ä¸‹é¢åˆ†é¡µçš„ã€‚<br>pagination.htmlç¤ºä¾‹ä»£ç ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/4116930-7fc90a6263bba71b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" data-original-src="http://upload-images.jianshu.io/upload_images/4116930-7fc90a6263bba71b.png?imageMogr2/auto-orient/strip" data-image-slug="7fc90a6263bba71b" data-width="1517" data-height="603"> </p>
<p><div class="image-caption">æ•°æ®æ˜¾ç¤ºéƒ¨åˆ†ä»£ç </div><br>ngb-xxxä¸ç”¨åœ¨æ„ï¼Œæ˜¯ç”¨çš„ng-bootstrapï¼Œåªæ˜¯ä¸ºäº†è®©ç•Œé¢å¥½çœ‹ç‚¹ã€‚å…¶å®å°±æ˜¯ä¸€ä¸ªç®€å•çš„tableç”¨æ¥æ˜¾ç¤ºæ•°æ®ã€‚*ngForç”¨æ¥å–æ•°æ®ï¼Œæ‡‚Angular çš„äººåº”è¯¥éƒ½ä¼šï¼Œè¿™ä¸æ˜¯é‡ç‚¹å°±ä¸ä»‹ç»äº†ã€‚<br>&lt;page&gt;&lt;/page&gt;&nbsp;<br>è¿™é‡Œæ˜¯å¼•å…¥pageç»„ä»¶ã€‚ä½†æ˜¯ä¼ å…¥äº†ä¸€äº›å±æ€§å€¼ï¼›å…³äºæ¨¡æ¿è¯­æ³•ï¼Œä¾èµ–æ³¨å…¥ï¼Œè‡ªå®šä¹‰äº‹ä»¶å°±ä¸ä»‹ç»äº†ã€‚åªè¦çŸ¥é“è¿™é‡Œæ˜¯ï¼špaginationç»„ä»¶å‘pageç»„ä»¶ä¼ å…¥äº†å‡ ä¸ªå€¼ï¼špageSize(é¡µé¢æ˜¾ç¤ºæ•°æ®æ¡æ•°)ï¼ŒtotalNum(æ€»æ•°æ®æ¡æ•°),curPage(å½“å‰é¡µç  ï¼‰ï¼ŒtotalPage(æ€»é¡µç ),pageData(æ¯é¡µæ˜¾ç¤ºæ•°æ®)<br>å…¶ä¸­pageSizeå’ŒpageDataæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯åé¢ä¸ºäº†æ“ä½œï¼Œå¤šä¼ äº†ä¸€ä¸ªå€¼ï¼›<br>é‚£ä¹ˆï¼špageSizeç­‰å€¼éƒ½æ˜¯å“ªé‡Œæ¥çš„å‘¢ï¼Œå½“ç„¶æ˜¯pagination.tsé‡Œå®šä¹‰çš„ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/4116930-a003c8ca2a6946ae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" data-original-src="http://upload-images.jianshu.io/upload_images/4116930-a003c8ca2a6946ae.png?imageMogr2/auto-orient/strip" data-image-slug="a003c8ca2a6946ae" data-width="948" data-height="296"> </p>
<p><div class="image-caption">pagination.tsä»£ç </div><br>ä»£ç ä¸­çš„pageå°±æ˜¯ä½ è·å¾—åˆ°å¾—æ•°æ®ï¼Œè‡ªç„¶totalNumå°±ä¼šç­‰äºæ•°æ®çš„é•¿åº¦ã€‚ä¾æ¬¡ç®—å‡ºæ¥å°±å¥½äº†ã€‚ paginationç»„ä»¶ç®—æ˜¯å®Œæˆäº†ï¼Œç°åœ¨å°±æ¥çœ‹çœ‹pageæ˜¯æ€ä¹ˆæ¥æ”¶åˆ°æ•°æ®å¹¶è¿›è¡Œæ“ä½œçš„ã€‚<br>page.htmlé¡µé¢çš„ä»£ç ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/4116930-bdee3bc2c0eaf98c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" data-original-src="http://upload-images.jianshu.io/upload_images/4116930-bdee3bc2c0eaf98c.png?imageMogr2/auto-orient/strip" data-image-slug="bdee3bc2c0eaf98c" data-width="1753" data-height="404"> </p>
<p><div class="image-caption">page.ts åˆ†é¡µæ•°æ®çš„html</div><br>å…¶å®å¾ˆç®€å•ï¼šå°±ä¸€ä¸ªaæ ‡ç­¾æ˜¾ç¤ºæ¡æ•°ï¼Œé¡µæ•°çš„ï¼Œä¸‰ä¸ªbutton,ä¸€ä¸ªæ˜¾ç¤ºä¸Šä¸€é¡µï¼Œä¸€ä¸ªé¡µæ•°ï¼Œä¸€ä¸ªä¸‹ä¸€é¡µã€‚æ¯ä¸ªæŒ‰é’®éƒ½ç»‘å®šäº†ä¸€ä¸ªchangePageäº‹ä»¶ï¼›<br>çœ‹ä¸€ä¸‹å®ç°éƒ¨åˆ†çš„ä»£ç ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/4116930-012ecce551a391ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" data-original-src="http://upload-images.jianshu.io/upload_images/4116930-012ecce551a391ef.png?imageMogr2/auto-orient/strip" data-image-slug="012ecce551a391ef" data-width="1664" data-height="1269"> </p>
<p><div class="image-caption">page.tsåˆ†é¡µå®ç°éƒ¨åˆ†ä»£ç </div><br>@Inputæ˜¯æ¥æ”¶pagination.htmlç»„ä»¶ä¼ è¿‡æ¥çš„æ•°æ®ã€‚@Outputæ˜¯å®šä¹‰pagination.htmlé¡µé¢å®šä¹‰çš„changeCurPageäº‹ä»¶ã€‚<br>é€šè¿‡ä¸‰ä¸ªif elseåˆ¤æ–­ï¼Œå¯¹ä¼ å¤šæ¥çš„æ•°æ®è¿›è¡Œå¤„ç†ã€‚å…¶å®å°±åˆ†ä¸ºï¼šæ•°æ®åªå¤Ÿæ˜¾ç¤ºä¸€é¡µï¼›æ•°æ®æ˜¾ç¤ºåˆ°æœ€åä¸€é¡µï¼›æ•°æ®åˆ·æ–°åˆ°ä¸­é—´é¡µç ï¼›è¿™ä¸‰ç§æƒ…å†µä¸‹çš„æ“ä½œã€‚<br>å¥½äº†ï¼ŒåŸºæœ¬å°±å®Œæˆäº†ã€‚æœ‰äº›ä¸œè¥¿ä¹Ÿæ˜¯å€ŸåŠ©ç½‘å‹çš„æƒ³æ³•ï¼Œä½†æ˜¯æ€è·¯å¤§è‡´éƒ½æ˜¯è¿™æ ·ã€‚ç°åœ¨æˆ‘æ”¹å˜æ¡æ•°å’Œæ•°æ®é‡çœ‹çœ‹ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/4116930-a5a797d4493a0cb9.png" alt="" data-original-src="http://upload-images.jianshu.io/upload_images/4116930-a5a797d4493a0cb9.png" data-image-slug="a5a797d4493a0cb9"> </p>
<p><div class="image-caption">&nbsp; é¡¹ç›®æˆªå›¾</div><br>è¯¦æƒ…ä»£ç åŠæ•ˆæœï¼š<a href="https://github.com/sulishibaobei/pagination" target="_blank" rel="external">https://github.com/sulishibaobei/pagination</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/fengjing-3.jpg&quot; alt=&quot;fengjing&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;div class=&quot;image-caption&quot;&gt;ä½ ç”¨Angular å—?&lt;/div&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/categories/Angular-2/"/>
    
    
      <category term="Angular2+" scheme="http://www.sulishibaobei.com/tags/Angular2/"/>
    
      <category term="åˆ†é¡µç»„ä»¶" scheme="http://www.sulishibaobei.com/tags/%E5%88%86%E9%A1%B5%E7%BB%84%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>webpackåˆç•¥å­¦ä¹ </title>
    <link href="http://www.sulishibaobei.com/webpack/wp-120170907/"/>
    <id>http://www.sulishibaobei.com/webpack/wp-120170907/</id>
    <published>2017-09-07T01:11:53.000Z</published>
    <updated>2017-09-08T13:27:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç†Ÿè¯è¯´æµ“ç¼©å°±æ˜¯ç²¾åï¼Œå“ˆå“ˆï¼Œæ‰€ä»¥å°±è¿™ä¹ˆç®€å•ç²—æš´çš„ä»‹ç»ä¸‹å§ï¼Œå†™ä¸‹çš„éƒ½æ˜¯ç²¾åã€‚ å·²ç»ä¸æ˜¯ç¬¬ä¸€æ¬¡å¬è¯´webpackï¼Œä½†æ˜¯æˆ‘çš„èµ·æ­¥æœ‰ç‚¹æ™šï¼Œç°åœ¨æ‰çœ‹ã€‚å¼€é—¨è§å±±~~ </p>
<h2 id="1-ä»€ä¹ˆæ˜¯webpackï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯webpackï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯webpackï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯webpackï¼Ÿ</h2><p>webpackæ˜¯å½“ä¸‹æœ€çƒ­é—¨çš„å‰ç«¯èµ„æºæ¨¡å—åŒ–ç®¡ç†å’Œæ‰“åŒ…å·¥å…·ï¼ˆå°±æ˜¯ä¸€ä¸ªæ‰“åŒ…å™¨ï¼‰ï¼Œå¯ä»¥å°†è®¸å¤šæ¾æ•£çš„æ¨¡å—æŒ‰ç…§ä¾èµ–å’Œè§„åˆ™æ‰“åŒ…æˆç¬¦åˆç”Ÿäº§ç¯å¢ƒéƒ¨ç½²çš„å‰ç«¯èµ„æºï¼Œè¿˜å¯ä»¥å°†éœ€è¦åŠ è½½çš„æ¨¡å—è¿›è¡Œä»£ç åˆ†ç¦»ï¼Œç­‰åˆ°å®é™…éœ€è¦çš„æ—¶å€™å†è¿›è¡Œå¼‚æ­¥åŠ è½½ã€‚é€šè¿‡loaderçš„è½¬æ¢ï¼Œä»»ä½•èµ„æºéƒ½å¯ä»¥è§†ä½œæ¨¡å—ï¼Œå¦‚COMMONJSæ¨¡å— ,AMDæ¨¡å—ï¼ŒJS CSS ,JSON ç­‰ ï¼Œå®ƒä¼šæ ¹æ®æ¨¡å—çš„ä¾èµ–å…³ç³»è¿›è¡Œé™æ€åˆ†æï¼Œç„¶åå°†è¿™äº›æ¨¡å—æŒ‰ç…§æŒ‡å®šçš„è§„åˆ™ç”Ÿæˆå¯¹åº”çš„é™æ€èµ„æºã€‚</p>
<a id="more"></a>
<h2 id="2-ä¸ºä»€ä¹ˆè¦æœ‰webpackç­‰æ‰“åŒ…å™¨ï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆè¦æœ‰webpackç­‰æ‰“åŒ…å™¨ï¼Ÿ" class="headerlink" title="2.ä¸ºä»€ä¹ˆè¦æœ‰webpackç­‰æ‰“åŒ…å™¨ï¼Ÿ"></a>2.ä¸ºä»€ä¹ˆè¦æœ‰webpackç­‰æ‰“åŒ…å™¨ï¼Ÿ</h2><p>1.å¹³å¸¸çš„æ¨¡å—åŠ è½½æ–¹å¼éƒ½æ˜¯åœ¨&lt;script&gt;æ ‡ç­¾é‡Œå¼•å…¥ï¼Œè¿™ç§æƒ…å†µæ˜¯åœ¨å…¨å±€ä½œç”¨æ¨¡å¼windowä¸‹çš„ï¼Œè¿™æ ·åšçš„å¼Šç«¯å°±æ˜¯åªèƒ½æŒ‰&lt;script&gt;çš„ä¹¦å†™é¡ºåºè¿›è¡ŒåŠ è½½ï¼Œè€Œä¸”å…¨å±€ä½œç”¨åŸŸä¸‹å®¹æ˜“äº§ç”Ÿå†²çªï¼Œå¼•å…¥æ•°é‡æ¯”è¾ƒå¤šçš„æ–‡ä»¶æƒ…å†µä¸‹éš¾ä»¥ç®¡ç†ã€‚<br>2.è€Œä¸”ï¼Œå¦‚æœå•ç‹¬è¯·æ±‚æ¯ä¸ªæ¨¡å—ä¼šé€ æˆè¯·æ±‚æ¬¡æ•°è¿‡å¤šï¼Œå¯¼è‡´åº”ç”¨å¯åŠ¨ç¼“æ…¢ï¼Œä½†æ˜¯ï¼Œå°†æ‰€æœ‰æ–‡ä»¶å‹ç¼©æˆä¸€ä¸ªæ–‡ä»¶ï¼Œä¸€æ¬¡è¯·æ±‚åŠ è½½æ‰€æœ‰æ¨¡å—ä¼šå¯¼è‡´æµé‡çš„æµªè´¹ï¼Œåˆå§‹åŒ–è¿‡ç¨‹ç¼“æ…¢ã€‚<br>3.æ‰€ä»¥ç¼–è¯‘çš„æ—¶å€™å¯¹æ‰€æœ‰çš„ä»£ç è¿›è¡Œé™æ€åˆ†æï¼Œåˆ†æå‡ºå„ä¸ªæ¨¡å—çš„ç±»å‹åŠä¾èµ–å…³ç³»ï¼Œç„¶åå°†ä»–ä»¬æäº¤ç»™é€‚é…çš„åŠ è½½å™¨å¤„ç†ï¼Œæ‰€ä»¥webpackå°±åº”è¿è€Œç”Ÿã€‚ </p>
<h2 id="3-COMMONJSæ¨¡å—ï¼ŒAMDæ¨¡å—ï¼ŒCMDæ¨¡å—ï¼ŒUMDæ¨¡å—å‡ ç§å¸¸ç”¨æ¨¡å—ï¼Ÿ"><a href="#3-COMMONJSæ¨¡å—ï¼ŒAMDæ¨¡å—ï¼ŒCMDæ¨¡å—ï¼ŒUMDæ¨¡å—å‡ ç§å¸¸ç”¨æ¨¡å—ï¼Ÿ" class="headerlink" title="3.COMMONJSæ¨¡å—ï¼ŒAMDæ¨¡å—ï¼ŒCMDæ¨¡å—ï¼ŒUMDæ¨¡å—å‡ ç§å¸¸ç”¨æ¨¡å—ï¼Ÿ"></a>3.COMMONJSæ¨¡å—ï¼ŒAMDæ¨¡å—ï¼ŒCMDæ¨¡å—ï¼ŒUMDæ¨¡å—å‡ ç§å¸¸ç”¨æ¨¡å—ï¼Ÿ</h2><p>Commonjsï¼šå…è®¸æ¨¡å—é€šè¿‡requireæ–¹æ³•åŒæ­¥åŠ è½½æ‰€éœ€ä¾èµ–çš„å…¶ä»–æ¨¡å¼ï¼Œç„¶åé€šè¿‡exportsæˆ–module.exportsæ¥å¯¼å‡ºéœ€è¦æš´éœ²çš„æ¥å£ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">egï¼š <span class="built_in">require</span>(<span class="string">"module"</span>);</div><div class="line">     <span class="built_in">require</span>(<span class="string">"./script.js"</span>);</div><div class="line">      <span class="keyword">export</span>.doStuff= <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;;</div><div class="line">      <span class="built_in">module</span>.exports=someValue;</div></pre></td></tr></table></figure>
<p>ä¼˜ç‚¹ï¼šå„ä¸ªæ¨¡å—å¯ä»¥è¿›è¡Œé‡ç”¨ï¼Œnpmä¸­å·²ç»æœ‰è®¸å¤šå¯ä¾›ä½¿ç”¨çš„åŒ…ã€‚<br>ç¼ºç‚¹ï¼šåªèƒ½æ˜¯åŒæ­¥åŠ è½½çš„ï¼ŒåŒæ­¥å°±æ„å‘³ç€é˜»å¡åŠ è½½ï¼Œæ‰€ä»¥ä¸é€‚åˆåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œå› ä¸ºæµè§ˆå™¨çš„èµ„æºæ˜¯åŒæ­¥åŠ è½½çš„ï¼Œä¸èƒ½éé˜»å¡çš„å¹¶è¡ŒåŠ è½½å¤šä¸ªæ¨¡å—ã€‚<br>åº”ç”¨å®ä¾‹ï¼šnodejs<br>Amdæ¨¡å—ï¼šå®ƒæ˜¯åœ¨å£°æ˜æ¨¡å—çš„æ—¶å€™å°±æŒ‡å®šæ‰€æœ‰çš„ä¾èµ–dependenciesï¼Œå¹¶ä¸”è¿˜è¦å½“åšå½¢å‚ä¼ åˆ°factoryä¸­ï¼Œå¯¹äºä¾èµ–çš„æ¨¡å—æå‰æ‰§è¡Œä¾èµ–å‰ç½®ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">eg:  define(<span class="string">"module"</span>, [<span class="string">"dep1"</span>, <span class="string">"dep2"</span>],  <span class="function"><span class="keyword">function</span> (<span class="params">d1, d2</span>)</span>&#123;  <span class="keyword">return</span>  someExportedValue; &#125;);</div><div class="line">     <span class="built_in">require</span>([ <span class="string">"module"</span>, <span class="string">"../file"</span>],</div><div class="line">     <span class="function"><span class="keyword">function</span> (<span class="params">module, file</span>) </span>&#123;  <span class="comment">/*   ...   */</span>  &#125;);</div></pre></td></tr></table></figure>
<p>ä¼˜ç‚¹ï¼šé€‚åˆå¼‚æ­¥åŠ è½½æ¨¡å—ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œå¹¶ä¸”å¯ä»¥å¹¶è¡Œè¿è¡Œå¤šä¸ªæ¨¡å—ã€‚å’Œcommonjsç›¸åã€‚<br>ç¼ºç‚¹ï¼šæå‰åŠ å¥½æ‰€æœ‰ä¾èµ–ï¼Œä»£ç è¦å¤æ‚å¾ˆå¤šã€‚<br>åº”ç”¨å®ä¾‹ï¼šrequirejsï¼Œcurl<br>Cmdæ¨¡å—ï¼šå’ŒAMDç±»ä¼¼ï¼Œå¹¶å’ŒCommonjsä¹Ÿæœ‰å¾ˆå¤§çš„å…¼å®¹æ€§ã€‚  </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">eg: define( <span class="function"><span class="keyword">function</span> (<span class="params">require, exports, module</span>)</span>&#123;</div><div class="line">   <span class="keyword">var</span>  $ = <span class="built_in">require</span>(<span class="string">'jquery'</span>);</div><div class="line">   <span class="keyword">var</span>  Spinning = <span class="built_in">require</span>(<span class="string">'./spinning'</span>);</div><div class="line"> exports.doSomething  = ... module.exports = ... &#125;)</div></pre></td></tr></table></figure>
<p>ä¼˜ç‚¹ï¼šå®¹æ˜“åœ¨nodejsä¸­è¿è¡Œä½ çš„ä»£ç <br>ç¼ºç‚¹ï¼šä¾èµ–spmæ‰“åŒ…ï¼Œæ¨¡å—çš„åŠ è½½é€»è¾‘æ¯”è¾ƒé‡ã€<br>åº”ç”¨å®ä¾‹ï¼šSea.js<br>Umdæ¨¡å—ï¼šä¸»è¦è§£å†³æ¨¡å—å®šä¹‰çš„è·¨å¹³å°é—®é¢˜</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">eg:  <span class="keyword">import</span> <span class="string">"jquery"</span>;</div><div class="line">  <span class="keyword">export</span>   <span class="function"><span class="keyword">function</span>  <span class="title">doStuff</span>(<span class="params"></span>) </span>&#123;&#125;</div><div class="line">  <span class="built_in">module</span>  <span class="string">"localModule"</span> &#123;&#125;</div></pre></td></tr></table></figure>
<p>ä¼˜ç‚¹ï¼šå®¹æ˜“è¿›è¡Œé™æ€åˆ†æï¼Œé¢å‘æœªæ¥çš„ESæ ‡å‡†ï¼›<br>ç¼ºç‚¹ï¼šåŸç”Ÿæµè§ˆå™¨ä¸æ”¯æŒã€‚                  </p>
<h2 id="4-å¦‚ä½•ä½¿ç”¨webpackï¼Ÿ"><a href="#4-å¦‚ä½•ä½¿ç”¨webpackï¼Ÿ" class="headerlink" title="4.å¦‚ä½•ä½¿ç”¨webpackï¼Ÿ"></a>4.å¦‚ä½•ä½¿ç”¨webpackï¼Ÿ</h2><p>å‡è£…ä½ çš„ç”µè„‘é‡Œé¢å·²ç»å®‰è£…äº†Node.js, ç„¶åè¾“å…¥ï¼šnpm install webpack -g  ,å¯ä»¥é€šè¿‡webpack -hæ¥æŸ¥çœ‹å®‰è£…ä¿¡æ¯ã€‚<br>(1)å‡è£…åˆ›å»ºä¸€ä¸ªé¡¹ç›®test,è¿›å…¥é¡¹ç›®è·¯å¾„ï¼Œåˆ›å»ºä¸€ä¸ªindex.htmlé¡µé¢ï¼Œä»£ç å¦‚ä¸‹å›¾ï¼š<br><img src="/images/webpack-1.png" alt="webpack"><br>(2)ç„¶åå†åˆ›å»ºä¸€ä¸ªåä¸ºï¼šbundle.jsçš„æ–‡ä»¶ï¼Œåœ¨ä¸Šå›¾çš„index.htmlä¸­å¼•å…¥å®ƒã€‚æ­¤æ–‡ä»¶é‡Œé¢ä»€ä¹ˆä»£ç éƒ½ä¸éœ€è¦å†™ã€‚<br>(3)åœ¨åˆ›å»ºä¸€ä¸ªåä¸ºentry.jsçš„æ–‡ä»¶ï¼Œä¸éœ€è¦åœ¨index.htmlé¡µé¢å¼•å…¥å“Ÿï¼Œæ­¤æ–‡ä»¶é‡Œé¢ç”¨æ¥å†™å†…å®¹ã€‚<br><b>document.write( â€œhello worldâ€); </b><br>(4)ç„¶åå°†entry.jsæ‰“åŒ…è¿›bundle.jsæ–‡ä»¶ä¸­ï¼Œwebpackä¼šåˆ†æå…¥å£æ–‡ä»¶ï¼Œè§£æåŒ…å«ä¾èµ–å…³ç³»çš„å„ä¸ªæ–‡ä»¶ï¼Œç„¶åæ‰“åŒ…åˆ°bundle.jsä¸­<br> <b>webpack entry.js bundle.js </b><br>webpackæ‰“åŒ…çš„åŸç†å°±æ˜¯ç»™æ¯ä¸€ä¸ªæ¨¡å—éƒ½åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„idå¹¶é€šè¿‡è¿™ä¸ªidç´¢å¼•å’Œè®¿é—®æ¨¡å—ï¼Œå¯åŠ¨æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œentry.jsé‡Œé¢çš„ä»£ç ï¼Œå…¶ä»–æ¨¡å—ä¼šåœ¨è¿è¡Œrequireçš„æ—¶å€™æ‰§è¡Œã€‚<br>(5)æ­¤æ—¶æ‰“å¼€bundle.jsæ–‡ä»¶æŸ¥çœ‹ï¼Œä½ å°±å¯ä»¥å‘ç°é‡Œé¢å·²ç» æœ‰ä»£ç äº†:<br><img src="/images/webpack-2.png" alt="webpack"><br>(6)è¿è¡Œinde.htmlé¡µé¢ï¼Œåœ¨æµè§ˆå™¨ä¸­å°±å¯ä»¥çœ‹åˆ°Hello world.<br>ä½†æ˜¯webpackæœ¬èº«æ˜¯åªèƒ½å¤„ç†javascriptæ¨¡å—çš„ï¼Œå¦‚æœç¢°åˆ°css,jsonç­‰å…¶ä»–æ¨¡å—æ–‡ä»¶ï¼Œå°±éœ€è¦ä½¿ç”¨loaderè½¬æ¢ã€‚ loaderå°±æ˜¯ä¸€ä¸ªè£…æ¢å™¨ï¼Œä¸€ä¸ªå¯ä»¥è¾“å…¥ä»»ä½•èµ„æºä½†æ˜¯æœ€ç»ˆéƒ½ä¼šå¸®ä½ è½¬æˆjsæ¨¡å—çš„å·¥å…·ã€‚<br><strong>æ€»çš„æ¥è¯´loaderæœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</strong><br>1.ç®¡é“æ–¹å¼é“¾å¼è°ƒç”¨ï¼ˆå…è®¸å¤šä¸ªæ–‡ä»¶è½¬æ¢ï¼Œæœ€åå¿…å®šè¾“å‡ºjsæ–‡ä»¶ï¼‰ã€‚<br>2.loaderå¯ä»¥åŒæ­¥æˆ–å¼‚æ­¥æ‰§è¡Œ<br>3.å€˜è‹¥åœ¨nodejsç¯å¢ƒä¸‹ï¼Œå¯ä»¥åšä»»ä½•äº‹æƒ…<br>4.loaderåŠ è½½æ—¶å¯ä»¥æ¥å—ä¼ å‚ã€‚<br>5.å¯ä»¥é€šè¿‡æ–‡ä»¶æ‰©å±•åæ¥ç»‘å®šä¸åŒç±»å‹çš„æ–‡ä»¶ã€‚<br>6.loaderæ˜¯é€šè¿‡Npmå‘å¸ƒå’Œå®‰è£…ã€‚7.é€šè¿‡å®šä¹‰package.jsonæ¥æŒ‡å®šï¼ŒåŒæ ·ä¹Ÿå¯ä»¥å¯¼å‡ºä¸€ä¸ªloaderæ¥ä½¿ç”¨ï¼Œå‘½åè§„åˆ™æ˜¯ï¼šxxx-loaderã€‚ä¸€èˆ¬æ˜¯ä»€ä¹ˆåŠŸèƒ½å°±å‘½åä»€ä¹ˆã€‚ </p>
<p><strong>ä¸‹é¢å°±ç›´æ¥æ¥è¯•è¯•ï¼š</strong><br>(1)åœ¨é¡¹ç›®é‡Œé¢åœ¨æ–°å»ºä¸€ä¸ªåä¸ºï¼šstyle.cssçš„æ–‡ä»¶ï¼šè¾“å…¥<b>body{ background:green}</b><br>(2)ä¿®æ”¹entry.js;åŠ å…¥è¿™ä¸€å¥<b>require(â€œ!style-loader!css-loader!./style.cssâ€)</b><br>(3)å®‰è£…Loader.<b>npm install css-loader style-loader</b>å…ˆç”¨css-loaderè¯»å–å®ƒï¼Œå†ç”¨style-loaderå°†å®ƒæ’å…¥é¡µé¢ä¸­ã€‚<br>(4)é‡æ–°æ‰“åŒ…:<b>webpack entry.js bundle.js</b><br>(5)åˆ·æ–°index.htmlé¡µé¢å¯ä»¥çœ‹åˆ°æ•ˆæœã€‚<br>å¦‚æœæœ‰é”™è¯¯ï¼Œcmdæ‰“åŒ…æ—¶å°±ä¼šæ˜¾ç¤ºï¼Œindex.htmlè¿è¡Œæ—¶ï¼Œfireugä¹Ÿä¼šæ˜¾ç¤ºçš„ã€‚<br>loaderè½¬æ¢å™¨è¿˜å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ¥æ‰§è¡Œå“Ÿ<br>(1)é€šè¿‡å¾€package.jsoné‡Œé¢æ–°å¢é…ç½®é¡¹æ¥å®Œæˆã€‚deDependencies<br><img src="/images/webpack-3.png" alt="webpack"><br>(2)åœ¨æ–°é…ç½®ä¸ªwebpack.config.jsæ–‡ä»¶</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span>  webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</div><div class="line"><span class="built_in">module</span>.exports  = &#123;</div><div class="line">    <span class="attr">resolve</span>: &#123; <span class="attr">fallback</span>: path.join(__dirname,  <span class="string">"node_modules"</span>) &#125;,</div><div class="line">    <span class="attr">resolveLoader</span>: &#123; <span class="attr">fallback</span>: path.join(__dirname,  <span class="string">"node_modules"</span>) &#125;,</div><div class="line">    <span class="attr">entry</span>:  <span class="string">'./entry.js'</span>,</div><div class="line">    <span class="attr">output</span>: &#123;</div><div class="line">        <span class="attr">path</span>: __dirname,</div><div class="line">        <span class="attr">filename</span>:  <span class="string">'bundle.js'</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">module</span>: &#123;</div><div class="line">        <span class="attr">loaders</span>: [</div><div class="line">            &#123;<span class="attr">test</span>:  <span class="regexp">/\.css$/</span>, <span class="attr">loader</span>: <span class="string">'style!css'</span>&#125;</div><div class="line">        ]</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">plugins</span>:[</div><div class="line">          <span class="keyword">new</span>  webpack.BannerPlugin(<span class="string">'This file is created by yu'</span>)</div><div class="line">    ]</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>(3)ç›´æ¥è¿è¡Œwebpack ï¼Œåˆ·æ–°index.html å°±å¯ä»¥æŸ¥çœ‹æ•ˆæœ </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç†Ÿè¯è¯´æµ“ç¼©å°±æ˜¯ç²¾åï¼Œå“ˆå“ˆï¼Œæ‰€ä»¥å°±è¿™ä¹ˆç®€å•ç²—æš´çš„ä»‹ç»ä¸‹å§ï¼Œå†™ä¸‹çš„éƒ½æ˜¯ç²¾åã€‚ å·²ç»ä¸æ˜¯ç¬¬ä¸€æ¬¡å¬è¯´webpackï¼Œä½†æ˜¯æˆ‘çš„èµ·æ­¥æœ‰ç‚¹æ™šï¼Œç°åœ¨æ‰çœ‹ã€‚å¼€é—¨è§å±±~~ &lt;/p&gt;
&lt;h2 id=&quot;1-ä»€ä¹ˆæ˜¯webpackï¼Ÿ&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯webpackï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;1. ä»€ä¹ˆæ˜¯webpackï¼Ÿ&quot;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯webpackï¼Ÿ&lt;/h2&gt;&lt;p&gt;webpackæ˜¯å½“ä¸‹æœ€çƒ­é—¨çš„å‰ç«¯èµ„æºæ¨¡å—åŒ–ç®¡ç†å’Œæ‰“åŒ…å·¥å…·ï¼ˆå°±æ˜¯ä¸€ä¸ªæ‰“åŒ…å™¨ï¼‰ï¼Œå¯ä»¥å°†è®¸å¤šæ¾æ•£çš„æ¨¡å—æŒ‰ç…§ä¾èµ–å’Œè§„åˆ™æ‰“åŒ…æˆç¬¦åˆç”Ÿäº§ç¯å¢ƒéƒ¨ç½²çš„å‰ç«¯èµ„æºï¼Œè¿˜å¯ä»¥å°†éœ€è¦åŠ è½½çš„æ¨¡å—è¿›è¡Œä»£ç åˆ†ç¦»ï¼Œç­‰åˆ°å®é™…éœ€è¦çš„æ—¶å€™å†è¿›è¡Œå¼‚æ­¥åŠ è½½ã€‚é€šè¿‡loaderçš„è½¬æ¢ï¼Œä»»ä½•èµ„æºéƒ½å¯ä»¥è§†ä½œæ¨¡å—ï¼Œå¦‚COMMONJSæ¨¡å— ,AMDæ¨¡å—ï¼ŒJS CSS ,JSON ç­‰ ï¼Œå®ƒä¼šæ ¹æ®æ¨¡å—çš„ä¾èµ–å…³ç³»è¿›è¡Œé™æ€åˆ†æï¼Œç„¶åå°†è¿™äº›æ¨¡å—æŒ‰ç…§æŒ‡å®šçš„è§„åˆ™ç”Ÿæˆå¯¹åº”çš„é™æ€èµ„æºã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å‰ç«¯é‚£äº›æ‰“åŒ…å·¥å…·" scheme="http://www.sulishibaobei.com/categories/%E5%89%8D%E7%AB%AF%E9%82%A3%E4%BA%9B%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="webpack" scheme="http://www.sulishibaobei.com/tags/webpack/"/>
    
      <category term="CMD,COMMONJS" scheme="http://www.sulishibaobei.com/tags/CMD-COMMONJS/"/>
    
      <category term="æ¨¡å—" scheme="http://www.sulishibaobei.com/tags/%E6%A8%A1%E5%9D%97/"/>
    
  </entry>
  
  <entry>
    <title>nodejs+websocketå®æ—¶èŠå¤©ç³»ç»Ÿ</title>
    <link href="http://www.sulishibaobei.com/wb/wb-120170907/"/>
    <id>http://www.sulishibaobei.com/wb/wb-120170907/</id>
    <published>2017-09-07T01:08:53.000Z</published>
    <updated>2017-09-19T05:44:28.638Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»‹ç»ä¸‹websocketï¼š"><a href="#ä»‹ç»ä¸‹websocketï¼š" class="headerlink" title="ä»‹ç»ä¸‹websocketï¼š"></a>ä»‹ç»ä¸‹websocketï¼š</h2><p>  webSocketåè®®æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŸºäºtcpçš„åè®®; </p>
<h2 id="å»ºç«‹ä¸€ä¸ªwebsocketè¿æ¥ï¼Œå¤§ä½“çš„è¿‡ç¨‹ï¼š"><a href="#å»ºç«‹ä¸€ä¸ªwebsocketè¿æ¥ï¼Œå¤§ä½“çš„è¿‡ç¨‹ï¼š" class="headerlink" title="å»ºç«‹ä¸€ä¸ªwebsocketè¿æ¥ï¼Œå¤§ä½“çš„è¿‡ç¨‹ï¼š"></a>å»ºç«‹ä¸€ä¸ªwebsocketè¿æ¥ï¼Œå¤§ä½“çš„è¿‡ç¨‹ï¼š</h2><p> 1.å®¢æˆ·ç«¯æµè§ˆå™¨é¦–å…ˆå‘æœåŠ¡å™¨å‘èµ·ä¸€ä¸ªhttpè¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚å’Œå¹³å¸¸çš„è¯·æ±‚æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ<br> å¤šäº†ä¸€ç‚¹é™„åŠ å¤´ä¿¡æ¯ï¼šâ€upgrade:web Socketâ€ è¡¨æ˜æˆ‘è¿™ç”³è¯·çš„æ˜¯ä¸€ä¸ªwebsocketçš„httpè¯·æ±‚ï¼›<br> 2.æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œè§£æè¿™äº›é™„åŠ çš„å¤´ä¿¡æ¯ï¼Œç„¶åäº§ç”Ÿåº”ç­”ä¿¡æ¯è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œè¿™æ ·ï¼Œè¿æ¥å°±å»ºç«‹äº†ï¼›<br> 3.åŒæ–¹å°±å¯ä»¥é€šè¿‡è¿™ä¸ªè¿æ¥é€šé“è‡ªç”±çš„ä¿¡æ¯ä¼ é€’ï¼Œè¿™ä¸ªè¿æ¥ä¼šä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°ä¸€æ–¹è‡ªåŠ¨å…³é—­è¿æ¥ï¼› </p>
<a id="more"></a>
<h3 id="å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯ï¼š"><a href="#å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯ï¼š" class="headerlink" title="å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯ï¼š"></a>å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯ï¼š</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">GET /demo HTTP/<span class="number">1.1</span></div><div class="line">Host: example.com</div><div class="line">Connection: Upgrade</div><div class="line">Sec-WebSocket-Key2: <span class="number">12998</span> <span class="number">5</span> Y3 <span class="number">1</span> .P00</div><div class="line">Upgrade: WebSocket</div><div class="line">Sec-WebSocket-Key1: <span class="number">4</span>@<span class="number">1</span> <span class="number">46546</span>xW%<span class="number">0</span>l <span class="number">1</span> <span class="number">5</span></div><div class="line">Origin: http:<span class="comment">//example.com</span></div><div class="line">[<span class="number">8</span>-byte security key]</div></pre></td></tr></table></figure>
<h3 id="æœåŠ¡ç«¯åˆ°å®¢æˆ·ç«¯ï¼š"><a href="#æœåŠ¡ç«¯åˆ°å®¢æˆ·ç«¯ï¼š" class="headerlink" title="æœåŠ¡ç«¯åˆ°å®¢æˆ·ç«¯ï¼š"></a>æœåŠ¡ç«¯åˆ°å®¢æˆ·ç«¯ï¼š</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">HTTP/<span class="number">1.1</span> <span class="number">101</span> WebSocket Protocol Handshake</div><div class="line">Upgrade: WebSocket</div><div class="line">Connection: Upgrade</div><div class="line">WebSocket-Origin: http:<span class="comment">//example.com</span></div><div class="line">WebSocket-Location: ws:<span class="comment">//example.com/demo</span></div><div class="line">[<span class="number">16</span>-byte hash response]</div></pre></td></tr></table></figure>
<p>ä»å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯è¯·æ±‚çš„ä¿¡æ¯é‡Œé¢åŒ…å«ï¼šâ€˜Sec-webSocket-key1â€,â€Sec-WebSocket-key2â€å’Œâ€œ[8-byte security key]â€è¿™æ ·çš„ä¿¡æ¯ï¼›è¿™æ˜¯å®¢æˆ·ç«¯æµè§ˆå™¨éœ€è¦å‘æœåŠ¡ç«¯æä¾›çš„æ¡æ‰‹ä¿¡æ¯ï¼ŒæœåŠ¡ç«¯è§£æè¿™äº›å¤´ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨æ¡æ‰‹çš„è¿‡ç¨‹ä¸­ä¾æ®è¿™äº›ä¿¡æ¯ç”Ÿæˆä¸€ä¸ª16ä½çš„å®‰å…¨å¯†é’¥å¹¶è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œä»¥è¡¨æ˜æœåŠ¡å™¨ç«¯è·å–äº†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼›<br><strong>å¤§è‡´æ­¥éª¤ï¼š</strong> </p>
<ol>
<li>é€ä¸ªå­—ç¬¦è¯»å– Sec-WebSocket-Key1 å¤´ä¿¡æ¯ä¸­çš„å€¼ï¼Œå°†æ•°å€¼å‹å­—ç¬¦è¿æ¥åˆ°ä¸€èµ·æ”¾åˆ°ä¸€ä¸ªä¸´æ—¶å­—ç¬¦ä¸²é‡Œï¼ŒåŒæ—¶ç»Ÿè®¡æ‰€æœ‰ç©ºæ ¼çš„æ•°é‡ï¼›</li>
<li>å°†åœ¨ç¬¬ 1 æ­¥é‡Œç”Ÿæˆçš„æ•°å­—å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªæ•´å‹æ•°å­—ï¼Œç„¶åé™¤ä»¥ç¬¬ 1 æ­¥é‡Œç»Ÿè®¡å‡ºæ¥çš„ç©ºæ ¼æ•°é‡ï¼Œå°†å¾—åˆ°çš„æµ®ç‚¹æ•°è½¬æ¢æˆæ•´æ•°å‹ï¼›</li>
<li>å°†ç¬¬ 2 æ­¥é‡Œç”Ÿæˆçš„æ•´å‹å€¼è½¬æ¢ä¸ºç¬¦åˆç½‘ç»œä¼ è¾“çš„ç½‘ç»œå­—èŠ‚æ•°ç»„ï¼›</li>
<li>å¯¹ Sec-WebSocket-Key2 å¤´ä¿¡æ¯åŒæ ·è¿›è¡Œç¬¬ 1 åˆ°ç¬¬ 3 æ­¥çš„æ“ä½œï¼Œå¾—åˆ°å¦å¤–ä¸€ä¸ªç½‘ç»œå­—èŠ‚æ•°ç»„ï¼›</li>
<li>å°† [8-byte security key] å’Œåœ¨ç¬¬ 3ï¼Œç¬¬ 4 æ­¥é‡Œç”Ÿæˆçš„ç½‘ç»œå­—èŠ‚æ•°ç»„åˆå¹¶æˆä¸€ä¸ª 16 å­—èŠ‚çš„æ•°ç»„ï¼›</li>
<li>å¯¹ç¬¬ 5 æ­¥ç”Ÿæˆçš„å­—èŠ‚æ•°ç»„ä½¿ç”¨ MD5 ç®—æ³•ç”Ÿæˆä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œè¿™ä¸ªå“ˆå¸Œå€¼å°±ä½œä¸ºå®‰å…¨å¯†é’¥è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œä»¥è¡¨æ˜æœåŠ¡å™¨ç«¯è·å–äº†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼ŒåŒæ„åˆ›å»º WebSocket è¿æ¥</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span>  wsServer = <span class="string">'ws://localhost:8888/Demo'</span>;  <span class="comment">//è¿æ¥åœ°å€</span></div><div class="line"><span class="keyword">var</span>  websocket = <span class="keyword">new</span> WebSocket(wsServer);   <span class="comment">//å»ºç«‹è¿æ¥</span></div><div class="line">websocket.onopen = <span class="function"><span class="keyword">function</span> (<span class="params">evt</span>) </span>&#123; onOpen(evt) &#125;;  <span class="comment">//4ä¸ªäº‹ä»¶</span></div><div class="line">websocket.onclose = <span class="function"><span class="keyword">function</span> (<span class="params">evt</span>) </span>&#123; onClose(evt) &#125;; </div><div class="line">websocket.onmessage = <span class="function"><span class="keyword">function</span> (<span class="params">evt</span>) </span>&#123; onMessage(evt) &#125;; </div><div class="line">websocket.onerror = <span class="function"><span class="keyword">function</span> (<span class="params">evt</span>) </span>&#123; onError(evt) &#125;; </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onOpen</span>(<span class="params">evt</span>) </span>&#123; </div><div class="line"><span class="built_in">console</span>.log(<span class="string">"Connected to WebSocket server."</span>); </div><div class="line">&#125; </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onClose</span>(<span class="params">evt</span>) </span>&#123; </div><div class="line"><span class="built_in">console</span>.log(<span class="string">"Disconnected"</span>); </div><div class="line">&#125; </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onMessage</span>(<span class="params">evt</span>) </span>&#123; </div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Retrieved data from server: '</span> + evt.data); </div><div class="line">&#125; </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onError</span>(<span class="params">evt</span>) </span>&#123; </div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Error occured: '</span> + evt.data); </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æµè§ˆå™¨çš„æ”¯æŒæƒ…å†µï¼š </p>
<table>
<thead>
<tr>
<th>æµè§ˆå™¨</th>
<th>æ”¯æŒæƒ…å†µ</th>
</tr>
</thead>
<tbody>
<tr>
<td>Chrome</td>
<td>Supported in version 4+</td>
</tr>
<tr>
<td>Firefox</td>
<td>Supported in version 4+</td>
</tr>
<tr>
<td>Internet Explorer</td>
<td>Supported in version 10+</td>
</tr>
<tr>
<td>Opera</td>
<td>Supported in version 10+</td>
</tr>
<tr>
<td>Safari</td>
<td>Supported in version 5+</td>
</tr>
</tbody>
</table>
<h2 id="æ­£æ–‡æ¥äº†ï¼šåŸºäºwebsocketåˆ¶ä½œçš„ç®€å•èŠå¤©ç³»ç»Ÿï¼›"><a href="#æ­£æ–‡æ¥äº†ï¼šåŸºäºwebsocketåˆ¶ä½œçš„ç®€å•èŠå¤©ç³»ç»Ÿï¼›" class="headerlink" title="æ­£æ–‡æ¥äº†ï¼šåŸºäºwebsocketåˆ¶ä½œçš„ç®€å•èŠå¤©ç³»ç»Ÿï¼›"></a>æ­£æ–‡æ¥äº†ï¼šåŸºäºwebsocketåˆ¶ä½œçš„ç®€å•èŠå¤©ç³»ç»Ÿï¼›</h2><h3 id="ç®€å•çš„ç•Œé¢ï¼Œå¤§è‡´æ•ˆæœå°±æ˜¯è¿™æ ·çš„ï¼š"><a href="#ç®€å•çš„ç•Œé¢ï¼Œå¤§è‡´æ•ˆæœå°±æ˜¯è¿™æ ·çš„ï¼š" class="headerlink" title="ç®€å•çš„ç•Œé¢ï¼Œå¤§è‡´æ•ˆæœå°±æ˜¯è¿™æ ·çš„ï¼š"></a>ç®€å•çš„ç•Œé¢ï¼Œå¤§è‡´æ•ˆæœå°±æ˜¯è¿™æ ·çš„ï¼š</h3><p><img src="/images/websocket-1.png" alt="websocket"></p>
<h3 id="å®ç°é€»è¾‘ä»£ç ï¼š"><a href="#å®ç°é€»è¾‘ä»£ç ï¼š" class="headerlink" title="å®ç°é€»è¾‘ä»£ç ï¼š"></a>å®ç°é€»è¾‘ä»£ç ï¼š</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">'ws://127.0.0.1:8082'</span>);</div><div class="line">    ws.onopen = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"è¿æ¥æœåŠ¡å™¨æˆåŠŸ"</span>);</div><div class="line">    &#125;</div><div class="line">                ws.onmessage = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">                    value1.removeAttribute(<span class="string">"readOnly"</span>);</div><div class="line">                    <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">                    mess.innerHTML += time.toUTCString() + <span class="string">":"</span> + e.data + <span class="string">"&amp;lt;br&amp;gt;"</span>;</div><div class="line">                    <span class="built_in">document</span>.getElementById(<span class="string">"send"</span>).onclick = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">                        ws.send(input.value + <span class="string">"è¯´:"</span> + value1.value);</div><div class="line">                        value1.value = <span class="string">" "</span>;</div><div class="line">                    &#125;</div><div class="line">                    <span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">                        e = e || <span class="built_in">window</span>.event;</div><div class="line">                        <span class="keyword">if</span> (e.keyCode == <span class="number">13</span>) &#123;</div><div class="line">                            <span class="built_in">document</span>.getElementById(<span class="string">"send"</span>).onclick();</div><div class="line">                            <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                ws.onclose = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">                    <span class="built_in">console</span>.log(<span class="string">"æœåŠ¡å™¨å…³é—­"</span>);</div><div class="line">                &#125;</div><div class="line">                ws.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                    <span class="built_in">console</span>.log(<span class="string">"è¿æ¥å‡ºé”™"</span>);</div><div class="line">     &#125;</div></pre></td></tr></table></figure>
<p>è¿æ¥åœ°å€ï¼šws://127.0.0.1:8082&nbsp; é‚£æ˜¯å“ªé‡Œæ¥çš„å‘¢ï¼Ÿï¼ˆæ³¨æ„httpè¯·æ±‚åˆ™æ˜¯å†™æˆ<a href="http://xxx,httpsè¯·æ±‚åˆ™æ˜¯https://xxxï¼›wså½“ç„¶æ˜¯ws://xxx);wbsocketåªæ˜¯å®¢æœç«¯ï¼Œåœ°å€å½“ç„¶æ˜¯ä»æˆ‘ä»¬çš„æœåŠ¡ç«¯ç»™çš„å‘€ï¼›" target="_blank" rel="external">http://xxx,httpsè¯·æ±‚åˆ™æ˜¯https://xxxï¼›wså½“ç„¶æ˜¯ws://xxx);wbsocketåªæ˜¯å®¢æœç«¯ï¼Œåœ°å€å½“ç„¶æ˜¯ä»æˆ‘ä»¬çš„æœåŠ¡ç«¯ç»™çš„å‘€ï¼›</a><br>æœåŠ¡ç«¯çš„æ­å»ºé‡‡ç”¨äº†ä¸€ä¸ªè¿™æ ·çš„åº“ï¼š <code>nodejs-websocket</code> </p>
<ol>
<li><code>npm isntall -g nodejs-websocket</code></li>
<li><p>åœ¨jsé¡µé¢å¼•å…¥å®ƒ </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">var</span> ws = <span class="built_in">require</span>(<span class="string">"nodejs-websocket"</span> );  </div><div class="line"> <span class="string">``</span><span class="string">` </span></div><div class="line"> 3. åˆ›å»ºä¸€ä¸ªæœåŠ¡ </div><div class="line"></div><div class="line">`<span class="string">``</span>javascript </div><div class="line"> <span class="keyword">var</span> server = ws.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">conn</span>) </span>&#123;</div><div class="line">    conn.on(<span class="string">'text'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</div><div class="line">    &#125;)</div><div class="line"></div><div class="line">    conn.on(<span class="string">"close"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">code, reason</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"å…³é—­è¿æ¥"</span>);</div><div class="line">    &#125;)</div><div class="line">    conn.on(<span class="string">"error"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">code, reason</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"å¼‚å¸¸å…³é—­"</span>);</div><div class="line">    &#125;);</div><div class="line">&#125;).listen(<span class="number">8082</span>);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"websocketè¿æ¥å®Œæ¯•"</span>)</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="websocketè¿æ¥ç®—æ˜¯å»ºç«‹å•¦ï¼"><a href="#websocketè¿æ¥ç®—æ˜¯å»ºç«‹å•¦ï¼" class="headerlink" title="websocketè¿æ¥ç®—æ˜¯å»ºç«‹å•¦ï¼"></a>websocketè¿æ¥ç®—æ˜¯å»ºç«‹å•¦ï¼</h3><p>ä¸‹é¢å±•ç¤ºä¸‹å…·ä½“ä»£ç ï¼š<br><code>client.html</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"bootstrap-3.3.7-dist/css/bootstrap.min.css"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bootstrap-3.3.7-dist/js/bootstrap.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">        <span class="selector-class">.kuang</span> &#123;</div><div class="line">            <span class="attribute">width</span>: <span class="number">600px</span>;</div><div class="line">            <span class="attribute">min-height</span>: <span class="number">50px</span>;</div><div class="line">            <span class="attribute">max-height</span>: <span class="number">296px</span>;</div><div class="line">            <span class="attribute">border</span>: <span class="number">1px</span> solid;</div><div class="line">            <span class="attribute">float</span>: left;</div><div class="line">            <span class="attribute">display</span>: block;</div><div class="line">            <span class="attribute">position</span>: relative;</div><div class="line">            <span class="attribute">overflow-y</span>: scroll;</div><div class="line">        &#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></div><div class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"jumbotron  bg-dark"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"jumbotron-heading"</span>&gt;</span>WebSocket chat,æ¬¢è¿ä½¿ç”¨:<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-group text-left"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">label</span>&gt;</span>è¾“å…¥ç”¨æˆ·åï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"name"</span> /&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"conn"</span>&gt;</span>è¿æ¥<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"close"</span>&gt;</span>æ–­å¼€<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-group text-muted"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"kuang"</span> <span class="attr">id</span>=<span class="string">"mess"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">hr</span> <span class="attr">class</span>=<span class="string">"featurette-divider"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-group text-left"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"value"</span> <span class="attr">id</span>=<span class="string">"value1"</span> /&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"send"</span>&gt;</span>å‘é€<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">        <span class="keyword">var</span> input = <span class="built_in">document</span>.getElementById(<span class="string">"name"</span>);</div><div class="line">        <span class="keyword">var</span> conn = <span class="built_in">document</span>.getElementById(<span class="string">"conn"</span>);</div><div class="line">        <span class="keyword">var</span> close = <span class="built_in">document</span>.getElementById(<span class="string">"close"</span>);</div><div class="line">        <span class="keyword">var</span> mess = <span class="built_in">document</span>.getElementById(<span class="string">"mess"</span>);</div><div class="line">        <span class="keyword">var</span> value1 = <span class="built_in">document</span>.getElementById(<span class="string">"value1"</span>);</div><div class="line">        <span class="keyword">var</span> pattern = <span class="regexp">/^[\u4e00-\u9fa5]&#123;2,10&#125;$/</span>;</div><div class="line">        close.disabled = <span class="literal">true</span>;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">window</span>.WebSocket) &#123;</div><div class="line">            conn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                <span class="keyword">if</span> (!pattern.test(input.value)) &#123;</div><div class="line">                    alert(<span class="string">"åç§°ä¸èƒ½ä¸ºç©ºä¸”å¿…é¡»ä¸ºä¸­æ–‡"</span>);</div><div class="line">                    <span class="keyword">return</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">var</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">'ws://127.0.0.1:8082'</span>);</div><div class="line">                conn.disabled = <span class="literal">true</span>;</div><div class="line">                close.disabled = <span class="literal">false</span>;</div><div class="line">                ws.onopen = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">                    <span class="built_in">console</span>.log(<span class="string">"è¿æ¥æœåŠ¡å™¨æˆåŠŸ"</span>);</div><div class="line">                    ws.send(input.value);</div><div class="line">                    input.setAttribute(<span class="string">"readOnly"</span>, <span class="string">'true'</span>);</div><div class="line">                    value1.setAttribute(<span class="string">"readOnly"</span>, <span class="string">'true'</span>);</div><div class="line">                &#125;</div><div class="line">                ws.onmessage = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">                    value1.removeAttribute(<span class="string">"readOnly"</span>);</div><div class="line">                    <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">                    mess.innerHTML += time.toUTCString() + <span class="string">":"</span> + e.data + <span class="string">"&lt;br&gt;"</span>;</div><div class="line">                    <span class="built_in">document</span>.getElementById(<span class="string">"send"</span>).onclick = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">                        ws.send(input.value + <span class="string">"è¯´:"</span> + value1.value);</div><div class="line">                        value1.value = <span class="string">" "</span>;</div><div class="line">                    &#125;</div><div class="line">                    <span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">                        e = e || <span class="built_in">window</span>.event;</div><div class="line">                        <span class="keyword">if</span> (e.keyCode == <span class="number">13</span>) &#123;</div><div class="line">                            <span class="built_in">document</span>.getElementById(<span class="string">"send"</span>).onclick();</div><div class="line">                            <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                ws.onclose = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">                    <span class="built_in">console</span>.log(<span class="string">"æœåŠ¡å™¨å…³é—­"</span>);</div><div class="line">                &#125;</div><div class="line">                ws.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                    <span class="built_in">console</span>.log(<span class="string">"è¿æ¥å‡ºé”™"</span>);</div><div class="line">                &#125;</div><div class="line"> </div><div class="line">                close.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                    ws.onclose();</div><div class="line">                    ws.send(input.value + <span class="string">'close'</span> + <span class="string">"äº†è¿æ¥"</span>);</div><div class="line">                    input.removeAttribute(<span class="string">"readOnly"</span>);</div><div class="line">                    conn.disabled = <span class="literal">false</span>;</div><div class="line">                    close.disabled = <span class="literal">true</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><code>server.js</code> </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ws = <span class="built_in">require</span>(<span class="string">"nodejs-websocket"</span>);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"å¼€å§‹å»ºç«‹è¿æ¥..."</span>);</div><div class="line"><span class="keyword">var</span> str1 = <span class="literal">null</span>, str2 = <span class="literal">null</span>, clientReady = <span class="literal">false</span>, serverReady = <span class="literal">false</span>;</div><div class="line"><span class="keyword">var</span> a = [];</div><div class="line"><span class="keyword">var</span> server = ws.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">conn</span>) </span>&#123;</div><div class="line">    conn.on(<span class="string">'text'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</div><div class="line">          a.push(str);</div><div class="line">        <span class="keyword">if</span> (!clientReady) &#123;</div><div class="line">            <span class="keyword">if</span> (a[<span class="number">0</span>] === str) &#123;</div><div class="line">                str1 = conn;</div><div class="line">                clientReady = <span class="literal">true</span>;</div><div class="line">                str1.sendText(<span class="string">"æ¬¢è¿ä½ "</span> + str);</div><div class="line">                </div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!serverReady) &#123;</div><div class="line">            <span class="keyword">if</span> (str.indexOf(<span class="string">'close'</span>) &amp;gt;= <span class="number">0</span>) &#123;    </div><div class="line">                     a.splice(<span class="number">2</span>,<span class="number">1</span>);</div><div class="line">                     clientReady = <span class="literal">false</span>;</div><div class="line">                     str1=<span class="literal">null</span>;   </div><div class="line">                     <span class="keyword">return</span>;</div><div class="line">                &#125;</div><div class="line">            <span class="keyword">if</span> (a[<span class="number">1</span>] === str) &#123;</div><div class="line">                str2 = conn;</div><div class="line">                serverReady = <span class="literal">true</span>;</div><div class="line">                str2.sendText(<span class="string">"æ¬¢è¿ä½ "</span> + str);</div><div class="line">                str1.sendText(str + <span class="string">"åœ¨çº¿å•¦ï¼Œä½ ä»¬å¯ä»¥èŠå¤©å•¦"</span>);</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125; </div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (clientReady &amp;amp;&amp;amp; serverReady) &#123;</div><div class="line">                str2.sendText(str);</div><div class="line">                str1.sendText(str);</div><div class="line">                <span class="keyword">if</span> (str.indexOf(<span class="string">'close'</span>) &amp;gt;= <span class="number">0</span>) &#123;</div><div class="line">                    a.splice(<span class="number">2</span>, a.length);</div><div class="line">                    <span class="keyword">var</span> len = a.length;</div><div class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &amp;lt; len; i++) &#123;</div><div class="line">                        <span class="comment">// å®šä½è¯¥å…ƒç´ ä½ç½®</span></div><div class="line">                        <span class="keyword">if</span> (str.indexOf(a[i])&amp;gt;=<span class="number">0</span>) &#123;     </div><div class="line">                           a.splice(i,<span class="number">1</span>);</div><div class="line">                           <span class="keyword">if</span>(i==<span class="number">0</span>)&#123;</div><div class="line">                               str1=str2;</div><div class="line">                           &#125;</div><div class="line">                           serverReady = <span class="literal">false</span>; </div><div class="line">                           str2=<span class="literal">null</span>;</div><div class="line">                           <span class="keyword">return</span>;</div><div class="line">                        &#125;</div><div class="line">                      </div><div class="line">                    &#125; </div><div class="line">                &#125;</div><div class="line">            &#125;       </div><div class="line">    &#125;)</div><div class="line">    conn.on(<span class="string">"close"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">code, reason</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"å…³é—­è¿æ¥"</span>);</div><div class="line">        clientReady = <span class="literal">false</span>;</div><div class="line">        serverReady = <span class="literal">false</span>;</div><div class="line">    &#125;)</div><div class="line">    conn.on(<span class="string">"error"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">code, reason</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"å¼‚å¸¸å…³é—­"</span>);</div><div class="line">    &#125;);</div><div class="line">&#125;).listen(<span class="number">8082</span>);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"websocketè¿æ¥å®Œæ¯•"</span>)</div></pre></td></tr></table></figure>
<p>å®ç°åŒäººèŠå¤©ï¼Œclient.htmlå¼€å¯ä¸¤ä¸ªçª—å£å°±è¡Œï¼<br>è¯¦ç»†ä»£ç åœ¨<a href="https://github.com/sulishibaobei/websocket" target="_blank" rel="external">github</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ä»‹ç»ä¸‹websocketï¼š&quot;&gt;&lt;a href=&quot;#ä»‹ç»ä¸‹websocketï¼š&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»ä¸‹websocketï¼š&quot;&gt;&lt;/a&gt;ä»‹ç»ä¸‹websocketï¼š&lt;/h2&gt;&lt;p&gt;  webSocketåè®®æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŸºäºtcpçš„åè®®; &lt;/p&gt;
&lt;h2 id=&quot;å»ºç«‹ä¸€ä¸ªwebsocketè¿æ¥ï¼Œå¤§ä½“çš„è¿‡ç¨‹ï¼š&quot;&gt;&lt;a href=&quot;#å»ºç«‹ä¸€ä¸ªwebsocketè¿æ¥ï¼Œå¤§ä½“çš„è¿‡ç¨‹ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å»ºç«‹ä¸€ä¸ªwebsocketè¿æ¥ï¼Œå¤§ä½“çš„è¿‡ç¨‹ï¼š&quot;&gt;&lt;/a&gt;å»ºç«‹ä¸€ä¸ªwebsocketè¿æ¥ï¼Œå¤§ä½“çš„è¿‡ç¨‹ï¼š&lt;/h2&gt;&lt;p&gt; 1.å®¢æˆ·ç«¯æµè§ˆå™¨é¦–å…ˆå‘æœåŠ¡å™¨å‘èµ·ä¸€ä¸ªhttpè¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚å’Œå¹³å¸¸çš„è¯·æ±‚æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ&lt;br&gt; å¤šäº†ä¸€ç‚¹é™„åŠ å¤´ä¿¡æ¯ï¼šâ€upgrade:web Socketâ€ è¡¨æ˜æˆ‘è¿™ç”³è¯·çš„æ˜¯ä¸€ä¸ªwebsocketçš„httpè¯·æ±‚ï¼›&lt;br&gt; 2.æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œè§£æè¿™äº›é™„åŠ çš„å¤´ä¿¡æ¯ï¼Œç„¶åäº§ç”Ÿåº”ç­”ä¿¡æ¯è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œè¿™æ ·ï¼Œè¿æ¥å°±å»ºç«‹äº†ï¼›&lt;br&gt; 3.åŒæ–¹å°±å¯ä»¥é€šè¿‡è¿™ä¸ªè¿æ¥é€šé“è‡ªç”±çš„ä¿¡æ¯ä¼ é€’ï¼Œè¿™ä¸ªè¿æ¥ä¼šä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°ä¸€æ–¹è‡ªåŠ¨å…³é—­è¿æ¥ï¼› &lt;/p&gt;
    
    </summary>
    
      <category term="html5" scheme="http://www.sulishibaobei.com/categories/html5/"/>
    
    
      <category term="nodejs" scheme="http://www.sulishibaobei.com/tags/nodejs/"/>
    
      <category term="websocket" scheme="http://www.sulishibaobei.com/tags/websocket/"/>
    
  </entry>
  
  <entry>
    <title>git æ‰“å¡çš„ç¬¬ä¸€å¤©</title>
    <link href="http://www.sulishibaobei.com/git/git-120170907/"/>
    <id>http://www.sulishibaobei.com/git/git-120170907/</id>
    <published>2017-09-07T01:08:53.000Z</published>
    <updated>2017-09-07T09:31:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>å› ä¸ºæŸç§åŸå› ï¼Œæ‰€ä»¥ä¸å¾—ä¸é‡æ–°å·©å›ºä¸‹å‰ç«¯çš„åŸºç¡€çŸ¥è¯†ï¼Œä»æœ€åŸºæœ¬çš„å­¦ä¹ è¿˜å¾—é¢å¤–çš„å­¦ä¹ æ–°çŸ¥è¯†ï¼Œå€æ„Ÿå‹åŠ›ä¹‹å¤§ã€‚ æ˜¨å¤©åˆç•¥å­¦ä¹ ä¸‹gitï¼Œç®—æ˜¯è‡ªå·±å­¦ä¹ çš„ä¸€ä¸ªæ–°çŸ¥è¯†ã€‚ç®€å•è®°å½•ä¸‹ï¼Œå¸Œæœ›å››æµ·å…«è’çš„å¤§ç¥çœ‹è¿‡æ¥ï¼Œæœ‰é”™çš„è¯·æŒ‡å¯¼ã€‚</p>
<h2 id="gitä¸‹è½½å®‰è£…"><a href="#gitä¸‹è½½å®‰è£…" class="headerlink" title="gitä¸‹è½½å®‰è£…"></a>gitä¸‹è½½å®‰è£…</h2><p><a href="https://git-for-windows.github.io/" target="_blank" rel="external">gitä¸‹è½½å®‰è£…åœ°å€</a>ä¸‹è½½å¥½ä¹‹åè®°å¾—é…ç½®ç¯å¢ƒå˜é‡ã€‚<br><strong>gitçš„ä½œç”¨ä¸»è¦æ˜¯å°†é¡¹ç›®ä¿å­˜åˆ°gitç›®å½•ä¸­</strong><br><a id="more"></a></p>
<h2 id="gitä»‹ç»"><a href="#gitä»‹ç»" class="headerlink" title="gitä»‹ç»"></a>gitä»‹ç»</h2><p><strong>ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªå—ï¼š</strong><br>[1] working directory(å·¥ä½œç›®å½•ï¼‰  æœ¬åœ°ä¸Šå­˜æ”¾é¡¹ç›®çš„ç›®å½•ã€‚<br>[2] staging area æš‚å­˜æ”¾åŒºåŸŸ    æ›´æ–°æš‚æœªæäº¤çš„é¡¹ç›®ã€‚<br>[3] git directory  gitä¸Šå­˜æ”¾é¡¹ç›®çš„åœ°æ–¹ã€‚<br>1.ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨gitéƒ½ä¼šå°†ä¸€äº›ä¿®æ”¹çš„æ–‡ä»¶ä¿å­˜åœ¨æš‚å­˜åŒºåŸŸï¼Œç„¶åä¸€å¹¶æäº¤æ›´æ–°åˆ°gitç›®å½•ä¸­ã€‚<br>2.å®‰è£…å¥½gitä¹‹åï¼Œç½‘é¡µæ‰“å¼€githubï¼Œæ³¨å†Œä¿¡æ¯ã€‚ç™»é™†è¿›å»ï¼Œæ¥ä¸‹æ¥é…ç½®ä¿¡æ¯ã€‚<br>3.æ‰“å¼€å³ä¸Šè§’ï¼Œå¦‚ä¸‹å›¾ç‚¹å‡»settingsã€‚ç„¶åç‚¹å‡»SSH and GPG keys ,é…ç½®SSHã€‚æ‰“å¼€cmdæˆ–è€…git bashã€‚æ‰¾ä¸åˆ°git.bashçš„å°±åœ¨å¼€å§‹é‚£é‡Œæœç´¢æˆ–è€…åœ¨ä½ å®‰è£…çš„gitæ–‡ä»¶é‡Œé¢æ‰“å¼€git.bash.exeå°±ä¸€æ ·ã€‚<br>4.åœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š<font color="red">ssh-keygen -t rsa -C â€œä½ æ³¨å†Œgithubæ—¶çš„é‚®ç®±åâ€ </font>ç„¶åä¼šæç¤ºä½ ç”Ÿäº§çš„keyåœ¨id_rsa.pubæ–‡ä»¶ä¸­æ‰¾ã€‚<br><img src="/images/git-1.png" alt="git"><br>5.åœ¨ç”µè„‘ä¸­ä¸€ä¸ªå«.sshçš„æ–‡ä»¶é‡Œï¼Œç„¶åå¤åˆ¶é»è´´åœ¨å³è¾¹çš„keyæ¡†é‡Œé¢ï¼Œtitleå°±éšä¾¿æ‰“ã€‚<br><img src="/images/git-2.png" alt="git"><br><img src="/images/git-3.png" alt="git"><br> æ­¤æ—¶gitçš„å®‰è£…ç›®å½•å°±ä¸ºä½ çš„æ ¹ç›®å½•ã€‚</p>
<h2 id="é…ç½®ç”¨æˆ·ä¿¡æ¯ï¼š"><a href="#é…ç½®ç”¨æˆ·ä¿¡æ¯ï¼š" class="headerlink" title="é…ç½®ç”¨æˆ·ä¿¡æ¯ï¼š"></a>é…ç½®ç”¨æˆ·ä¿¡æ¯ï¼š</h2><p><code>git config --global user.name &quot;ä½ æ³¨å†Œæ—¶çš„ç”¨æˆ·å&quot;;</code><br><code>git config  --global user.email &quot;ä½ çš„é‚®ç®±&quot;;</code><br>gité‡Œé¢æä¾›äº†ä¸€ä¸ªgit configçš„å‘½ä»¤ä¸“é—¨ç”¨æ¥é…ç½®æˆ–è€…è¯»å–ç›¸åº”çš„å·¥ä½œç¯å¢ƒå˜é‡ã€‚<br>è¿™äº›å˜é‡å¯ä»¥å­˜æ”¾åœ¨ä¸‰ä¸ªåœ°æ–¹ï¼šetc/gitconfigæ–‡ä»¶ï¼Œ git config â€“systemè¯»å†™çš„å°±æ˜¯æ­¤æ–‡ä»¶ï¼›~/.gitconfigæ–‡ä»¶ï¼Œgit config â€“global è¯»å†™çš„å°±æ˜¯æ­¤æ–‡ä»¶ï¼›<br>é…ç½®å¥½ä¿¡æ¯åï¼Œå¯ä»¥é€šè¿‡git config â€“list å‘½ä»¤æŸ¥çœ‹&nbsp;&nbsp; å¦‚æœgit config user.nameå°±æ˜¯å…·ä½“çš„æŸ¥çœ‹æŸä¸ªç¯å¢ƒå˜é‡çš„è®¾å®šã€‚<br><strong>è‹¥ä¸çŸ¥é“å¦‚ä½•ä½¿ç”¨gitå‘½ä»¤ï¼Œå¯ä»¥git helpçœ‹çœ‹ã€‚</strong> </p>
<h2 id="gitä½¿ç”¨ã€‚"><a href="#gitä½¿ç”¨ã€‚" class="headerlink" title="gitä½¿ç”¨ã€‚"></a>gitä½¿ç”¨ã€‚</h2><p><img src="/images/git-4.png" alt="git"><br> æ–°å»ºä¸€ä¸ªgit ä»“åº“ï¼Œä¹Ÿå¯ä»¥å¯¼å…¥ä¸€ä¸ªæœ¬åœ°é¡¹ç›®ã€‚è¿›å…¥ä»“åº“<br> å¤åˆ¶è¿™ä¸ªåœ°å€<br><img src="/images/git-5.png" alt="git"><br> ç„¶åæ‰“å¼€cmdæˆ–è€…git.bash.exeï¼Œ<br> è¾“å…¥<code>git clone git@github.com:sulishibaobei/a.github.io.git</code> ï¼ˆä¸Šé¢å¤åˆ¶çš„è¿™ä¸²åœ°å€)<br> å°±ä¼šåœ¨ä½ çš„æœ¬åœ°å»ºç«‹ä¸€ä¸ªåä¸ºa.github.ioçš„ä»“åº“ï¼Œè¿›å…¥ä»“åº“ï¼Œå°†ä½ éœ€è¦ä¸Šä¼ çš„ä»£ç æ‹·è´è¿›å» </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git add *ï¼ˆ*æ˜¯ä¸Šä¼ æ‰€æœ‰çš„æœ¬ä»¶ï¼Œè‹¥æ˜¯æƒ³å…·ä½“çš„å°±å†™æ–‡ä»¶åï¼‰</div><div class="line">git commit  -m <span class="string">"version"</span>  æäº¤æ–‡ä»¶</div><div class="line">git push</div></pre></td></tr></table></figure>
<p> è¿™ä¸‰æ­¥å°±å®Œæˆgité¡¹ç›®çš„æäº¤ã€‚<br> å¯ä»¥ç”¨git statuså‘½ä»¤æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„çŠ¶æ€ã€‚<br> æ‰€æœ‰çš„æ–‡ä»¶éƒ½å¯ä»¥å…ˆaddåˆ°æš‚å­˜åŒºåŸŸï¼Œç„¶åæœ€åå†ä¸€èµ·commitã€‚ </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å› ä¸ºæŸç§åŸå› ï¼Œæ‰€ä»¥ä¸å¾—ä¸é‡æ–°å·©å›ºä¸‹å‰ç«¯çš„åŸºç¡€çŸ¥è¯†ï¼Œä»æœ€åŸºæœ¬çš„å­¦ä¹ è¿˜å¾—é¢å¤–çš„å­¦ä¹ æ–°çŸ¥è¯†ï¼Œå€æ„Ÿå‹åŠ›ä¹‹å¤§ã€‚ æ˜¨å¤©åˆç•¥å­¦ä¹ ä¸‹gitï¼Œç®—æ˜¯è‡ªå·±å­¦ä¹ çš„ä¸€ä¸ªæ–°çŸ¥è¯†ã€‚ç®€å•è®°å½•ä¸‹ï¼Œå¸Œæœ›å››æµ·å…«è’çš„å¤§ç¥çœ‹è¿‡æ¥ï¼Œæœ‰é”™çš„è¯·æŒ‡å¯¼ã€‚&lt;/p&gt;
&lt;h2 id=&quot;gitä¸‹è½½å®‰è£…&quot;&gt;&lt;a href=&quot;#gitä¸‹è½½å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;gitä¸‹è½½å®‰è£…&quot;&gt;&lt;/a&gt;gitä¸‹è½½å®‰è£…&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://git-for-windows.github.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;gitä¸‹è½½å®‰è£…åœ°å€&lt;/a&gt;ä¸‹è½½å¥½ä¹‹åè®°å¾—é…ç½®ç¯å¢ƒå˜é‡ã€‚&lt;br&gt;&lt;strong&gt;gitçš„ä½œç”¨ä¸»è¦æ˜¯å°†é¡¹ç›®ä¿å­˜åˆ°gitç›®å½•ä¸­&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Git" scheme="http://www.sulishibaobei.com/categories/Git/"/>
    
    
      <category term="git" scheme="http://www.sulishibaobei.com/tags/git/"/>
    
      <category term="ç¯å¢ƒå˜é‡é…ç½®" scheme="http://www.sulishibaobei.com/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE/"/>
    
      <category term="åŸºæœ¬gitæ“ä½œ" scheme="http://www.sulishibaobei.com/tags/%E5%9F%BA%E6%9C%ACgit%E6%93%8D%E4%BD%9C/"/>
    
  </entry>
  
  <entry>
    <title>Css3é›ªç¢§å›¾</title>
    <link href="http://www.sulishibaobei.com/css/sp-120170907/"/>
    <id>http://www.sulishibaobei.com/css/sp-120170907/</id>
    <published>2017-09-07T01:08:53.000Z</published>
    <updated>2017-09-08T13:42:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>Cssé›ªç¢§å›¾ï¼š CSSé›ªç¢§ å³CSS Spriteï¼Œä¹Ÿæœ‰äººå«å®ƒCSSç²¾çµï¼Œæ˜¯ä¸€ç§CSSå›¾åƒåˆå¹¶æŠ€æœ¯ï¼Œè¯¥æ–¹æ³•æ˜¯å°†å°å›¾æ ‡å’ŒèƒŒæ™¯å›¾åƒåˆå¹¶åˆ°ä¸€å¼ å›¾ç‰‡ä¸Šï¼Œç„¶ååˆ©ç”¨cssçš„èƒŒæ™¯å®šä½æ¥æ˜¾ç¤ºéœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡éƒ¨åˆ†ã€‚<br>åŸç†ï¼šCSSé›ªç¢§çš„åŸºæœ¬åŸç†æ˜¯æŠŠä½ çš„ç½‘ç«™ä¸Šç”¨åˆ°çš„ä¸€äº›å›¾ç‰‡æ•´åˆåˆ°ä¸€å¼ å•ç‹¬çš„å›¾ç‰‡ä¸­ï¼Œä»è€Œå‡å°‘ä½ çš„ç½‘ç«™çš„HTTPè¯·æ±‚æ•°é‡ã€‚è¯¥å›¾ç‰‡ä½¿ç”¨CSS backgroundå’Œbackground-positionå±æ€§æ¸²æŸ“ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ä½ çš„æ ‡ç­¾å˜å¾—æ›´åŠ å¤æ‚äº†ï¼Œå›¾ç‰‡æ˜¯åœ¨CSSä¸­å®šä¹‰ï¼Œè€Œé&lt;img&gt;æ ‡ç­¾ã€‚<br>å¦‚ä½•ç”Ÿæˆé›ªç¢§å›¾ï¼Ÿ<br>å®‰è£…gulpæ’ä»¶ï¼š <code>npm install â€“g gulp</code><br>å®‰è£…åˆ¶ä½œé›ªç¢§å›¾éœ€è¦çš„æ’ä»¶ <code>npm install â€“g gulp.spritesmith</code><br>æœ€å¥½å…¨å±€å’Œæœ¬åœ°å„è£…ä¸€éï¼›</p>
<a id="more"></a> 
<p>æ–°å»ºä¸€ä¸ªGulpfile.jsæ–‡ä»¶ï¼Œå°†ä¸‹åˆ—ä»£ç æ”¾è¿›å»ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp=<span class="built_in">require</span>(<span class="string">'gulp'</span>);   <span class="comment">//å¼•å…¥è¿™ä¸¤ä¸ªgulp  gulp.spritesmith</span></div><div class="line">    spritesmith=<span class="built_in">require</span>(<span class="string">'gulp.spritesmith'</span>);   </div><div class="line">      gulp.task(<span class="string">'default'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;   <span class="comment">//æ–°å»ºåä¸ºspriteçš„ä»»åŠ¡</span></div><div class="line">         gulp.src(<span class="string">'images/*.png'</span>)  <span class="comment">//éœ€è¦åˆæˆçš„å›¾ç‰‡è·¯å¾„  *ä¸ºé€šé…ç¬¦  è¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢æ‰€æœ‰åç¼€ä¸º.pngçš„æ–‡ä»¶éƒ½ä¼šè¢«åº”ç”¨</span></div><div class="line">            .pipe(spritesmith(&#123;  </div><div class="line">    <span class="attr">imgName</span>:<span class="string">'sprite.png'</span>,<span class="comment">//åˆæˆåéœ€è¦ä¿å­˜å›¾ç‰‡çš„è·¯å¾„ </span></div><div class="line">    cssName:<span class="string">'sprite.css'</span>,  <span class="comment">//åˆæˆåéœ€è¦ä¿å­˜çš„cssçš„è·¯å¾„</span></div><div class="line">    padding:<span class="number">5</span>,  <span class="comment">//è¡¨ç¤ºä¸¤ä¸ªå›¾ç‰‡é—´çš„ç©ºéš™</span></div><div class="line">    algorithm:<span class="string">'binary-tree'</span>, <span class="comment">// Algorithm æœ‰å››ä¸ªå¯é€‰å€¼åˆ†åˆ«ä¸ºtop-downã€left-rightã€diagonalã€alt-diagonalã€binary-tree</span></div><div class="line">    <span class="comment">// cssTemplate:'dist/handlebarsStr.css' //ç”Ÿæˆçš„cssæ¨¡æ¿æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯å‡½æ•°ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²</span></div><div class="line">    &#125;))  </div><div class="line">    .pipe(gulp.dest(<span class="string">'dist/'</span>)) <span class="comment">//å°†ç”Ÿæˆçš„æ–‡ä»¶æ”¾åˆ°distæ–‡ä»¶å¤¹ä¸‹ </span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>æˆ–è€…:è¿›å…¥é¡¹ç›® <code>npm init</code> è¾“å…¥éœ€è¦çš„ä¿¡æ¯,åˆ›å»ºä¸€ä¸ªpackage.jsonæ–‡ä»¶:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"> &#123;</div><div class="line">  <span class="attr">"name"</span>: <span class="string">"package.json"</span>,</div><div class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</div><div class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</div><div class="line">  <span class="attr">"main"</span>: <span class="string">"Gulpfile.js"</span>,</div><div class="line">  <span class="attr">"dependencies"</span>: &#123;</div><div class="line">    <span class="attr">"gulp"</span>: <span class="string">"^3.9.1"</span>,</div><div class="line">    <span class="attr">"gulp.spritesmith"</span>: <span class="string">"^6.5.1"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"devDependencies"</span>: &#123;&#125;,</div><div class="line">  <span class="attr">"scripts"</span>: &#123;</div><div class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;amp;&amp;amp; exit 1"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</div><div class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæå‡ ç‚¹éœ€è¦æ³¨æ„çš„ï¼š<br>éœ€è¦ä¸€ä¸ªGulpfile.jsï¼ˆé¦–å­—æ¯å°å†™ä¹Ÿå¯ä»¥ï¼‰ ï¼Œè¿è¡Œæ—¶æ‰§è¡Œ gulp defaultï¼ˆdefaulltæ˜¯ä½ æ–°å»ºçš„ä»»åŠ¡åï¼Œä¸æ˜¯å›ºå®šçš„ï¼Œä½ å†™æˆå…¶ä»–ä¹Ÿè¡Œï¼‰<br><b>imgName:â€™sprite.pngâ€™</b>//åˆæˆåéœ€è¦ä¿å­˜å›¾ç‰‡çš„è·¯å¾„<b>cssName:â€™sprite.cssâ€™</b><br>è¿™ä¸¤ä¸ªæ–‡ä»¶éœ€è¦ä½ å…ˆåˆ›å»ºï¼Œé‡Œé¢çš„æ–‡ä»¶éƒ½è¦é¢„å…ˆåˆ›å»º;æˆ‘è¿™é‡Œæ˜¯æ”¾åœ¨distä¸‹é¢å°±è¦åœ¨disä¸‹é¢åˆ›å»ºè¿™ä¸¤ä¸ªæ–‡ä»¶<br>åˆæˆçš„é›ªç¢§å›¾ï¼›<br><img src="/images/sp-1.png" alt="sp"><br>cssæ ·å¼ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.icon-1</span>  &#123;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(sprite.png);</div><div class="line">  <span class="attribute">background-position</span>: <span class="number">0px</span> <span class="number">0px</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">33px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">33px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.icon-2</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(sprite.png);</div><div class="line">  <span class="attribute">background-position</span>: -<span class="number">38px</span> <span class="number">0px</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">33px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">33px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.icon-3</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(sprite.png);</div><div class="line">  <span class="attribute">background-position</span>: <span class="number">0px</span> -<span class="number">38px</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">33px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">33px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.icon-4</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(sprite.png);</div><div class="line">  <span class="attribute">background-position</span>: -<span class="number">38px</span> -<span class="number">38px</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">33px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">33px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.icon-5</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(sprite.png);</div><div class="line">  <span class="attribute">background-position</span>: -<span class="number">76px</span> <span class="number">0px</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">33px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">33px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.icon-6</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(sprite.png);</div><div class="line">  <span class="attribute">background-position</span>: -<span class="number">76px</span> -<span class="number">38px</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">33px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">33px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.icon-7</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(sprite.png);</div><div class="line">  <span class="attribute">background-position</span>: <span class="number">0px</span> -<span class="number">76px</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">33px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">33px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>algorithmï¼šå››ä¸ªå‚æ•°åªæ˜¯å†³å®šå›¾ç‰‡çš„æ’åˆ—é¡ºåºï¼›<br>top-downï¼š<br><img src="/images/sp-2.png" alt="sp"><br>å…·ä½“çš„å‚æ•°å¯ä»¥çœ‹è¿™é‡Œï¼š<br><img src="/images/sp-3.png" alt="sp"><br>å¥½äº†,é›ªç¢§å›¾å°±åˆæˆå•¦ï¼›<br>ä¸‹é¢ä¼šè®²è®²å¦‚ä½•ä½¿ç”¨é›ªç¢§å›¾ï¼›<br>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼šindex.html<br>å¼•å…¥ç”Ÿæˆçš„css<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">â€stylesheetâ€</span> <span class="attr">type</span>=<span class="string">â€text/cssâ€</span> <span class="attr">href</span>=<span class="string">â€./dist/sprite.cssâ€</span> /&gt;</span></div></pre></td></tr></table></figure></p>
<p>å†™åŸºæœ¬æ¶æ„ï¼š<b>class=â€icon-1â€</b> è¿™é‡Œæ˜¯cssé‡Œç”Ÿæˆçš„æ ·å¼åï¼›æŒ‰é¡ºåºå†™å¥½å°±è¡Œ; </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"sprite"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">s</span> <span class="attr">class</span>=<span class="string">"icon-1"</span>&gt;</span><span class="tag">&lt;/<span class="name">s</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>è¡£æœ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">s</span> <span class="attr">class</span>=<span class="string">"icon-2"</span>&gt;</span><span class="tag">&lt;/<span class="name">s</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>é‹å­<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">s</span> <span class="attr">class</span>=<span class="string">"icon-3"</span>&gt;</span><span class="tag">&lt;/<span class="name">s</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>èƒŒåŒ…<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">s</span> <span class="attr">class</span>=<span class="string">"icon-4"</span>&gt;</span><span class="tag">&lt;/<span class="name">s</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>åŒè‚©åŒ…<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">s</span> <span class="attr">class</span>=<span class="string">"icon-5"</span>&gt;</span><span class="tag">&lt;/<span class="name">s</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>è£¤å­<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">s</span> <span class="attr">class</span>=<span class="string">"icon-6"</span>&gt;</span><span class="tag">&lt;/<span class="name">s</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>ç¾½ç»’æœ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">s</span> <span class="attr">class</span>=<span class="string">"icon-7"</span>&gt;</span><span class="tag">&lt;/<span class="name">s</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>å¤–å¥—<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<p>ç»™ä»–ä»¬æ–°å¢åŠ ä¸€äº›æ ·å¼ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">ul</span> &#123;</div><div class="line">    <span class="attribute">list-style</span>: none;</div><div class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.sprite</span> &#123;</div><div class="line">    <span class="attribute">margin</span>: <span class="number">10px</span> auto;</div><div class="line">    <span class="attribute">width</span>: <span class="number">206px</span>;</div><div class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#b51600</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.sprite</span> <span class="selector-tag">li</span> &#123;</div><div class="line">    <span class="attribute">cursor</span>: pointer;</div><div class="line">    <span class="attribute">height</span>: <span class="number">42px</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">206px</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#b51600</span>;</div><div class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#911001</span>;</div><div class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#c11e08</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.sprite</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</div><div class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</div><div class="line">    <span class="attribute">line-height</span>: <span class="number">42px</span>;</div><div class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ•ˆæœå°±æ˜¯è¿™æ ·ï¼š<br><img src="/images/sp-3.png" alt="sp"><br>å¼•å…¥äº†cssæ–‡ä»¶ï¼Œclassä¹Ÿæ”¹åŠ¨äº†ï¼Œæ€ä¹ˆæ²¡æœ‰å›¾æ ‡å‘¢ï¼Ÿ<br><img src="/images/sp-4.png" alt="sp"><br>ç”Ÿæˆçš„cssæ–‡ä»¶é‡Œé¢å°±å‘Šè¯‰ä½ äº†ï¼Œè®©æ ‡ç­¾<code>dispay:block</code>;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.sprite</span> <span class="selector-tag">li</span> <span class="selector-tag">s</span>&#123;      </div><div class="line">          <span class="attribute">display</span>: inline-block;</div><div class="line">          <span class="attribute">margin-left</span>: <span class="number">10px</span>;</div><div class="line">          <span class="attribute">margin-right</span>: <span class="number">8px</span>;</div><div class="line">      &#125;</div></pre></td></tr></table></figure>
<p>çœ‹çœ‹æ•ˆæœï¼š<br><img src="/images/sp-5.png" alt="sp"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Cssé›ªç¢§å›¾ï¼š CSSé›ªç¢§ å³CSS Spriteï¼Œä¹Ÿæœ‰äººå«å®ƒCSSç²¾çµï¼Œæ˜¯ä¸€ç§CSSå›¾åƒåˆå¹¶æŠ€æœ¯ï¼Œè¯¥æ–¹æ³•æ˜¯å°†å°å›¾æ ‡å’ŒèƒŒæ™¯å›¾åƒåˆå¹¶åˆ°ä¸€å¼ å›¾ç‰‡ä¸Šï¼Œç„¶ååˆ©ç”¨cssçš„èƒŒæ™¯å®šä½æ¥æ˜¾ç¤ºéœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡éƒ¨åˆ†ã€‚&lt;br&gt;åŸç†ï¼šCSSé›ªç¢§çš„åŸºæœ¬åŸç†æ˜¯æŠŠä½ çš„ç½‘ç«™ä¸Šç”¨åˆ°çš„ä¸€äº›å›¾ç‰‡æ•´åˆåˆ°ä¸€å¼ å•ç‹¬çš„å›¾ç‰‡ä¸­ï¼Œä»è€Œå‡å°‘ä½ çš„ç½‘ç«™çš„HTTPè¯·æ±‚æ•°é‡ã€‚è¯¥å›¾ç‰‡ä½¿ç”¨CSS backgroundå’Œbackground-positionå±æ€§æ¸²æŸ“ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ä½ çš„æ ‡ç­¾å˜å¾—æ›´åŠ å¤æ‚äº†ï¼Œå›¾ç‰‡æ˜¯åœ¨CSSä¸­å®šä¹‰ï¼Œè€Œé&amp;lt;img&amp;gt;æ ‡ç­¾ã€‚&lt;br&gt;å¦‚ä½•ç”Ÿæˆé›ªç¢§å›¾ï¼Ÿ&lt;br&gt;å®‰è£…gulpæ’ä»¶ï¼š &lt;code&gt;npm install â€“g gulp&lt;/code&gt;&lt;br&gt;å®‰è£…åˆ¶ä½œé›ªç¢§å›¾éœ€è¦çš„æ’ä»¶ &lt;code&gt;npm install â€“g gulp.spritesmith&lt;/code&gt;&lt;br&gt;æœ€å¥½å…¨å±€å’Œæœ¬åœ°å„è£…ä¸€éï¼›&lt;/p&gt;
    
    </summary>
    
      <category term="CSS" scheme="http://www.sulishibaobei.com/categories/CSS/"/>
    
    
      <category term="CSS" scheme="http://www.sulishibaobei.com/tags/CSS/"/>
    
      <category term="é›ªç¢§å›¾" scheme="http://www.sulishibaobei.com/tags/%E9%9B%AA%E7%A2%A7%E5%9B%BE/"/>
    
      <category term="gulp" scheme="http://www.sulishibaobei.com/tags/gulp/"/>
    
  </entry>
  
  <entry>
    <title>æ»‘ç¨½çš„ä¸‹åˆ--Angular 2+ç®¡é“çš„ä½¿ç”¨</title>
    <link href="http://www.sulishibaobei.com/angular/pipe/pipe-120170907/"/>
    <id>http://www.sulishibaobei.com/angular/pipe/pipe-120170907/</id>
    <published>2017-09-07T01:08:53.000Z</published>
    <updated>2017-09-07T09:32:58.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ³¨:æ‰€æœ‰çš„angular 2+ å…¶å®å°±åŒ…å«äº†4,æ˜¯å‘ä¸Šå…¼å®¹çš„ï¼›</p>
<p><img src="/images/pipe-1.png" alt="pipe"><br>è®©ä¸€ä¸ªcomponentç»„ä»¶é‡Œçš„æ—¶é—´æ˜¾ç¤ºå½“å‰æ—¶é—´å¹¶è‡ªåŠ¨åˆ·æ–°ã€‚<br><strong>è¿‡ç¨‹:</strong><br>1.é¦–å…ˆè·å–å½“å‰æ—¶é—´ new Date();<br>2.å¼„ä¸ªå®šæ—¶å™¨éš”ä¸€ç§’åˆ·æ–°å‘€ï¼›</p>
<a id="more"></a>
<p> <code>app.component.tsä¸­è¿™æ ·å†™åˆ°ï¼š</code></p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">InitialTime= <span class="keyword">new</span>  <span class="built_in">Date</span>();  <span class="comment">// è·å–å½“å‰æ—¶é—´  </span></div><div class="line">data:string;</div><div class="line"> getTime(m)&#123;   <span class="comment">// åˆ¤æ–­è·å–çš„åˆ†é’Ÿæ•°æ˜¯å¦å°äº10ï¼Œå°äº10åªä¼šæ˜¾ç¤ºä¸€ä½æ•°ï¼Œå‰é¢è‡ªåŠ¨è¡¥0 </span></div><div class="line">      <span class="keyword">if</span> (m&amp;lt;<span class="number">10</span> )&#123;</div><div class="line">        m =<span class="string">"0"</span>+ m;</div><div class="line">         <span class="keyword">this</span> .data= <span class="keyword">this</span> .InitialTime.getHours()+<span class="string">":"</span>+m;   <span class="comment">// æ˜¾ç¤ºæ—¶é—´(å°æ—¶+åˆ†é’Ÿ) eg   17:15 </span></div><div class="line">   &#125;</div><div class="line">     <span class="keyword">else</span>  &#123;</div><div class="line">         <span class="keyword">this</span> .data= <span class="keyword">this</span> .InitialTime.getHours()+<span class="string">":"</span>+ <span class="keyword">this</span> .InitialTime.getMinutes();     <span class="comment">// æ˜¾ç¤ºæ—¶é—´(å°æ—¶+åˆ†é’Ÿ) eg   17:15 </span></div><div class="line">   &#125; </div><div class="line"> &#125;</div><div class="line"> <span class="keyword">constructor</span>()&#123;</div><div class="line">      <span class="keyword">this</span> .getTime( <span class="keyword">this</span> .InitialTime.getMinutes()); <span class="comment">// è¿è¡Œä¸Šé¢æ–¹æ³•è®©æ—¶é—´æ˜¾ç¤º </span></div><div class="line">    setInterval(()=&amp;gt;&#123;  <span class="comment">// è®¾ç½®å®šæ—¶å™¨ï¼Œéš”1ç§’åˆ·æ–°ä¸€æ¬¡ï¼Œå¥½å®æ—¶ç›‘æ§æ—¶é—´ </span></div><div class="line">              <span class="keyword">this</span> .InitialTime= <span class="keyword">new</span>  <span class="built_in">Date</span>();</div><div class="line">               <span class="keyword">this</span> .getTime( <span class="keyword">this</span>  .InitialTime.getMinutes());                              </div><div class="line">             &#125;, <span class="number">1000</span> );                </div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p><code>app.component.htmlä¸­è¿™æ ·å†™ï¼š</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&amp;lt;span class="time"&amp;gt; &#123;&#123; date &#125;&#125;&amp;lt;/span&amp;gt;</div></pre></td></tr></table></figure>
<p>ç„¶åå˜æˆæˆ‘æƒ³è¦çš„æ•ˆæœäº†ï¼Œå¯æ˜¯ä»£ç æˆ‘è‡ªå·±éƒ½å«Œé•¿ï¼Œè€Œä¸”è¿˜æ˜¯ç”¨ä¼ ç»Ÿjsæ–¹æ³•å†™çš„ã€‚åæ¥å°±æƒ³ä¸æ˜¯angularé‡Œé¢æœ‰Pipeç®¡é“å—ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è¯•è¯•ã€‚<br><code>app.component.tsæ˜¯è¿™æ ·å†™çš„ã€‚</code> </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">time:any=<span class="built_in">Date</span>.now();  <span class="comment">// è·å–å½“å‰æ—¶é—´ </span></div><div class="line"> <span class="keyword">constructor</span>()&#123;</div><div class="line">    setInterval(() =&amp;gt;&#123;  <span class="comment">// è®¾ç½®å®šæ—¶å™¨ï¼Œéš”1ç§’åˆ·æ–°ä¸€æ¬¡ï¼Œå¥½å®æ—¶ç›‘æ§æ—¶é—´ </span></div><div class="line">          <span class="comment">//   this.birthday = new Date();       </span></div><div class="line">           <span class="keyword">this</span> .time=<span class="built_in">Date</span>.now();   <span class="comment">// Dateé‡Œé¢è‡ªå¸¦æ–¹æ³•                   </span></div><div class="line">              &#125;,<span class="number">1000</span> );  </div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p><code>app.component.htmlæ˜¯è¿™æ ·å†™çš„ï¼š</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&amp;lt;span class="time"&amp;gt; &#123;&#123;time | date:"HH:mm" &#125;&#125;&amp;lt;/span&amp;gt;</div></pre></td></tr></table></figure>
<p><strong>æ³¨ï¼š</strong><br>|æ˜¯ç®¡é“æ ‡ç¤ºç¬¦ã€‚angularé‡Œé¢æä¾›äº†å†…ç½®çš„datePipeç®¡é“å¯ä»¥ä¾›æˆ‘ä»¬ä½¿ç”¨<br>  HHï¼šmm è¡¨ç¤ºè¾“å‡ºå°æ—¶å’Œåˆ†é’Ÿï¼›yy:MM:dd&nbsp; è¡¨ç¤ºè¾“å‡ºå¹´æœˆæ—¥<br>  è¯¦æƒ…å¯ä»¥çœ‹çœ‹å®˜ç½‘çš„ç®¡é“ä»‹ç»é‡Œé¢å…³äºDatePipe Apiçš„ä»‹ç»ã€‚<br>  åŒæ ·çš„æ•ˆæœï¼Œä»£ç é‡å°±å¤§å¤§å‡å°‘ï¼Œæ‰€ä»¥å­¦ä¹ è¿˜æ˜¯åœ¨å®Œæˆçš„åŸºç¡€ä¸Šå¤šå°è¯•ã€‚è€¶~~~<br>  åç»­ä¼šæœ‰è¯¦ç»†çš„å…³äºç®¡é“å­¦ä¹ çš„<a href="">æ›´å¤šæ–‡ç« </a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ³¨:æ‰€æœ‰çš„angular 2+ å…¶å®å°±åŒ…å«äº†4,æ˜¯å‘ä¸Šå…¼å®¹çš„ï¼›&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/pipe-1.png&quot; alt=&quot;pipe&quot;&gt;&lt;br&gt;è®©ä¸€ä¸ªcomponentç»„ä»¶é‡Œçš„æ—¶é—´æ˜¾ç¤ºå½“å‰æ—¶é—´å¹¶è‡ªåŠ¨åˆ·æ–°ã€‚&lt;br&gt;&lt;strong&gt;è¿‡ç¨‹:&lt;/strong&gt;&lt;br&gt;1.é¦–å…ˆè·å–å½“å‰æ—¶é—´ new Date();&lt;br&gt;2.å¼„ä¸ªå®šæ—¶å™¨éš”ä¸€ç§’åˆ·æ–°å‘€ï¼›&lt;/p&gt;
    
    </summary>
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/categories/Angular-2/"/>
    
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/tags/Angular-2/"/>
    
      <category term="pipe" scheme="http://www.sulishibaobei.com/tags/pipe/"/>
    
      <category term="ç®¡é“" scheme="http://www.sulishibaobei.com/tags/%E7%AE%A1%E9%81%93/"/>
    
      <category term="æ—¥æœŸ" scheme="http://www.sulishibaobei.com/tags/%E6%97%A5%E6%9C%9F/"/>
    
  </entry>
  
  <entry>
    <title>Angular 2+ å…³äºæ–°ç‰ˆangular-cliçš„åº”ç”¨</title>
    <link href="http://www.sulishibaobei.com/angular/angular-cli/angular-120170906/"/>
    <id>http://www.sulishibaobei.com/angular/angular-cli/angular-120170906/</id>
    <published>2017-09-06T03:08:53.000Z</published>
    <updated>2017-09-08T13:45:50.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä»¥å‰å†™è¿‡ä¸€ä¸ªwebstormå€ŸåŠ©angular-cliæ­å»ºangular2.0é¡¹ç›®çš„åšå®¢ã€‚ åæ¥è®¸ä¹…æ²¡æœ‰æ¥è§¦è¿‡angularï¼Œç°åœ¨æ‹¾èµ·æ¥çš„æ—¶å€™å‘ç°å·²ç»æ›´æ–°ï¼Œç”¨æ³•å˜äº†ã€‚æ‰€ä»¥æ¥è®°å½•ä¸‹ï¼Œä»¥å…å…¶ä»–å‹çœ‹åˆ°ç…§æˆè¯¯åŒºã€‚è¿™ä¹Ÿæ˜¯è¯´æ˜ä¸€ä¸ªé“ç†ï¼Œåˆ«äººå†™ä¸‹çš„ä¸œè¥¿ä½ ä¸ä¸€å®šé€‚ç”¨ï¼Œå› ä¸ºæŠ€æœ¯çš„ä¸œè¥¿è¯´å˜å°±å˜ï¼Œè°çŸ¥é“çš„ã€‚</p>
<h2 id="1-åŸºäºNodeç¯å¢ƒï¼Œå®‰è£…angular-cliã€‚-nbsp-æ–°ç‰ˆçš„å·²ç»å˜æˆå®‰è£…-angular-cliã€‚æ‰€ä»¥å®‰è£…æ—¶ï¼šnpm-install-d-angular-cli"><a href="#1-åŸºäºNodeç¯å¢ƒï¼Œå®‰è£…angular-cliã€‚-nbsp-æ–°ç‰ˆçš„å·²ç»å˜æˆå®‰è£…-angular-cliã€‚æ‰€ä»¥å®‰è£…æ—¶ï¼šnpm-install-d-angular-cli" class="headerlink" title="[1]åŸºäºNodeç¯å¢ƒï¼Œå®‰è£…angular-cliã€‚&nbsp; æ–°ç‰ˆçš„å·²ç»å˜æˆå®‰è£…@angular/cliã€‚æ‰€ä»¥å®‰è£…æ—¶ï¼šnpm install -d @angular/cli"></a>[1]åŸºäºNodeç¯å¢ƒï¼Œå®‰è£…angular-cliã€‚&nbsp; æ–°ç‰ˆçš„å·²ç»å˜æˆå®‰è£…@angular/cliã€‚æ‰€ä»¥å®‰è£…æ—¶ï¼š<code>npm install -d @angular/cli</code></h2><a id="more"></a>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸€å¤§å †é”™è¯¯ï¼Œè¯´ç¼ºå°‘pathonå’Œvisual studioã€‚è¿˜æœ‰è¯´ç‰ˆæœ¬ä¸å…¼å®¹çš„ï¼Œæ‰€ä»¥å»ºè®®nodeçš„ç‰ˆæœ¬ä¸è¦å¤ªé«˜ï¼Œä¹Ÿä¸ç”¨å¤ªä½ã€‚ç¬¬ä¸€æ¬¡æˆ‘ç”¨çš„7ä»¥ä¸Šçš„ç‰ˆæœ¬è¯´ä¸æ”¯æŒã€‚ç„¶åæ¢æˆ6.0ä»¥ä¸Šä¹Ÿæ˜¯ä¸æ”¯æŒã€‚æœ€åæ¢æˆ6.9å‡ ç”¨çš„å¥½å¥½çš„ã€‚å¹¶ä¸æ˜¯æ‰€æœ‰äººçš„ç”µè„‘å®‰è£…éƒ½ä¼šå‡ºé—®é¢˜çš„ã€‚ æ—¢ç„¶è¯´ç¼ºå°‘pathoné‚£å°±å®‰è£…å§ã€‚æ¨èä¸€ä¸ªç½‘å‹çš„è§£å†³åŠæ³•ï¼Œæˆ‘ä¹Ÿæ˜¯å‚ç…§è¿™ä¸ªè§£å†³çš„ï¼Œå°±ä¸é‡å¤å•°å—¦<a href="http://www.cnblogs.com/liangxiaojie/p/4595406.html" target="_blank" rel="external">çœ‹è¿™é‡Œ</a>;è¯´åˆ°åº•ä¼šå‡ºé”™çš„åŸå› éƒ½æ˜¯å› ä¸ºnpmæ˜¯å›½å¤–çš„ï¼Œéœ€è¦FQï¼Œä¼šæœ‰é‚£ä¹ˆä¸€ä¸ä¸ä¸ç¨³å®šã€‚<br>ä¸è¿‡å»ºè®®å¤§å®¶å…ˆå®‰è£…cnpmåœ¨è£…ï¼Œå°±ä»€ä¹ˆé—®é¢˜éƒ½ï¼Œæ²¡æœ‰äº†ã€‚<br><code>npm install -g cnpm</code><br><code>cnpm install -g @angular/cli</code></p>
<h2 id="ngå‘½ä»¤"><a href="#ngå‘½ä»¤" class="headerlink" title="ngå‘½ä»¤"></a>ngå‘½ä»¤</h2><p>å®‰è£…å¥½angular/cliä¹‹åï¼Œå°±å¯ä»¥ç”¨ngå‘½ä»¤å•¦ã€‚<br>ä¾‹å¦‚ï¼šng â€“version æŸ¥çœ‹ç‰ˆæœ¬å·<br>ng help å¸®åŠ© </p>
<p><strong>å½“ç„¶æœ€é‡è¦çš„è¿˜æ˜¯ç”¨å®ƒåˆ›å»ºå·¥ç¨‹ã€‚ng new å·¥ç¨‹å;</strong><br>ç„¶åä¼šè‡ªåŠ¨å¸®ä½ åˆ›å»ºæ‰€æœ‰çš„ä¾èµ–ï¼Œæ­å»ºæˆä¸€ä¸ªç®€å•çš„æ¨¡æ¿ï¼Œå¤§æ¦‚è¿™æ ·<br><img src="/images/angular-1.png" alt="angular-cli"><br>node-modulesä¼šè‡ªåŠ¨å¸®ä½ åˆ›å»ºï¼Œåªæ˜¯è€—æ—¶æ¯”è¾ƒé•¿ï¼Œå»ºè®®ä¸€æ¬¡ä¸‹è½½å¤šæ¬¡copyã€‚<br>è¿è¡Œé¡¹ç›®è¯•è¯•ï¼Œè¿›å…¥ä½ çš„å·¥ç¨‹ç›®å½•ä¸‹ï¼Œç„¶ång serve; é»˜è®¤æ˜¯å¼€å¯localhost:4200çš„ã€‚<br>æ‰€ä»¥æµè§ˆå™¨é‡Œæ‰“å¼€localhost:4200å°±å¯ä»¥å•¦ã€‚</p>
<p><img src="/images/angular-2.png" alt="angular-cli"><br>è¿™æ˜¯æœ€ç®€å•çš„é¡¹ç›®å•¦ï¼Œå½“ç„¶ä½ å¯ä»¥ç»§ç»­åˆ›å»ºå‘½ä»¤ </p>
<p><img src="/images/angular-3.png" alt="angular-cli"><br>ä¾‹å¦‚è¿è¡Œ<code>ng g c user</code></p>
<p><img src="/images/angular-4.png" alt="angular-cli"><br>å®ƒæ˜¯å››ä¸ªå››ä¸ªåˆ›å»ºçš„ï¼Œé…å¥—å—ï¼ï¼ åç»­ä»‹ç»ä¸€ç¯‡æ–‡ç« ä¸“é—¨è®²<a href="http://blog.csdn.net/sulishibaobei/article/details/77246482" target="_blank" rel="external">angular-cli</a>çš„<br>è¿™äº›æ–‡ä»¶å·¥ç¨‹å¤ªå¤§äº†ï¼Œè¿è¡Œæ—¶å¯ä»¥æ‰“å‹ï¼Œ<code>ng serve --prod --aot</code> ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚<br>å¥½äº†å°±ä»‹ç»è¿™äº›åŸºç¡€çš„ï¼Œå…¶å®åé¢çš„ä½¿ç”¨å¹¶æ²¡æœ‰æ”¹å˜å¤ªå¤šå•¦<br>ä¹‹å‰åœ¨åšå®¢å›­ä¸­ä¹Ÿä»‹ç»è¿‡å…³äºåœ¨webstormä¸­å¦‚ä½•å¼€å‘angularé¡¹ç›®ï¼Œå¦‚æœæƒ³åœ¨webstormä¸­ä½¿ç”¨ï¼Œå¯ä»¥å»çœ‹çœ‹<br>ç›®å‰æˆ‘ä½¿ç”¨VScode ï¼Œè§‰å¾—æŒºå¥½çš„ï¼ï¼</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»¥å‰å†™è¿‡ä¸€ä¸ªwebstormå€ŸåŠ©angular-cliæ­å»ºangular2.0é¡¹ç›®çš„åšå®¢ã€‚ åæ¥è®¸ä¹…æ²¡æœ‰æ¥è§¦è¿‡angularï¼Œç°åœ¨æ‹¾èµ·æ¥çš„æ—¶å€™å‘ç°å·²ç»æ›´æ–°ï¼Œç”¨æ³•å˜äº†ã€‚æ‰€ä»¥æ¥è®°å½•ä¸‹ï¼Œä»¥å…å…¶ä»–å‹çœ‹åˆ°ç…§æˆè¯¯åŒºã€‚è¿™ä¹Ÿæ˜¯è¯´æ˜ä¸€ä¸ªé“ç†ï¼Œåˆ«äººå†™ä¸‹çš„ä¸œè¥¿ä½ ä¸ä¸€å®šé€‚ç”¨ï¼Œå› ä¸ºæŠ€æœ¯çš„ä¸œè¥¿è¯´å˜å°±å˜ï¼Œè°çŸ¥é“çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;1-åŸºäºNodeç¯å¢ƒï¼Œå®‰è£…angular-cliã€‚-nbsp-æ–°ç‰ˆçš„å·²ç»å˜æˆå®‰è£…-angular-cliã€‚æ‰€ä»¥å®‰è£…æ—¶ï¼šnpm-install-d-angular-cli&quot;&gt;&lt;a href=&quot;#1-åŸºäºNodeç¯å¢ƒï¼Œå®‰è£…angular-cliã€‚-nbsp-æ–°ç‰ˆçš„å·²ç»å˜æˆå®‰è£…-angular-cliã€‚æ‰€ä»¥å®‰è£…æ—¶ï¼šnpm-install-d-angular-cli&quot; class=&quot;headerlink&quot; title=&quot;[1]åŸºäºNodeç¯å¢ƒï¼Œå®‰è£…angular-cliã€‚&amp;nbsp; æ–°ç‰ˆçš„å·²ç»å˜æˆå®‰è£…@angular/cliã€‚æ‰€ä»¥å®‰è£…æ—¶ï¼šnpm install -d @angular/cli&quot;&gt;&lt;/a&gt;[1]åŸºäºNodeç¯å¢ƒï¼Œå®‰è£…angular-cliã€‚&amp;nbsp; æ–°ç‰ˆçš„å·²ç»å˜æˆå®‰è£…@angular/cliã€‚æ‰€ä»¥å®‰è£…æ—¶ï¼š&lt;code&gt;npm install -d @angular/cli&lt;/code&gt;&lt;/h2&gt;
    
    </summary>
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/categories/Angular-2/"/>
    
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/tags/Angular-2/"/>
    
      <category term="Angular-cli" scheme="http://www.sulishibaobei.com/tags/Angular-cli/"/>
    
      <category term="å·¥å…·" scheme="http://www.sulishibaobei.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºä¸ªäººåšå®¢çš„æ­å»º</title>
    <link href="http://www.sulishibaobei.com/index20170906/"/>
    <id>http://www.sulishibaobei.com/index20170906/</id>
    <published>2017-09-06T03:08:53.000Z</published>
    <updated>2017-09-19T07:23:56.118Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/fengjing-1.jpg" alt="fengjing"><br><a id="more"></a></p>
<h2 id="åšå®¢å‰ç”Ÿ"><a href="#åšå®¢å‰ç”Ÿ" class="headerlink" title="åšå®¢å‰ç”Ÿ"></a>åšå®¢å‰ç”Ÿ</h2><p>[åšå®¢åŸºæœ¬æ­å»º]<a href="http://www.cnblogs.com/sulishibaobei/p/6428241.html" target="_blank" rel="external">http://www.cnblogs.com/sulishibaobei/p/6428241.html</a>, è¿™æ˜¯ç”¨çš„yiliaä¸»é¢˜<br>ä¹‹å‰æ˜¯å°†åšå®¢æ‰˜ç®¡åœ¨githubä¸Šï¼Œè¿è¡Œ<a href="http://sulishibaobei.github.io" target="_blank" rel="external">http://sulishibaobei.github.io</a> å³å¯ä»¥è®¿é—®ï¼Œå¦‚æœä½ åªæ˜¯åˆæ­¥å°è¯•ï¼Œå»ºè®®çœ‹è¿™ä¸ªï¼Œæ•™ä½ 10åˆ†é’Ÿæ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„åšå®¢</p>
<h2 id="åšå®¢ä»Šä¸–"><a href="#åšå®¢ä»Šä¸–" class="headerlink" title="åšå®¢ä»Šä¸–"></a>åšå®¢ä»Šä¸–</h2><p>1.åœ¨é˜¿é‡Œäº‘ä¸Šè´­ä¹°äº†ä¸€ä¸ªåŸŸåï¼šwww.sulishibaobei.com ,å°†åŸŸåè§£æåˆ°sulishibaobei.github.ioä¸Šï¼Œç°åœ¨æˆ‘çš„åšå®¢è®¿é—®åœ°å€å°±æ˜¯<a href="http://www.sulishibaobei.com">www.sulishibaobei.com</a>;<br>è¿™æ ·è®¿é—®<a href="http://sulishibaobei.github.io" target="_blank" rel="external">http://sulishibaobei.github.io</a> å°†ä¼šé‡å®šå‘åˆ°<a href="http://www.sulishibaobei.com">http://www.sulishibaobei.com</a> ä¸Š;<br>2.ç»™åšå®¢é‡æ–°æ›´æ¢äº†ä¸»é¢˜ï¼šnext;æ–¹æ³•è¿˜æ˜¯å’Œä¹‹å‰æ›´æ¢yiliaä¸»é¢˜ä¸€æ ·ï¼Œgithubä¸Šå°†æƒ³è¦çš„ä¸»é¢˜ä¸‹è½½å¥½ï¼Œæ”¾ç½®åœ¨<b>Themes</b>æ–‡ä»¶å¤¹ä¸‹é¢,æ›´æ¢ç«™ç‚¹æ ¹ç›®å½•çš„<b>_config.yml</b>æ–‡ä»¶ä¸‹çš„<b>theme: next</b><br>3.<b>hexo clean </b>,<b>hexo g</b>,<b>hexo d ;</b>è¿™ä¸‰æ­¥é‡æ–°ç¼–è¯‘ï¼Œè¿™æ ·ä½ çš„åšå®¢å°±ç„•ç„¶ä¸€æ–°äº†;<br>ä¸ä¸€å®šè¦æ˜¯è¿™ä¸¤ä¸ªä¸»é¢˜ï¼Œå› ä¸ºé…ç½®éƒ½æ˜¯å¤§åŒå°å¼‚,åªæ˜¯å› ä¸ºNexté‡Œé¢ç»§æ‰¿äº†è®¸å¤šçš„åŠŸèƒ½æ¯”è¾ƒå…¨ï¼Œåƒæˆ‘è¿™ä¹ˆæ‡’æƒ°çš„äººå°±ç”¨å®ƒäº†;</p>
<h2 id="åšå®¢æœ€åŸºæœ¬é…ç½®"><a href="#åšå®¢æœ€åŸºæœ¬é…ç½®" class="headerlink" title="åšå®¢æœ€åŸºæœ¬é…ç½®"></a>åšå®¢æœ€åŸºæœ¬é…ç½®</h2><p>ä¸»é¢˜æ›´æ¢å¥½ä»¥åï¼Œæ€ä¹ˆè®©ä¸»é¢˜çš„åŠŸèƒ½æ›´çªå‡ºå°±éœ€è¦æ“ä½œä¸»é¢˜é‡Œé¢çš„<b>_config.yml</b>æ–‡ä»¶äº†,æ˜¯ä¸»é¢˜ä¸‹çš„æ–‡ä»¶;</p>
<h3 id="1-èœå•æ menuçš„é…ç½®"><a href="#1-èœå•æ menuçš„é…ç½®" class="headerlink" title="1.èœå•æ menuçš„é…ç½®"></a>1.èœå•æ <b>menu</b>çš„é…ç½®</h3><p><img src="/images/theme-1.png" alt="menu"><br>æ‰¾åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶<b>_config.yml</b>ä¸­çš„çš„menu,å¤§æ¦‚æ˜¯è¿™æ ·ä¸€æ®µä»£ç ï¼š<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">menu:</div><div class="line">  ä¸»é¡µ: / || home</div><div class="line">  å…³äº: /about/ || user</div><div class="line">  æ ‡ç­¾: /tags/ || tags</div><div class="line">  å½’æ¡£: /archives/ || archive</div><div class="line">  å±•ç¤º: /site/ || th</div><div class="line">  æ—¥ç¨‹: /schedule/ || calendar</div><div class="line">  æœ‰æ–™ : /something</div><div class="line">  å…¬ç›Š404: /404.html || heartbeat</div><div class="line">menu_icons:</div><div class="line">  enable: true</div><div class="line">  blog:/images/1.jpg</div></pre></td></tr></table></figure></p>
<p>æ³¨ï¼šä½ ä¸‹è½½ä¸‹æ¥çš„æ˜¯è‹±æ–‡çš„,æ ¹æ®ä½ çš„ä¹ æƒ¯,å–œæ¬¢ä¸­æ–‡å°±åˆ‡æ¢æˆä¸­æ–‡çš„;æœ¬æ¥ä¸»é¢˜å°±æä¾›äº†é…ç½®è¯­è¨€çš„,åœ¨nextä¸»é¢˜çš„languagesé‡Œé¢,æˆ‘ä»¬åªéœ€è¦é…ç½®å³å¯ï¼›<br>åœ¨æ ¹ç«™ç‚¹çš„_config.ymlæ–‡ä»¶ä¸­é…ç½®<b>language: zh-Hans</b>è¡¨ç¤ºä½ è¦ä½¿ç”¨çš„æ˜¯ä¸­æ–‡,é…ç½®äº†è¿™ä¸€å¥å°±ä¸ç”¨åƒæˆ‘è¿™æ ·æ‰‹åŠ¨ä¿®æ”¹;<br>æœ‰å¯èƒ½ä½ å¹¶ä¸éœ€è¦åƒæˆ‘è¿™ä¹ˆå¤šé¡¹ï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œé…ç½®ï¼Œå…¶å®å°±æ˜¯å°†å®ƒ#æ³¨é‡Šçš„åœ°æ–¹å»æ‰æ³¨é‡Šå°±è¡Œ<br>å…³äºå›¾æ ‡å‰é¢çš„å›¾æ ‡,ä½ ä¸å†™çš„è¯ï¼Œå°±ä¼šé‡‡ç”¨ä¸»é¢˜é»˜è®¤çš„,ä¾‹å¦‚ï¼šæœ‰æ–™;ä¸»é¢˜é‡Œä¸ºæˆ‘ä»¬æä¾›çš„å‡ ç§å›¾æ ‡ï¼Œä¾‹å¦‚ï¼šhome,tagsç­‰;è¿˜æœ‰ä¸€ç±»æ˜¯ä½ è‡ªå·±æƒ³è‡ªå®šä¹‰å›¾æ ‡ï¼Œ<br>menu_iconså°±æ˜¯é…ç½®å›¾æ ‡çš„,ä¾‹å¦‚blog,åœ¨éœ€è¦ä½¿ç”¨å›¾æ ‡çš„||åé¢å†™ä¸Šblog;<br>ä½†æ˜¯å…³å‡ºç°è¿™äº›æ ‡ç­¾ï¼Œæ€ä¹ˆè®©æ ‡ç­¾ç‚¹å‡»åˆ°å¯¹äºçš„é¡µé¢è¿™å°±éœ€è¦æˆ‘ä»¬å»åˆ›å»ºåº”çš„æ–‡ä»¶å¤¹<b>hexo new page tags</b>  åˆ›å»ºçš„æ–‡ä»¶å¤¹åå’Œé…ç½®çš„åå­—æ ‡ç­¾: /tagsæ˜¯ä¸€æ ·çš„;<br>æ–°åˆ›å»ºçš„æ–‡ä»¶å¤¹ä¼šå‡ºç°åœ¨sourceæ–‡ä»¶ä¸‹ï¼Œå’Œ_postæ–‡ä»¶å¤¹åŒçº§,é»˜è®¤çš„æ–‡ä»¶æ˜¯index.md,å…¶ä¸­ä¼šåªæœ‰è¿™ä¸¤è¡Œä»£ç ï¼š<br><figure class="highlight md"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title: tags</div><div class="line"><span class="section">date: 2017-09-05 14:45:27</span></div><div class="line">---</div></pre></td></tr></table></figure></p>
<p>æŒ‰ç…§æ‰€éœ€çš„æ•°é‡ï¼Œä¾æ¬¡åˆ›å»ºå®Œæˆå¥½ï¼Œæœ€åŸºæœ¬çš„èœå•æ å°±å®Œæˆäº†;</p>
<h3 id="2-headerå’Œä¸ªäººå†…å®¹ä»‹ç»çš„é…ç½®"><a href="#2-headerå’Œä¸ªäººå†…å®¹ä»‹ç»çš„é…ç½®" class="headerlink" title="2.headerå’Œä¸ªäººå†…å®¹ä»‹ç»çš„é…ç½®"></a>2.<b>header</b>å’Œä¸ªäººå†…å®¹ä»‹ç»çš„é…ç½®</h3><p> <img src="/images/theme-3.png" alt="header"><br> <img src="/images/theme-4.png" alt="themes"><br>è¿™ä¸ªæ˜¯åœ¨<b>ç«™ç‚¹æ ¹ç›®å½•_config.yml</b>é…ç½®çš„ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé¢é…ç½®çš„å†…å®¹å³ä¾¿æ›´æ¢ä¸»é¢˜ï¼Œè¿™äº›å†…å®¹ä¹Ÿä¸ä¼šæ”¹å˜ï¼Œåªæ˜¯æ˜¾ç¤ºä½ç½®ä¸ä¸€æ ·ï¼›æ‰¾åˆ°<b>site</b></p>
<figure class="highlight md"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="section"># Site ç½‘ç«™</span></div><div class="line">title: å°‘å¥³é›¨çš„åšå®¢</div><div class="line">subtitle: çˆ±ç”Ÿæ´»çˆ±è¿œæ–¹çˆ±è‡ªç”±æ›´çˆ±ä½ </div><div class="line">description: 12çº§æ¯•ä¸šç”Ÿï¼Œå—æ–¹å§‘å¨˜ï¼Œå‰ç«¯ç¨‹åºåª›ï¼Œå‰é€”å ªå¿§çš„ä»£ç æ´ç™–è€…;</div><div class="line">author: å°‘å¥³é›¨</div><div class="line">email: 380571249@qq.com</div><div class="line">keywords: "å‰ç«¯,js,jquery,javascript,html5,å¼€å‘è€…,ç¨‹åºåª›ï¼Œtypescript,angularï¼Œæ ¡å›­javaé†‹è™è€…"</div><div class="line">language: zh-Hans</div></pre></td></tr></table></figure>
<p>å¡«ä¸Šä½ çš„ä¸ªäººä¿¡æ¯ï¼Œè¿™å—å°±ç®—å®Œæˆäº†</p>
<h3 id="3-æ ‡ç­¾é¡µçš„é…ç½®Category-amp-Tag"><a href="#3-æ ‡ç­¾é¡µçš„é…ç½®Category-amp-Tag" class="headerlink" title="3.æ ‡ç­¾é¡µçš„é…ç½®Category &amp; Tag"></a>3.æ ‡ç­¾é¡µçš„é…ç½®Category &amp; Tag</h3><p><img src="/images/theme-5.png" alt="tag"><br>è¿™å—çš„é…ç½®ä¹Ÿæ˜¯åœ¨ç«™ç‚¹æ ¹ç›®å½•_config.ymlä¸‹çš„ï¼›<br><figure class="highlight md"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="section">#default_category: uncategorized</span></div><div class="line">category_map: åˆ†ç±»</div><div class="line">tag_map:  æ ‡ç­¾</div><div class="line">archives_map: æ—¥å¿—</div></pre></td></tr></table></figure></p>
<p>æ‰¾åˆ°è¿™ä¸€éƒ¨åˆ†,é…ç½®å°±è¡Œ,ä½†æ˜¯æ€ä¹ˆå’Œä½ åšå®¢çš„å†…å®¹å…³è”èµ·æ¥è¿™éœ€è¦è¿™æ ·é…ç½®ï¼š<br>ä¾‹å¦‚ï¼šæƒ³è®©æ ‡ç­¾å’Œåšå®¢æ–‡ç« å…³è”èµ·æ¥ï¼Œæ‰¾åˆ°sourceæ–‡ä»¶ä¸‹çš„tagsæ–‡ä»¶index.mdæ–‡ä»¶ï¼Œæ·»åŠ è¿™ä¸€å¥ï¼š<br><figure class="highlight md"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title:  </div><div class="line">date: 2017-09-01 11:07:25</div><div class="line"><span class="section">type: "tags"</span></div><div class="line">---</div></pre></td></tr></table></figure></p>
<p>å‘Šè¯‰ä¸»é¢˜ï¼Œä½ æƒ³å…³è”tags<br>å…¶ä»–çš„å…³äºcategory_mapç­‰ä¹Ÿæ˜¯è¿™æ ·é…ç½®çš„;<br>å…³äºè¿™ä¸€éƒ¨åˆ†æ ‡ç­¾å¦‚ä½•é…ç½®ï¼Œå»ºè®®å‚çœ‹è¿™ç¯‡æ–‡ç« ï¼Œ<a href="https://hexo.io/zh-cn/docs/front-matter.html#%E5%88%86%E7%B1%BB%E5%92%8C%E6%A0%87%E7%AD%BE" target="_blank" rel="external">æˆ³è¿™é‡Œ</a></p>
<h3 id="4-ç¤¾äº¤è¿æ¥-Rss-å‹é“¾é…ç½®"><a href="#4-ç¤¾äº¤è¿æ¥-Rss-å‹é“¾é…ç½®" class="headerlink" title="4. ç¤¾äº¤è¿æ¥,Rss,å‹é“¾é…ç½®"></a>4. ç¤¾äº¤è¿æ¥,Rss,å‹é“¾é…ç½®</h3><p><img src="/images/theme-6.png" alt="links"><br>è¿™ä¸€éƒ¨åˆ†æ˜¯åœ¨ä¸»é¢˜æ–‡ä»¶ä¸‹çš„_config.ymlé‡Œé¢é…ç½®ï¼š<br>æ‰¾åˆ°è¿™ä¸€å—rss:<br>falseï¼šç¦ç”¨ RSSï¼Œä¸åœ¨é¡µé¢ä¸Šæ˜¾ç¤º RSS è¿æ¥ã€‚<br>ç•™ç©ºï¼šä½¿ç”¨ Hexo ç”Ÿæˆçš„ Feed é“¾æ¥ã€‚ ä½ å¯ä»¥éœ€è¦å…ˆå®‰è£… hexo-generator-feed æ’ä»¶ã€‚<br>å…·ä½“çš„é“¾æ¥åœ°å€ï¼šé€‚ç”¨äºå·²ç»çƒ§åˆ¶è¿‡ Feed çš„æƒ…å½¢ã€‚<br>ç¤¾äº¤é“¾æ¥ï¼Œæ‰¾åˆ°è¿™ä¸ªsocial<br><figure class="highlight md"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">social:</div><div class="line">  GitHub : https://github.com/sulishibaobei/ || github</div><div class="line">  E-Mail : 380571249@qq.com || envelope</div><div class="line">  weibo :  http://weibo.com/xiaoyu051027/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo/ || weibo </div><div class="line">  CSDN :   http://blog.csdn.net/sulishibaobei/  CSDN</div><div class="line">  åšå®¢å›­ :  http://www.cnblogs.com/sulishibaobei/    </div><div class="line">  ç®€ä¹¦ :    http://www.jianshu.com/u/e6c53e37e95b/ </div><div class="line">  #Google: https://plus.google.com/yourname || google</div><div class="line">  #Twitter: https://twitter.com/yourname || twitter</div><div class="line">  #FB Page: https://www.facebook.com/yourname || facebook</div><div class="line">  #VK Group: https://vk.com/yourname || vk</div><div class="line">  #StackOverflow: https://stackoverflow.com/yourname || stack-overflow</div><div class="line">  #YouTube: https://youtube.com/yourname || youtube</div><div class="line">  #Instagram: https://instagram.com/yourname || instagram</div><div class="line">  #Skype: skype:yourname?call|chat || skype</div><div class="line">social_icons:</div><div class="line">  enable: true</div><div class="line">  icons_only: false</div><div class="line">  transition: false</div></pre></td></tr></table></figure></p>
<p>æ ¹æ®ä½ è‡ªå·±çš„æƒ³æ³•ï¼Œæ¢ä¸Šè‡ªå·±é“¾æ¥é…ç½®å°±è¡Œï¼Œå›¾æ ‡å’Œä¸Šé¢ä»‹ç»çš„Menuæ˜¯ä¸€æ ·çš„ï¼›<br>å‹é“¾ï¼Œæ‰¾åˆ°è¿™ä¸ªlinks_title<br><figure class="highlight md"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="section"># Blog rolls  å‹æƒ…é“¾æ¥</span></div><div class="line">links_title: å‹æƒ…é“¾æ¥</div><div class="line"><span class="section">#links_layout: block</span></div><div class="line"><span class="section">#links_layout: inline</span></div><div class="line">links:</div><div class="line">  Angular 4.x ä¿®ä»™ä¹‹è·¯ : https://segmentfault.com/blog/angular4</div></pre></td></tr></table></figure></p>
<p>å¡«ä¸Šè‡ªå·±çš„å°±è¡Œï¼Œé…ç½®å¤šä¸ªåœ¨é“¾æ¥é‚£é‡Œæ·»åŠ å°±è¡Œï¼›<br>åŸºæœ¬ä¸Šåšå®¢é›å½¢å°±é…ç½®å®Œæˆäº†;</p>
<h3 id="5-åŸºæœ¬é…ç½®"><a href="#5-åŸºæœ¬é…ç½®" class="headerlink" title="5.åŸºæœ¬é…ç½®"></a>5.åŸºæœ¬é…ç½®</h3><p>è¿˜æœ‰ä¸€äº›å…³äºä¸»é¢˜é€‰æ‹©ï¼Œå­—ä½“é…ç½®çš„å°ç»†èŠ‚ï¼Œ<a href="http://theme-next.iissnan.com/theme-settings.html" target="_blank" rel="external">è¯·çœ‹</a></p>
<h2 id="åšå®¢å†…å®¹å®Œå–„"><a href="#åšå®¢å†…å®¹å®Œå–„" class="headerlink" title="åšå®¢å†…å®¹å®Œå–„"></a>åšå®¢å†…å®¹å®Œå–„</h2><h3 id="é˜…è¯»é‡ç»Ÿè®¡"><a href="#é˜…è¯»é‡ç»Ÿè®¡" class="headerlink" title="é˜…è¯»é‡ç»Ÿè®¡"></a>é˜…è¯»é‡ç»Ÿè®¡</h3><p><img src="/images/theme-7.png" alt="yuedu"><br>è¿™éƒ¨åˆ†æ˜¯é‡‡ç”¨<a href="https://leancloud.cn/" target="_blank" rel="external">leanCloud</a>å®ç°çš„ï¼Œæ¨èä¸€ç¯‡å†™çš„å¥½çš„æ–‡ç« ,<a href="https://notes.wanghao.work/2015-10-21-%E4%B8%BANexT%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD.html#%E9%85%8D%E7%BD%AELeanCloud" target="_blank" rel="external">æˆ³è¿™é‡Œ</a></p>
<h3 id="è®¿å®¢é‡ç»Ÿè®¡"><a href="#è®¿å®¢é‡ç»Ÿè®¡" class="headerlink" title="è®¿å®¢é‡ç»Ÿè®¡"></a>è®¿å®¢é‡ç»Ÿè®¡</h3><p><img src="/images/theme-8.png" alt="yuedu"><br>è¿™éƒ¨åˆ†é‡‡ç”¨ä¸è’œå­ç»Ÿè®¡ç»Ÿè®¡<br>æ‰¾åˆ°è¿™ä¸€éƒ¨åˆ†ï¼š<br><figure class="highlight md"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">busuanzi_count:</div><div class="line">  # count values only if the other configs are false</div><div class="line">  enable: true</div><div class="line">  # custom uv span for the whole site</div><div class="line">  site_uv: true</div><div class="line">  site<span class="emphasis">_uv_</span>header: &lt;i class="fa fa-user"&gt;&lt;/i&gt;æœ¬ç«™è®¿å®¢æ•°</div><div class="line">  site<span class="emphasis">_uv_</span>footer: äººæ¬¡</div><div class="line">  # custom pv span for the whole site</div><div class="line">  site_pv: true</div><div class="line">  site<span class="emphasis">_pv_</span>header: &lt;i class="fa fa-eye"&gt;&lt;/i&gt; æœ¬ç«™æ€»è®¿é—®é‡</div><div class="line">  site<span class="emphasis">_pv_</span>footer: æ¬¡</div><div class="line">  # custom pv span for one page only</div><div class="line">  page_pv: true</div><div class="line">  page<span class="emphasis">_pv_</span>header: &lt;i class="fa fa-file-o"&gt;&lt;/i&gt; æœ¬æ–‡æ€»é˜…è¯»é‡</div><div class="line">  page<span class="emphasis">_pv_</span>footer: æ¬¡</div></pre></td></tr></table></figure></p>
<h3 id="è¯„è®ºç³»ç»Ÿ"><a href="#è¯„è®ºç³»ç»Ÿ" class="headerlink" title="è¯„è®ºç³»ç»Ÿ"></a>è¯„è®ºç³»ç»Ÿ</h3><p>æˆ‘æ‰ç”¨çš„æ˜¯æœ‰è¨€è¯„è®ºï¼Œlocalhostæ—¶å€™ä¼šå¤±è´¥ï¼Œä½†æ˜¯é‡‡ç”¨httpé¡µé¢è¯„è®ºæ—¶ä¼šæˆåŠŸ;é…ç½®çœ‹è¿™é‡Œ<a href="http://www.jianshu.com/p/4729e92fddbe" target="_blank" rel="external">next</a><br>å¦‚æœä½ æ˜¯Nextä¸»é¢˜5.1ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œåªéœ€è¦æ³¨å†Œï¼Œç„¶åå°†Uidå·å¡«åœ¨ä¸»é¢˜æ–‡ä»¶ä¸‹çš„_config.yml<br>ä»å¤šè¯´ä¸èƒ½ç”¨çš„æ—¶å€™ï¼Œfacebookä¹Ÿä¸èƒ½ç”¨ï¼ŒDISQUSï¼ŒHyperCommentsæ˜¯å›½å¤–çš„ï¼Œè¯·æ±‚ä¸ä¸€å®šä¼šæˆåŠŸï¼›<br>ä½¿ç”¨ç•…è¨€éœ€è¦å¤‡æ¡ˆï¼Œé™¤éä½ çš„ç½‘ç«™å¤‡æ¡ˆäº†ï¼Œå¦åˆ™ä¹Ÿä¸è¡Œï¼›æ¥å¿…åŠ›å°è¯•è¿‡ä¹Ÿä¸è¡Œï¼Œé€‰æ‹©å‹è¨€æ˜¯æ¯”è¾ƒåˆç†çš„ï¼›</p>
<h3 id="æœç´¢æœåŠ¡å’Œç™¾åº¦ç»Ÿè®¡"><a href="#æœç´¢æœåŠ¡å’Œç™¾åº¦ç»Ÿè®¡" class="headerlink" title="æœç´¢æœåŠ¡å’Œç™¾åº¦ç»Ÿè®¡"></a>æœç´¢æœåŠ¡å’Œç™¾åº¦ç»Ÿè®¡</h3><p>æœç´¢é‡‡ç”¨çš„æ˜¯ï¼šLocal Search ;<br>é…ç½®å¯ä»¥çœ‹<a href="http://theme-next.iissnan.com/third-party-services.html" target="_blank" rel="external">è¿™é‡Œ</a></p>
<h3 id="åšå®¢æ”¶å½•"><a href="#åšå®¢æ”¶å½•" class="headerlink" title="åšå®¢æ”¶å½•"></a>åšå®¢æ”¶å½•</h3><p>å¦‚ä½•å°†è®©è‡ªå·±çš„åšå®¢åœ¨æœç´¢å¼•æ“è¢«æœç´¢åˆ°ï¼š<a href="http://www.jianshu.com/p/df46bca5889d" target="_blank" rel="external">çœ‹è¿™é‡Œ</a></p>
<h3 id="åšå®¢å°åŠŸèƒ½"><a href="#åšå®¢å°åŠŸèƒ½" class="headerlink" title="åšå®¢å°åŠŸèƒ½"></a>åšå®¢å°åŠŸèƒ½</h3><p>å¦‚ä½•ç‚¹å‡»çš„æ—¶å€™å‡ºç°æ¡ƒå¿ƒï¼Œå¦‚ä½•æ›´æ¢é“¾æ¥é¢œè‰²ç­‰<a href="http://blog.csdn.net/qq_33699981/article/details/72716951" target="_blank" rel="external">çœ‹è¿™é‡Œ</a></p>
<h2 id="å…³äºåç»­"><a href="#å…³äºåç»­" class="headerlink" title="å…³äºåç»­"></a>å…³äºåç»­</h2><p>æœ‰ä¸€äº›åŸºæœ¬çš„é…ç½®,å¾ˆéš¾ä¸€ä¸ªä¸€ä¸ªå†™å‡ºæ¥;å¦‚æœçœ‹åˆ°å…¶ä»–çš„åŠŸèƒ½,è€Œæˆ‘æ²¡æœ‰å†™å‡ºæ¥çš„ï¼Œæ¬¢è¿ç»™æˆ‘ç§ä¿¡;</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/fengjing-1.jpg&quot; alt=&quot;fengjing&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Hexo" scheme="http://www.sulishibaobei.com/categories/Hexo/"/>
    
    
      <category term="node.js" scheme="http://www.sulishibaobei.com/tags/node-js/"/>
    
      <category term="hexo" scheme="http://www.sulishibaobei.com/tags/hexo/"/>
    
      <category term="next" scheme="http://www.sulishibaobei.com/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯é¢è¯•ä¸­é‡è§çš„é‚£äº›çº¯jsé¢˜</title>
    <link href="http://www.sulishibaobei.com/js/js120170905/"/>
    <id>http://www.sulishibaobei.com/js/js120170905/</id>
    <published>2017-09-05T03:08:53.000Z</published>
    <updated>2017-09-13T09:14:10.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="js-å®šä¹‰ç±»æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ"><a href="#js-å®šä¹‰ç±»æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ" class="headerlink" title="js å®šä¹‰ç±»æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ"></a>js å®šä¹‰ç±»æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ</h2><h3 id="1-å·¥å‚æ–¹å¼"><a href="#1-å·¥å‚æ–¹å¼" class="headerlink" title="1.å·¥å‚æ–¹å¼"></a>1.å·¥å‚æ–¹å¼</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> ocar=<span class="keyword">new</span> Obejct;  <span class="comment">//ä¸ç”¨æ‹¬å·</span></div><div class="line">    ocar.color=<span class="string">'blue'</span>;</div><div class="line">    ocar.doors=<span class="number">4</span>;</div><div class="line">    ocar.showColor=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">this</span>.color;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ocar;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> car1=Car();</div><div class="line"><span class="keyword">var</span> car2=Car();</div><div class="line"><span class="built_in">console</span>.log(car1);  <span class="comment">//&#123;color: "blue", doors: 4, snowColor: Æ’&#125;  fæŒ‡çš„æ˜¯function()</span></div><div class="line"><span class="built_in">console</span>.log(car2);  <span class="comment">//&#123;color: "blue", doors: 4, snowColor: Æ’&#125;</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<p><strong>æ³¨ï¼š</strong><br>1.è°ƒç”¨æ­¤æ–¹æ³•æ—¶ï¼Œå°†åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œå¹¶èµ‹äºˆå®ƒæ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚ä½¿ç”¨æ­¤å‡½æ•°å¯ä»¥åˆ›å»ºä¸¤ä¸ªå±æ€§å®Œå…¨ç›¸åŒçš„å¯¹è±¡ï¼›<br>2.æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™å‡½æ•°ä¼ é€’ä¸åŒçš„å‚æ•°æ¥å¾—åˆ°å…·æœ‰ä¸åŒå€¼å¾—å¯¹è±¡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">color,door</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> ocar=<span class="keyword">new</span> <span class="built_in">Object</span>;</div><div class="line">    ocar.color=color;</div><div class="line">    ocar.doos=door;</div><div class="line">    ocar.showColor=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.color);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ocar;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> car1=Car(<span class="string">"red"</span>,<span class="number">5</span>);</div><div class="line"><span class="keyword">var</span> car2=car(<span class="string">"blue"</span>,<span class="number">4</span>);</div><div class="line">car1.showColor(); <span class="comment">//redï¼›</span></div><div class="line">car2.showColor(); <span class="comment">//blue</span></div></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„ä¸¤ä¸ªä¾‹å­ä¸­ï¼Œæ¯æ¬¡åˆ›å»ºä¸€ä¸ªCar()å¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€ä¸ªshowColor()ï¼Œæ„å‘³ç€æ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„showcolor()æ–¹æ³•ï¼Œä½†æ˜¯å®é™…ä¸Šæ¯ä¸ªå¯¹è±¡å¯ä»¥å…±äº«åŒä¸€ä¸ªå‡½æ•°ï¼Œæœ€åé€šè¿‡å°†å‡½æ•°çš„å±æ€§æŒ‡å‘è¯¥æ–¹æ³•*</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">showColor</span>(<span class="params"></span>)</span>&#123;</div><div class="line">     <span class="built_in">console</span>.log(<span class="keyword">this</span>.color);</div><div class="line"> &#125;</div><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">color,door</span>)</span>&#123;</div><div class="line">   <span class="keyword">var</span> ocar=<span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">   ocar.color=color;</div><div class="line">   ocar.doors=door;</div><div class="line">   ocar.showColor=showColor;</div><div class="line">   <span class="keyword">return</span> ocar;</div><div class="line"> &#125;</div><div class="line"> <span class="keyword">var</span> car1=<span class="keyword">new</span> Car(<span class="string">'red'</span>,<span class="number">4</span>);</div><div class="line"> car1.showColor();</div></pre></td></tr></table></figure>
<p><em>å½“ç„¶è¿™é‡Œæ‰¯è¿œäº†</em></p>
<h3 id="2-æ„é€ å‡½æ•°æ–¹æ³•"><a href="#2-æ„é€ å‡½æ•°æ–¹æ³•" class="headerlink" title="2.æ„é€ å‡½æ•°æ–¹æ³•"></a>2.æ„é€ å‡½æ•°æ–¹æ³•</h3><p>è¿™ä¸ªå’Œå·¥å‚æ–¹å¼å·®ä¸å¤š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">color,door</span>)</span>&#123;</div><div class="line">       <span class="keyword">this</span>.color=color;</div><div class="line">       <span class="keyword">this</span>.doors=door;</div><div class="line">       <span class="keyword">this</span>.showColor=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">           <span class="built_in">console</span>.log(<span class="keyword">this</span>.color);</div><div class="line">       &#125;</div><div class="line">   &#125;</div><div class="line">   <span class="keyword">var</span> car1=<span class="keyword">new</span> Car(<span class="string">"red"</span>,<span class="number">4</span>);</div><div class="line">   <span class="keyword">var</span> car2=<span class="keyword">new</span> Car(<span class="string">"blue"</span>,<span class="number">5</span>);</div><div class="line">   car1.showColor();<span class="comment">//red</span></div><div class="line">   car2.showColor();<span class="comment">//blue</span></div></pre></td></tr></table></figure>
<p><strong>æ³¨ï¼š</strong><br>è¿™ç§æ¨¡å¼å’Œå·¥å‚çš„æ–¹å¼åŒºåˆ«åœ¨äºï¼Œä¸ç”¨é€šè¿‡è‡ªå·±å»Newä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯ä½¿ç”¨thiså…³é”®å­—ï¼›<br>å› ä¸ºåœ¨è°ƒç”¨æ„é€ å‡½æ•°æ—¶å°±å·²ç»åˆ›å»ºäº†å¯¹è±¡ï¼Œè€Œåœ¨å‡½æ•°å†…éƒ¨åªèƒ½é€šè¿‡thisæ¥è®¿é—®æ­¤å¯¹è±¡<br>ä½†æ˜¯ï¼Œå®ƒå’Œå·¥å‚æ–¹å¼ä¸€æ ·ï¼Œæ¯æ¬¡è°ƒç”¨å¯¹è±¡éƒ½ä¼šåˆ›å»ºè‡ªå·±çš„æ–¹æ³•</p>
<h3 id="3-åŸå‹æ–¹å¼"><a href="#3-åŸå‹æ–¹å¼" class="headerlink" title="3.åŸå‹æ–¹å¼"></a>3.åŸå‹æ–¹å¼</h3><p>è¯¥æ–¹å¼åˆ©ç”¨äº†å¯¹è±¡çš„prototypeå±æ€§ï¼Œé¦–å…ˆç”¨ç©ºå‡½æ•°åˆ›å»ºç±»åï¼Œç„¶åæ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•éƒ½è¢«èµ‹äºˆprototypeå±æ€§ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;</div><div class="line">Car.prototype.color=<span class="string">"red"</span>;</div><div class="line">Car.prototype.doors=<span class="number">4</span>;</div><div class="line">Car.prototype.showColor=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.color);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> car1=<span class="keyword">new</span> Car();</div><div class="line"><span class="keyword">var</span> car2=<span class="keyword">new</span> Car();</div><div class="line"> <span class="built_in">console</span>.log(car1);</div></pre></td></tr></table></figure>
<p><strong>çœ‹çœ‹æœ€åè¾“å‡ºçš„æ˜¯ä»€ä¹ˆ</strong><br><img src="/images/js-1.png" alt="js"><br><strong>æ³¨ï¼š</strong><br>1.é¦–å…ˆå®šä¹‰ä¸€ä¸ªç©ºå‡½æ•°ï¼Œç„¶åé€šè¿‡prototypeå±æ€§æ¥å®šä¹‰å¯¹è±¡çš„å±æ€§ï¼›è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œ<br>åŸå‹çš„æ‰€æœ‰å±æ€§éƒ½ä¼šç«‹å³èµ‹äºˆè¦åˆ›å»ºçš„å¯¹è±¡ï¼Œæ‰€æœ‰è¯¥å‡½æ•°çš„å¯¹è±¡å­˜æ”¾çš„å¯¹æ˜¯æŒ‡å‘showColor()çš„æŒ‡é’ˆï¼Œ<br>è¯­æ³•ä¸Šçœ‹èµ·æ¥éƒ½å±äºåŒä¸€ä¸ªå¯¹è±¡ï¼›<br>2.ä½†æ˜¯è¿™ä¸ªå‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œä¸èƒ½é€šè¿‡ä¼ å‚æ¥åˆå§‹åŒ–å±æ€§ï¼Œå¿…é¡»è¦åœ¨å¯¹è±¡åˆ›å»ºåæ‰èƒ½æ”¹å˜å±æ€§çš„é»˜è®¤å€¼ï¼›<br>3.åŸå‹æ–¹å¼è¿˜æœ‰ä¸ªå¾ˆå¤§çš„å¼Šç«¯ï¼›å¦‚æœå±æ€§æŒ‡å‘çš„æ˜¯å¯¹è±¡æ—¶ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;</div><div class="line">Car.prototype.color=<span class="string">"red"</span>;</div><div class="line">Car.prototype.doors=<span class="number">4</span>;</div><div class="line">Car.prototype.arr=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">'a'</span>,<span class="string">"b"</span>);</div><div class="line">Car.prototype.showColor=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.color);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> car1=<span class="keyword">new</span> Car();</div><div class="line"><span class="keyword">var</span> car2=<span class="keyword">new</span> Car();</div><div class="line">car1.arr.push(<span class="string">'cc'</span>);</div><div class="line"><span class="built_in">console</span>.log(car1.arr); <span class="comment">//(3) ["a", "b", "cc"]</span></div><div class="line"><span class="built_in">console</span>.log(car2.arr); <span class="comment">//(3) ["a", "b", "cc"]</span></div></pre></td></tr></table></figure>
<p><strong>æ³¨ï¼š</strong><br>arrå¯¹è±¡æŒ‡å‘çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¿™é‡Œç”¨çš„æ˜¯æ•°ç»„çš„å¼•ç”¨å€¼ï¼ŒCarçš„ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ªæ•°ç»„æ‰€ä»¥car1æ·»åŠ å€¼ä»¥åï¼Œåœ¨car2ä¸­ä¹Ÿèƒ½çœ‹åˆ°å€¼ï¼›<br>å½¢å¼æ˜¯è¿™æ ·çš„ï¼š<br><img src="/images/js-2.png" alt="js"></p>
<h3 id="4-è”åˆæ–¹å¼ï¼ˆæ„é€ å‡½æ•°-åŸå‹æ–¹å¼"><a href="#4-è”åˆæ–¹å¼ï¼ˆæ„é€ å‡½æ•°-åŸå‹æ–¹å¼" class="headerlink" title="4.è”åˆæ–¹å¼ï¼ˆæ„é€ å‡½æ•°+åŸå‹æ–¹å¼)"></a>4.è”åˆæ–¹å¼ï¼ˆæ„é€ å‡½æ•°+åŸå‹æ–¹å¼)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">color,door</span>)</span>&#123;</div><div class="line">      <span class="keyword">this</span>.color=color;</div><div class="line">      <span class="keyword">this</span>.doors=door;</div><div class="line">      <span class="keyword">this</span>.arr=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"aa"</span>,<span class="string">"bb"</span>);</div><div class="line">  &#125;;</div><div class="line">  Car.prototype.showColor=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">       <span class="built_in">console</span>.log(<span class="keyword">this</span>.color);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> car1=<span class="keyword">new</span> Car(<span class="string">"red"</span>,<span class="number">4</span>);</div><div class="line">  <span class="keyword">var</span> car2=<span class="keyword">new</span> Car(<span class="string">"blue"</span>,<span class="number">5</span>);</div><div class="line">  car1.arr.push(<span class="string">"cc"</span>);</div><div class="line">  <span class="built_in">console</span>.log(car1);</div><div class="line">  <span class="built_in">console</span>.log(car1.arr); <span class="comment">// (3) ["aa", "bb", "cc"]</span></div><div class="line">  <span class="built_in">console</span>.log(car2.arr);  <span class="comment">//(2) ["aa", "bb"]</span></div></pre></td></tr></table></figure>
<p><strong>é¦–å…ˆæ¥çœ‹çœ‹car1å¯¹è±¡</strong><br><img src="/images/js-3.png" alt="js"><br><strong>æ³¨ï¼š</strong><br>1.car1å’Œcar2å¯¹è±¡éƒ½æœ‰è‡ªå·±å•ç‹¬çš„arrå±æ€§ï¼Œæ‰€ä»¥æ”¹å˜å…¶ä¸­ä¸€ä¸ªå¦ä¸€ä¸ªå¹¶ä¸ä¼šå—å½±å“<br>2.æ­¤æ–¹å¼æ˜¯ç”¨æ„é€ å‡½æ•°å®šä¹‰å¯¹è±¡çš„éå‡½æ•°å±æ€§ï¼Œç”¨åŸå‹å¯¹è±¡å®šä¹‰å¯¹è±¡çš„æ–¹æ³•</p>
<h3 id="5-åŠ¨æ€åŸå‹æ–¹å¼"><a href="#5-åŠ¨æ€åŸå‹æ–¹å¼" class="headerlink" title="5.åŠ¨æ€åŸå‹æ–¹å¼"></a>5.åŠ¨æ€åŸå‹æ–¹å¼</h3><p>å’Œæ··åˆæ¨¡å¼ç›¸ä¼¼ï¼ŒåŒºåˆ«å°±æ˜¯èµ‹äºˆå¯¹è±¡æ–¹æ³•çš„ä½ç½®ä¸ä¸€æ ·ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">color,door</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.color=color;</div><div class="line">    <span class="keyword">this</span>.doors=door;</div><div class="line">    <span class="keyword">this</span>.arr=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"aa"</span>,<span class="string">"bb"</span>);</div><div class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> Car._initialized ==<span class="string">"undefined"</span>)&#123;</div><div class="line">        Car.prototype.showColor=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.color);</div><div class="line">        &#125;;</div><div class="line">          Car._initialized=<span class="literal">true</span>;</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> car1=<span class="keyword">new</span> Car(<span class="string">'blue'</span>,<span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> car2=<span class="keyword">new</span> Car(<span class="string">'red'</span>,<span class="number">3</span>);</div><div class="line">car1.showColor();</div><div class="line">car2.showColor();</div><div class="line"><span class="built_in">console</span>.log(car1);</div></pre></td></tr></table></figure>
<p><strong>æ³¨ï¼š</strong>æ­¤æ–¹æ³•æ˜¯ç”¨ä¸€ä¸ªæ ‡å¿—æ¥åˆ¤æ–­æ˜¯å¦å·²ç»ç»™åŸå‹èµ‹äºˆäº†æ­¤æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è¯¥æ–¹æ³•åªè¢«åˆ›å»ºä¸€æ¬¡</p>
<h3 id="6-æ··åˆå·¥å‚æ–¹å¼"><a href="#6-æ··åˆå·¥å‚æ–¹å¼" class="headerlink" title="6.æ··åˆå·¥å‚æ–¹å¼"></a>6.æ··åˆå·¥å‚æ–¹å¼</h3><p><strong>ç›®çš„æ˜¯åˆ›å»ºå‡æ„å‡½æ•°ï¼Œåªè¿”å›å¦ä¸€ç§å¯¹è±¡çš„æ–°å®ä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> ocar=<span class="keyword">new</span> <span class="built_in">Object</span>();<span class="comment">//å¸¦æ‹¬å·</span></div><div class="line">    ocar.color=<span class="string">"red"</span>;</div><div class="line">    ocar.doors=<span class="number">4</span>;</div><div class="line">    ocar.showColor=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.color);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ocar;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> car1=<span class="keyword">new</span> Car();</div><div class="line"><span class="keyword">var</span> car2=<span class="keyword">new</span> Car();</div><div class="line">car1.showColor(); <span class="comment">//red</span></div></pre></td></tr></table></figure>
<p><strong>æ³¨ï¼š</strong>å’Œå·¥å‚æ–¹å¼å¾ˆåƒï¼Œä¸é€šçš„å°±æ˜¯è¿™æ˜¯é€šè¿‡Newè¿ç®—ç¬¦</p>
<h3 id="7-å¯¹è±¡ç›´æ¥é‡"><a href="#7-å¯¹è±¡ç›´æ¥é‡" class="headerlink" title="7.å¯¹è±¡ç›´æ¥é‡"></a>7.å¯¹è±¡ç›´æ¥é‡</h3><p>é‡‡ç”¨set getçš„æ–¹å¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> car1=&#123;</div><div class="line">   <span class="attr">color</span>:<span class="string">""</span>,</div><div class="line">   <span class="attr">getColor</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">       <span class="built_in">console</span>.log(<span class="keyword">this</span>.color);  <span class="comment">//red</span></div><div class="line">       <span class="keyword">return</span> <span class="keyword">this</span>.color;</div><div class="line">   &#125;,</div><div class="line">   <span class="attr">setColor</span>:<span class="function"><span class="keyword">function</span>(<span class="params">color</span>)</span>&#123;</div><div class="line">       <span class="keyword">this</span>.color=color;</div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line">car1.setColor(<span class="string">'red'</span>);</div><div class="line">car1.getColor();</div></pre></td></tr></table></figure>
<h3 id="8-å®šä¹‰å‡½æ•°å¯¹è±¡"><a href="#8-å®šä¹‰å‡½æ•°å¯¹è±¡" class="headerlink" title="8.å®šä¹‰å‡½æ•°å¯¹è±¡"></a>8.å®šä¹‰å‡½æ•°å¯¹è±¡</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> car2=<span class="keyword">new</span> <span class="built_in">Function</span>(); <span class="comment">//æ³¨æ„å¤§å†™</span></div><div class="line">car2.prototype = &#123;</div><div class="line">    <span class="attr">color</span>:<span class="string">""</span>,</div><div class="line">    <span class="attr">getColor</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.color);<span class="comment">//blue</span></div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.color;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">setColor</span>:<span class="function"><span class="keyword">function</span>(<span class="params">color</span>)</span>&#123;</div><div class="line">        <span class="keyword">this</span>.color=color;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">car2.prototype.setColor(<span class="string">'blue'</span>);</div><div class="line">car2.prototype.getColor();</div><div class="line"><span class="built_in">console</span>.log(car2.prototype);<span class="comment">//&#123;color: "blue", getColor: Æ’, setColor: Æ’&#125;</span></div></pre></td></tr></table></figure>
<p>ä¹Ÿæ˜¯è¿ç”¨ä¸Šé¢çš„åŸå‹æ–¹å¼å’Œæ··åˆå·¥å‚æ¨¡å¼</p>
<h2 id="jsç±»ç»§æ‰¿çš„æ–¹æ³•æœ‰å“ªäº›"><a href="#jsç±»ç»§æ‰¿çš„æ–¹æ³•æœ‰å“ªäº›" class="headerlink" title="jsç±»ç»§æ‰¿çš„æ–¹æ³•æœ‰å“ªäº›"></a>jsç±»ç»§æ‰¿çš„æ–¹æ³•æœ‰å“ªäº›</h2><p>æ—¢ç„¶æ˜¯ç»§æ‰¿ï¼Œé¦–å…ˆå¾—æœ‰ä¸ªçˆ¶ç±»</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªåŠ¨ç‰©ç±»</span></div><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">     <span class="comment">//ç»™ä¸€ä¸ªNameå±æ€§</span></div><div class="line">     <span class="keyword">this</span>.name=name || <span class="string">'Animal'</span>;</div><div class="line">     <span class="comment">//å®ä¾‹æ–¹æ³•</span></div><div class="line">     <span class="keyword">this</span>.sleep=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">         <span class="built_in">console</span>.log(<span class="keyword">this</span>.name+<span class="string">" åœ¨ç¡è§‰"</span>)ï¼›</div><div class="line">     &#125;</div><div class="line"> &#125;</div><div class="line"> <span class="comment">//åŸå‹æ–¹æ³•</span></div><div class="line"> Animal.prototype.eat=<span class="function"><span class="keyword">function</span>(<span class="params">food</span>)</span>&#123;</div><div class="line">     <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">'æ­£åœ¨åƒ'</span> +food);</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h3 id="åŸå‹é“¾ç»§æ‰¿"><a href="#åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="åŸå‹é“¾ç»§æ‰¿"></a>åŸå‹é“¾ç»§æ‰¿</h3><p><strong>æ ¸å¿ƒï¼š</strong> å°†çˆ¶ç±»çš„å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;</div><div class="line">Cat.prototype=<span class="keyword">new</span> Animal();</div><div class="line">Cat.prototype.name=<span class="string">'cat'</span>;</div><div class="line"><span class="keyword">var</span> cat=<span class="keyword">new</span> Cat();</div><div class="line"><span class="built_in">console</span>.log(cat.name); <span class="comment">//cat</span></div><div class="line"><span class="built_in">console</span>.log(cat.eat(<span class="string">'fish'</span>)); <span class="comment">//catæ­£åœ¨åƒfish</span></div><div class="line"><span class="built_in">console</span>.log(cat.sleep());  <span class="comment">//cat åœ¨ç¡è§‰</span></div><div class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal); <span class="comment">//true </span></div><div class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat); <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p><strong>æ³¨ï¼š</strong>ä½¿ç”¨çš„çš„åŸå‹æ–¹å¼ï¼›<br><em>ç‰¹ç‚¹:</em></p>
<ol>
<li>éå¸¸çº¯ç²¹çš„ç»§æ‰¿å…³ç³»ï¼Œå®ä¾‹æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹</li>
<li>çˆ¶ç±»æ–°å¢åŸå‹æ–¹æ³•å’ŒåŸå‹å±æ€§ï¼Œå­ç±»éƒ½èƒ½è®¿é—®</li>
<li>ç®€å•ï¼Œæ˜“äºå®ç°</li>
</ol>
<p><em>ç¼ºç‚¹:</em></p>
<ol>
<li>è¦æƒ³ä¸ºå­ç±»æ–°å¢æ–¹æ³•å’Œå±æ€§ï¼Œå¿…é¡»è¦åœ¨new Animal()è¿™æ ·çš„è¯­å¥æŒ‡å‘ä¹‹åï¼Œä¸èƒ½æ”¾åœ¨æ„é€ å™¨ä¸­ï¼›</li>
<li>æ— æ³•å®ç°å¤šç»§æ‰¿</li>
<li>æ¥è‡ªåŸå‹å¯¹è±¡çš„å¼•ç”¨å±æ€§æ˜¯æ‰€æœ‰å®ä¾‹å…±äº«çš„</li>
<li>åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> cat1=<span class="keyword">new</span> Cat()</div><div class="line"><span class="built_in">console</span>.log(cat1.name) <span class="comment">//cat</span></div></pre></td></tr></table></figure>
<h3 id="æ„é€ ç»§æ‰¿-callï¼ˆï¼‰"><a href="#æ„é€ ç»§æ‰¿-callï¼ˆï¼‰" class="headerlink" title="æ„é€ ç»§æ‰¿ callï¼ˆï¼‰"></a>æ„é€ ç»§æ‰¿ callï¼ˆï¼‰</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    Animal.call(<span class="keyword">this</span>);</div><div class="line">    <span class="keyword">this</span>.name=name || <span class="string">'Animal'</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> cat=<span class="keyword">new</span> Cat(<span class="string">'cat'</span>);</div><div class="line"><span class="built_in">console</span>.log(cat.name); <span class="comment">//cat</span></div><div class="line"><span class="built_in">console</span>.log(cat.sleep());  <span class="comment">//cat åœ¨ç¡è§‰</span></div><div class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal); <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p><strong>æ³¨ï¼š</strong>è¿™é‡Œæ˜¯è°ƒç”¨ä¸åˆ°eatåŸå‹æ–¹æ³•çš„;<br><em>ç‰¹ç‚¹:</em></p>
<ol>
<li>è§£å†³äº†1ä¸­ï¼Œå­ç±»å®ä¾‹å…±äº«çˆ¶ç±»å¼•ç”¨å±æ€§çš„é—®é¢˜ï¼›</li>
<li>åˆ›å»ºå®ä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ å‚ï¼›</li>
<li>å¯ä»¥å®ç°å¤šç»§æ‰¿ï¼ˆcall å¤šä¸ªçˆ¶ç±»å¯¹è±¡);</li>
</ol>
<p><em>ç¼ºç‚¹:</em></p>
<ol>
<li>å®ä¾‹å¹¶ä¸æ˜¯çˆ¶ç±»çš„å®ä¾‹ </li>
<li>åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å’Œæ–¹æ³•ï¼Œå¹¶ä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§å’Œæ–¹æ³•ï¼›</li>
<li>æ— æ³•å®ç°å‡½æ•°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½</li>
</ol>
<h3 id="å®ä¾‹ç»§æ‰¿-instace"><a href="#å®ä¾‹ç»§æ‰¿-instace" class="headerlink" title="å®ä¾‹ç»§æ‰¿  instace"></a>å®ä¾‹ç»§æ‰¿  instace</h3><p><strong>æ ¸å¿ƒï¼š</strong> ä¸ºçˆ¶ç±»å®ä¾‹æ·»åŠ æ–°ç‰¹æ€§ï¼Œä½œä¸ºå­ç±»å®ä¾‹è¿”å›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">     <span class="keyword">var</span> instace=<span class="keyword">new</span> Animal();</div><div class="line">     instace.name=name || <span class="string">'Animal'</span>;</div><div class="line">     <span class="keyword">return</span> instace;</div><div class="line"> &#125;</div><div class="line"><span class="keyword">var</span> cat=<span class="keyword">new</span> Cat();</div><div class="line"><span class="built_in">console</span>.log(cat.name); <span class="comment">//Animal</span></div><div class="line"><span class="built_in">console</span>.log(cat.sleep()); <span class="comment">//Animal åœ¨ç¡è§‰</span></div><div class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat); <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p><em>ç‰¹ç‚¹:</em>ä¸é™åˆ¶è°ƒç”¨æ–¹æ³•ï¼Œä¸ç®¡æ˜¯new å­ç±»()è¿˜æ˜¯å­ç±»(),è¿”å›çš„å¯¹è±¡å…·æœ‰ç›¸åŒçš„æ•ˆæœï¼›<br><em>ç¼ºç‚¹:</em><br>1.å®ä¾‹æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œä¸æ˜¯å­ç±»çš„å®ä¾‹;<br>2.ä¸æ”¯æŒå¤šç»§æ‰¿</p>
<h3 id="æ‹·è´ç»§æ‰¿"><a href="#æ‹·è´ç»§æ‰¿" class="headerlink" title="æ‹·è´ç»§æ‰¿"></a>æ‹·è´ç»§æ‰¿</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">      <span class="keyword">var</span> animal=<span class="keyword">new</span> Animal();</div><div class="line">      <span class="keyword">for</span>(<span class="keyword">var</span> p <span class="keyword">in</span> animal)&#123;</div><div class="line">          Cat.prototype[p]=animal[p];</div><div class="line">      &#125;</div><div class="line">      Cat.prototype.name=name || <span class="string">'Tom'</span>;</div><div class="line">  &#125;</div><div class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();</div><div class="line"><span class="built_in">console</span>.log(cat.name);</div><div class="line"><span class="built_in">console</span>.log(cat.sleep());</div><div class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal); <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p><em>ç‰¹ç‚¹:</em>æ”¯æŒå¤šç»§æ‰¿;<br><em>ç¼ºç‚¹:</em></p>
<ol>
<li>æ•ˆç‡è¾ƒä½ï¼Œå†…å­˜å ç”¨é«˜ï¼ˆå› ä¸ºè¦æ‹·è´çˆ¶ç±»çš„å±æ€§ï¼‰</li>
<li>æ— æ³•è·å–çˆ¶ç±»ä¸å¯æšä¸¾çš„æ–¹æ³•ï¼ˆä¸å¯æšä¸¾æ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨for in è®¿é—®åˆ°ï¼‰</li>
</ol>
<h3 id="ç»„åˆç»§æ‰¿"><a href="#ç»„åˆç»§æ‰¿" class="headerlink" title="ç»„åˆç»§æ‰¿"></a>ç»„åˆç»§æ‰¿</h3><p><strong>æ ¸å¿ƒï¼š</strong>é€šè¿‡è°ƒç”¨çˆ¶ç±»æ„é€ ï¼Œç»§æ‰¿çˆ¶ç±»çš„å±æ€§å¹¶ä¿ç•™ä¼ å‚çš„ä¼˜ç‚¹ï¼Œç„¶åé€šè¿‡å°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œå®ç°å‡½æ•°å¤ç”¨</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">  Animal.call(<span class="keyword">this</span>);</div><div class="line">  <span class="keyword">this</span>.name = name || <span class="string">'Tom'</span>;</div><div class="line">&#125;</div><div class="line">Cat.prototype = <span class="keyword">new</span> Animal();</div><div class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();</div><div class="line"><span class="built_in">console</span>.log(cat.name);</div><div class="line"><span class="built_in">console</span>.log(cat.sleep());</div><div class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p><em>ç‰¹ç‚¹ï¼š</em><br>    1.å¼¥è¡¥äº†æ–¹å¼2çš„ç¼ºé™·ï¼Œå¯ä»¥ç»§æ‰¿å®ä¾‹å±æ€§/æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³•<br>    2.æ—¢æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹<br>    3.ä¸å­˜åœ¨å¼•ç”¨å±æ€§å…±äº«é—®é¢˜<br>    4.å¯ä¼ å‚<br>    5.å‡½æ•°å¯å¤ç”¨<br><em>ç¼ºç‚¹ï¼š</em>è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®ä¾‹ï¼ˆå­ç±»å®ä¾‹å°†å­ç±»åŸå‹ä¸Šçš„é‚£ä»½å±è”½äº†ï¼‰</p>
<h3 id="å¯„ç”Ÿç»„åˆç»§æ‰¿"><a href="#å¯„ç”Ÿç»„åˆç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿç»„åˆç»§æ‰¿"></a>å¯„ç”Ÿç»„åˆç»§æ‰¿</h3><p><strong>æ ¸å¿ƒï¼š</strong>é€šè¿‡å¯„ç”Ÿæ–¹å¼ï¼Œç æ‰çˆ¶ç±»çš„å®ä¾‹å±æ€§ï¼Œè¿™æ ·ï¼Œåœ¨è°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ çš„æ—¶å€™ï¼Œå°±ä¸ä¼šåˆå§‹åŒ–ä¸¤æ¬¡å®ä¾‹æ–¹æ³•/å±æ€§ï¼Œé¿å…çš„ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">  Animal.call(<span class="keyword">this</span>);</div><div class="line">  <span class="keyword">this</span>.name = name || <span class="string">'Tom'</span>;</div><div class="line">&#125;</div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å®ä¾‹æ–¹æ³•çš„ç±»</span></div><div class="line">  <span class="keyword">var</span> Super = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line">  Super.prototype = Animal.prototype;</div><div class="line">  <span class="comment">//å°†å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹</span></div><div class="line">  Cat.prototype = <span class="keyword">new</span> Super();</div><div class="line">&#125;)();</div><div class="line"></div><div class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();</div><div class="line"><span class="built_in">console</span>.log(cat.name);</div><div class="line"><span class="built_in">console</span>.log(cat.sleep());</div><div class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat); <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p>ç‰¹ç‚¹:å ªç§°å®Œç¾<br>ç¼ºç‚¹: å®ç°è¾ƒä¸ºå¤æ‚</p>
<h2 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h2><p>ç»™å®šæ— åºæ•°ç»„ï¼Œè¦æ±‚å»é™¤æ•°ç»„ä¸­çš„é‡å¤æ•°ç»„ï¼Œå¹¶ä¸”è¿”å›æ–°çš„æ— é‡å¤æ•°ç»„<br>ES6å†™æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> array=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">8</span>];</div><div class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(array));</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(array)));<span class="comment">//(7) [1, 2, 3, 5, 4, 9, 8]</span></div></pre></td></tr></table></figure>
<p>ES5å†™æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(uniqueArray(array));<span class="comment">//(7) [1, 2, 3, 5, 4, 9, 8]</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">uniqueArray</span>(<span class="params">array</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> hashmap=&#123;&#125;;</div><div class="line">    <span class="keyword">var</span> unique=[];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;array.length;i++)&#123;</div><div class="line">        <span class="comment">//hasOwnProperty boolean ç”¨äºè¡¨ç¤ºä¸€ä¸ªå¯¹è±¡æœ¬èº«æ˜¯å¦å…·æœ‰æŒ‡å®šåç§°çš„å±æ€§å€¼</span></div><div class="line">        <span class="keyword">if</span>(!hashmap.hasOwnProperty([array[i]]))&#123;</div><div class="line">            hashmap[array[i]]=<span class="number">1</span>;</div><div class="line">            unique.push(array[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> unique;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="jsç±»å¤šé‡ç»§æ‰¿çš„å®ç°æ–¹æ³•æ˜¯æ€ä¹ˆæ ·çš„"><a href="#jsç±»å¤šé‡ç»§æ‰¿çš„å®ç°æ–¹æ³•æ˜¯æ€ä¹ˆæ ·çš„" class="headerlink" title="jsç±»å¤šé‡ç»§æ‰¿çš„å®ç°æ–¹æ³•æ˜¯æ€ä¹ˆæ ·çš„"></a>jsç±»å¤šé‡ç»§æ‰¿çš„å®ç°æ–¹æ³•æ˜¯æ€ä¹ˆæ ·çš„</h2><p>å…¶å®å°±æ˜¯ç¬¬äºŒéƒ¨åˆ†çš„ä»£ç ï¼›<br>1.call/apply</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s1 = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">   <span class="keyword">this</span>.name = name;  <span class="comment">//ä¸“é—¨å­˜æ”¾åå­—çš„</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> s2 = <span class="function"><span class="keyword">function</span>(<span class="params">sex</span>)</span>&#123;</div><div class="line">   <span class="keyword">this</span>.sex = sex;  <span class="comment">//ä¸“é—¨å­˜æ”¾æ€§åˆ«çš„çš„</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> s3 = <span class="function"><span class="keyword">function</span>(<span class="params">age</span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.age = age;  <span class="comment">//ä¸“é—¨å­˜æ”¾å¹´çºªçš„</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> Student = <span class="function"><span class="keyword">function</span>(<span class="params">name, sex, age, score</span>)</span>&#123;</div><div class="line"> s1.call(<span class="keyword">this</span>, name);</div><div class="line"> s2.call(<span class="keyword">this</span>, sex);</div><div class="line"> s3.call(<span class="keyword">this</span>, age);</div><div class="line"> <span class="keyword">this</span>.score = score;</div><div class="line">&#125;</div><div class="line">Student.prototype.constructor = Student;</div><div class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> Student(<span class="string">'jack'</span>, <span class="string">'male'</span>, <span class="string">'12'</span>, <span class="string">'100'</span>);</div><div class="line"><span class="built_in">console</span>.log(s.name+<span class="string">" "</span>+s.age+ <span class="string">" "</span> + s.age+<span class="string">" "</span>+ s.score);<span class="comment">//jack 12 12 100</span></div></pre></td></tr></table></figure>
<p>1.ä½¿ç”¨call()å®ç°å¤šé‡ç»§æ‰¿ï¼Œæ ¸å¿ƒå°±æ˜¯ç”¨Functionç±»çš„callæ–¹æ³•å»ç»‘å®šæ–°çš„ç±»ï¼Œä½¿æ–°çš„ç±»å®ä¾‹åŒ–åçš„å¯¹è±¡ç»§æ‰¿äº†è¯¥å±æ€§åŠæ–¹æ³•<br>2.è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å„ä¸ªä¸åŒçš„åŠŸèƒ½æ¨¡å—åˆ†ä¸åŒç¨‹åºå‘˜ç‹¬ç«‹å¼€å‘ï¼Œæœ€ååˆå¹¶èµ·æ¥ï¼Œå®ç°äº†å¤šé‡ç»§æ‰¿ã€‚<br>3.ä½†å®ƒçš„ç¼ºç‚¹æ˜¯åŸºç±»çš„æ–¹æ³•åªèƒ½å®šä¹‰åœ¨ç±»ä¸­ï¼Œè¿™æ ·åœ¨æ¯æ¬¡å®ä¾‹åŒ–çš„æ—¶å€™éƒ½ä¼šåˆ›å»ºè¯¥æ–¹æ³•ï¼Œé€ æˆå¤šä½™å†…å­˜å ç”¨<br>è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸Šé¢çš„æ„é€ ç»§æ‰¿çš„ç¼ºç‚¹</p>
<p>2.åŸå‹é“¾ç»§æ‰¿</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;</div><div class="line">s1.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;alert(<span class="keyword">this</span>.name)&#125;;</div><div class="line"><span class="keyword">var</span> s2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;</div><div class="line">s2.prototype =<span class="keyword">new</span> s1();</div><div class="line">s2.prototype.constructor = s2;</div><div class="line">s2.prototype.getSex = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;alert(<span class="keyword">this</span>.sex)&#125;;</div><div class="line"><span class="keyword">var</span> s3 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;</div><div class="line">s3.prototype = <span class="keyword">new</span> s2();</div><div class="line">s3.prototype.constructor = s3;</div><div class="line">s3.prototype.getAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;alert(<span class="keyword">this</span>.age)&#125;;</div><div class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> s3();</div><div class="line">s.name = <span class="string">'jack'</span>;</div><div class="line">s.sex = <span class="string">'male'</span>;</div><div class="line">s.age = <span class="string">'22'</span>;</div><div class="line">s.getName();<span class="comment">//jack</span></div><div class="line">s.getSex();<span class="comment">//male</span></div><div class="line">s.getAge();<span class="comment">//22</span></div></pre></td></tr></table></figure>
<p>å‡ºç°ä»£ç å†—ä½™ï¼Œè€Œä¸”æ— æ³•ä¼ é€’å‚æ•°</p>
<p>3.æ··åˆæ¨¡å¼ç»§æ‰¿<br>å°±æ˜¯å°†ä¸Šé¢çš„ä¸¤ç§æ–¹å¼è¿›è¡Œç»“åˆï¼Œæ‰¬é•¿é¿çŸ­ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s1 = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</div><div class="line"><span class="keyword">this</span>.name = name;</div><div class="line">&#125;</div><div class="line">s1.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;alert(<span class="keyword">this</span>.name)&#125;;</div><div class="line"><span class="keyword">var</span> s2 = <span class="function"><span class="keyword">function</span>(<span class="params">sex</span>)</span>&#123;</div><div class="line"><span class="keyword">this</span>.sex = sex;</div><div class="line">&#125;</div><div class="line">s2.prototype =<span class="keyword">new</span> s1();</div><div class="line">s2.prototype.getSex = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;alert(<span class="keyword">this</span>.sex)&#125;;</div><div class="line"><span class="keyword">var</span> s3 = <span class="function"><span class="keyword">function</span>(<span class="params">age</span>)</span>&#123;</div><div class="line"><span class="keyword">this</span>.age = age</div><div class="line">&#125;</div><div class="line">s3.prototype = <span class="keyword">new</span> s2();</div><div class="line">s3.prototype.getAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;alert(<span class="keyword">this</span>.age)&#125;;</div><div class="line"><span class="keyword">var</span> s4 = <span class="function"><span class="keyword">function</span>(<span class="params">name, sex, age</span>)</span>&#123;</div><div class="line">s1.call(<span class="keyword">this</span>, name);</div><div class="line">s2.call(<span class="keyword">this</span>, sex);</div><div class="line">s3.call(<span class="keyword">this</span>, age);</div><div class="line">&#125;</div><div class="line">s4.prototype = <span class="keyword">new</span> s3();</div><div class="line">s4.prototype.constructor = s4;</div><div class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> s4(<span class="string">'jack'</span>, <span class="string">'male'</span>, <span class="string">'25'</span>);</div><div class="line">s.getName();<span class="comment">//jack</span></div><div class="line">s.getSex();<span class="comment">//male</span></div><div class="line">s.getAge();<span class="comment">//25</span></div></pre></td></tr></table></figure>
<p>1.å±æ€§ç”¨æ„é€ çš„æ–¹æ³•ï¼Œæ–¹æ³•é‡‡ç”¨åŸå‹æ¨¡å¼ï¼›å¤§å¤§æé«˜äº†æ•ˆç‡</p>
<h2 id="jsä¸­çš„ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆæ ·å­çš„"><a href="#jsä¸­çš„ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆæ ·å­çš„" class="headerlink" title="jsä¸­çš„ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆæ ·å­çš„"></a>jsä¸­çš„ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆæ ·å­çš„</h2><h3 id="å˜é‡ä½œç”¨åŸŸ"><a href="#å˜é‡ä½œç”¨åŸŸ" class="headerlink" title="å˜é‡ä½œç”¨åŸŸ"></a>å˜é‡ä½œç”¨åŸŸ</h3><p>å…¨å±€å˜é‡çš„ä½œç”¨åŸŸï¼šå…¨å±€ï¼Œåœ¨ä»£ç å®šä¹‰çš„ä»»ä½•åœ°æ–¹éƒ½æ˜¯æœ‰å®šä¹‰çš„ï¼›<br>å±€éƒ¨å˜é‡å’Œå‡½æ•°çš„å‚æ•°åªæœ‰åœ¨å‡½æ•°ä½“å†…æ‰æœ‰å®šä¹‰<br>å¦å¤–ï¼Œå±€éƒ¨å˜é‡çš„ä¼˜å…ˆçº§è¦é«˜äºåŒåçš„å…¨å±€å˜é‡ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å±€éƒ¨å˜é‡ä¸å…¨å±€å˜é‡é‡åæ—¶ï¼Œå±€éƒ¨å˜é‡ä¼šè¦†ç›–<br>å…¨å±€å˜é‡ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">1</span>;            <span class="comment">//å£°æ˜ä¸€ä¸ªå…¨å±€å˜é‡</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</div><div class="line">ã€€  <span class="keyword">var</span> num = <span class="number">2</span>;        <span class="comment">//å£°æ˜ä¸€ä¸ªå±€éƒ¨å˜é‡</span></div><div class="line">    <span class="keyword">return</span> num;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(func());    <span class="comment">//è¾“å‡ºï¼š2</span></div></pre></td></tr></table></figure>
<p> æ³¨ï¼šå£°æ˜å±€éƒ¨å˜é‡æ—¶ä¸€å®šè¦ä½¿ç”¨var,å¦åˆ™ï¼Œè§£é‡Šå™¨ä¼šå°†è¯¥å˜é‡å½“åšå…¨å±€å¯¹è±¡windowçš„å±æ€§ã€‚</p>
<h3 id="å‡½æ•°ä½œç”¨åŸŸ"><a href="#å‡½æ•°ä½œç”¨åŸŸ" class="headerlink" title="å‡½æ•°ä½œç”¨åŸŸ"></a>å‡½æ•°ä½œç”¨åŸŸ</h3><p>åœ¨JavaScriptä¸­å‡½æ•°ä½œç”¨åŸŸï¼ˆå˜é‡åœ¨å£°æ˜å®ƒä»¬çš„å‡½æ•°ä½“ä»¥åŠè¿™ä¸ªå‡½æ•°ä½“åµŒå¥—çš„ä»»æ„å‡½æ•°ä½“éƒ½æ˜¯æœ‰å®šä¹‰çš„ï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</div><div class="line">           <span class="built_in">console</span>.log(num);           <span class="comment">//è¾“å‡ºï¼šundefinedï¼Œè€ŒéæŠ¥é”™ï¼Œå› ä¸ºå˜é‡numåœ¨æ•´ä¸ªå‡½æ•°ä½“å†…éƒ½æ˜¯æœ‰å®šä¹‰çš„</span></div><div class="line">           <span class="keyword">var</span> num = <span class="number">1</span>;                <span class="comment">//å£°æ˜num åœ¨æ•´ä¸ªå‡½æ•°ä½“funcå†…éƒ½æœ‰å®šä¹‰</span></div><div class="line">           <span class="built_in">console</span>.log(num);           <span class="comment">//è¾“å‡ºï¼š1</span></div><div class="line">       &#125;</div><div class="line">       func();</div></pre></td></tr></table></figure>
<p>JavaScriptçš„å‡½æ•°ä½œç”¨åŸŸæ˜¯æŒ‡åœ¨åœ¨å‡½æ•°å†…å£°æ˜çš„æ‰€æœ‰å˜é‡åœ¨å‡½æ•°ä½“å†…å§‹ç»ˆæ˜¯å¯è§çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨å‡½æ•°ä½“å†…å˜é‡å£°æ˜ä¹‹å‰å°±å·²ç»å¯ç”¨äº†<br>ä½œä¸ºå±æ€§çš„å˜é‡ï¼Œå½“å£°æ˜ä¸€ä¸ªå…¨å±€å˜é‡çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯å®šä¹‰äº†å…¨å±€å¯¹è±¡windowçš„ä¸€ä¸ªå±æ€§</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">1</span>;            <span class="comment">//å£°æ˜å…¨å˜é‡num</span></div><div class="line">      alert(<span class="built_in">window</span>.num)       <span class="comment">//è¾“å‡ºï¼š1 å£°æ˜çš„å…¨å±€å˜é‡å®é™…ä¸Šå°±æ˜¯å£°æ˜äº†ä¸€ä¸ªwindowå¯¹è±¡çš„å±æ€§</span></div></pre></td></tr></table></figure>
<h2 id="jsä¸­çš„thisæŒ‡çš„æ˜¯ä»€ä¹ˆ"><a href="#jsä¸­çš„thisæŒ‡çš„æ˜¯ä»€ä¹ˆ" class="headerlink" title="jsä¸­çš„thisæŒ‡çš„æ˜¯ä»€ä¹ˆ"></a>jsä¸­çš„thisæŒ‡çš„æ˜¯ä»€ä¹ˆ</h2><p>1.åœ¨å…¨å±€ä½œç”¨åŸŸæ—¶ï¼šthisæŒ‡å‘window</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span> === <span class="built_in">window</span>);  <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p>å› æ­¤,æˆ‘ä»¬åœ¨å…¨å±€ä½œç”¨åŸŸå£°æ˜çš„å˜é‡ä¹Ÿä¼šæŒ‡å‘this</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.x);<span class="comment">//1</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.x);<span class="comment">//1</span></div></pre></td></tr></table></figure>
<p>2.å½“åœ¨å‡½æ•°ä¸­æ—¶,thisæŒ‡å‘è°ƒç”¨å‡½æ•°çš„é‚£ä¸ªå¯¹è±¡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">num</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.x = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.x);<span class="comment">//0</span></div><div class="line">num();</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.x);<span class="comment">//1</span></div></pre></td></tr></table></figure>
<p>è¿™é‡Œå°±æ˜¯ç»å¸¸å®¹æ˜“çŠ¯å¾—é”™è¯¯ï¼Œå¾ˆå¤šäººè§‰å¾—ï¼Œå½“thiså·²ç»åœ¨ä¸€ä¸ªfunctionä¹‹ä¸­æ—¶ï¼Œå…¶ç›®å‰æ‰€å¤„ä½ç½®ä¸ºå½“å‰çš„å±€éƒ¨ä½œç”¨åŸŸï¼Œæ‰€ä»¥ç›®å‰æŒ‡å‘çš„åº”è¯¥æ˜¯æ­¤å‡½æ•° </p>
<p>ä½†æ˜¯ï¼Œå¦‚æœä½ å°†è¿™ä¸ªå‡½æ•°å®ä¾‹åŒ–ï¼ˆnewï¼‰ä¹‹åï¼Œæ­¤å‡½æ•°å°†ç”Ÿæˆä¸€ä¸ªå…¨æ–°çš„ç¯å¢ƒï¼Œæ­¤æ—¶åœ¨æ­¤å®ä¾‹ä¸­çš„thisä¹Ÿä¼šéšä¹‹å‘ç”Ÿå˜åŒ–ï¼Œå®ƒå°†æŒ‡å‘æ‰€åœ¨å®ä¾‹ã€‚é¦–å…ˆnewå…³é”®å­—ä¼šåˆ›å»ºä¸€ä¸ªç©ºçš„å¯¹è±¡ï¼Œç„¶åä¼šè‡ªåŠ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°applyæ–¹æ³•ï¼Œå°†thisæŒ‡å‘è¿™ä¸ªç©ºå¯¹è±¡ï¼Œè¿™æ ·çš„è¯å‡½æ•°å†…éƒ¨çš„thiså°±ä¼šè¢«è¿™ä¸ªç©ºçš„å¯¹è±¡æ›¿ä»£;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">num = <span class="string">"0"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setThis</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.num = <span class="string">"1"</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.num);<span class="comment">//"0"</span></div><div class="line"><span class="keyword">new</span> setThis();</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.num);<span class="comment">//"0"</span></div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> setThis().num);<span class="comment">//1</span></div></pre></td></tr></table></figure>
<p>å¦å¤–ï¼Œåœ¨æˆ‘ä»¬å†™javascriptçš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸è¿˜ä¼šæœ‰ä¸€ç§è°ƒç”¨å‡½æ•°çš„æ–¹æ³•ï¼Œå³ä¸ºå…ƒç´ ç»‘å®šäº‹ä»¶ï¼Œæ¯”å¦‚button.addEventListener(â€˜clickâ€™, fn, false)ç­‰ï¼Œå¦‚æœåœ¨fné‡Œé¢éœ€è¦ä½¿ç”¨åˆ°thisçš„è¯ï¼Œé‚£ä¹ˆæ­¤æ—¶thisæŒ‡å‘äº‹ä»¶å¤„ç†å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯button</p>
<p>3.ä½œä¸ºå¯¹è±¡è°ƒç”¨æ—¶,this æŒ‡ä»£ä¸Šçº§å¯¹è±¡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">ã€€ã€€alert(<span class="keyword">this</span>.x);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> o = &#123;&#125;;</div><div class="line">o.x = <span class="number">1</span>;</div><div class="line">o.m = test;</div><div class="line">o.m(); <span class="comment">// 1</span></div></pre></td></tr></table></figure>
<p>æ€»ä¹‹ï¼šthisçš„æŒ‡å‘åœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™æ˜¯ç¡®å®šä¸äº†çš„ï¼Œåªæœ‰å‡½æ•°æ‰§è¡Œçš„æ—¶å€™æ‰èƒ½ç¡®å®šthisåˆ°åº•æŒ‡å‘è°ï¼Œå®é™…ä¸Šthisçš„æœ€ç»ˆæŒ‡å‘çš„æ˜¯é‚£ä¸ªè°ƒç”¨å®ƒçš„å¯¹è±¡</p>
<h2 id="call-apply-bindçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"><a href="#call-apply-bindçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="headerlink" title="call,apply,bindçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"></a>call,apply,bindçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ</h2><p>ä¸€èˆ¬ç”¨æ¥æŒ‡å®šçš„thisç¯å¢ƒ;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=&#123;</div><div class="line">          <span class="attr">user</span>:<span class="string">'å°‘å¥³é›¨'</span>,</div><div class="line">          <span class="attr">fn</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">              <span class="built_in">console</span>.log(<span class="keyword">this</span>.user);</div><div class="line">          &#125;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">var</span> b=a.fn;</div><div class="line">      b(); <span class="comment">//undefined</span></div><div class="line">      a.fn();  <span class="comment">//å°‘å¥³é›¨</span></div></pre></td></tr></table></figure>
<p>å¼•è¨€ï¼šè¿è¡Œb()å¾—åˆ°çš„æ˜¯undefinedï¼Œå…¶å®å’Œæˆ‘ä»¬çš„thisæŒ‡å‘æœ‰å…³ç³»;å› ä¸ºæ­¤æ—¶thisæŒ‡å‘çš„æ˜¯b;è€Œä¸‹é¢a.fn()ä¸ºä»€ä¹ˆèƒ½è¾“å‡ºæ¥èƒ½ï¼Œå› ä¸ºæ­¤æ—¶thisæŒ‡å‘çš„æ˜¯æˆ‘ä»¬çš„a;ä¹Ÿå°±æ˜¯å¸¸è¯´çš„é‚£å¥ï¼Œthiså§‹ç»ˆæŒ‡å‘çš„æ˜¯è°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡;<br>è™½ç„¶a.fn()èƒ½æ‰“å°å‡ºæˆ‘ä»¬çš„æ•°æ®ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æœ€ç§‘å­¦çš„æ–¹å¼ï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹æ³•ï¼š<br>1.call():è°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä»¥å¦ä¸€ä¸ªå¯¹è±¡æ›¿æ¢å½“å‰å¯¹è±¡<br>è¯´æ˜ï¼š<br>call æ–¹æ³•å¯ä»¥ç”¨æ¥ä»£æ›¿å¦ä¸€ä¸ªå¯¹è±¡è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ã€‚call æ–¹æ³•å¯å°†ä¸€ä¸ªå‡½æ•°çš„å¯¹è±¡ä¸Šä¸‹æ–‡ä»åˆå§‹çš„ä¸Šä¸‹æ–‡æ”¹å˜ä¸ºç”± thisObj æŒ‡å®šçš„æ–°å¯¹è±¡ã€‚<br>å¦‚æœæ²¡æœ‰æä¾› thisObj å‚æ•°ï¼Œé‚£ä¹ˆ Global å¯¹è±¡è¢«ç”¨ä½œ thisObjã€‚ </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=&#123;</div><div class="line">     <span class="attr">user</span>:<span class="string">'å°‘å¥³é›¨'</span>,</div><div class="line">     <span class="attr">fn</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">         <span class="built_in">console</span>.log(<span class="keyword">this</span>.user);</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">var</span> b=a.fn;</div><div class="line">       b.call(a); <span class="comment">//å°‘å¥³é›¨</span></div></pre></td></tr></table></figure>
<p>ç®€å•æ¥è¯´ï¼šé€šè¿‡åœ¨callæ–¹æ³•ï¼Œç»™å®šç¬¬ä¸€ä¸ªå‚æ•°ï¼›å°†bæ·»åŠ åˆ°å“ªä¸ªç¯å¢ƒä¸­ï¼Œthiså°±ä¼šæŒ‡å‘é‚£ä¸ªå¯¹è±¡ï¼›<br>callæ–¹æ³•é™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°ä»¥å¤–è¿˜èƒ½æ·»åŠ å¤šä¸ªå‚æ•°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=&#123;</div><div class="line">           <span class="attr">user</span>:<span class="string">'å°‘å¥³é›¨'</span>,</div><div class="line">           <span class="attr">fn</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</div><div class="line">               <span class="built_in">console</span>.log(<span class="keyword">this</span>.user);</div><div class="line">               <span class="built_in">console</span>.log(a); <span class="comment">//2</span></div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">       <span class="keyword">var</span> b=a.fn;</div><div class="line">       b(); <span class="comment">//undefined</span></div><div class="line">       a.fn();  <span class="comment">//å°‘å¥³é›¨</span></div><div class="line">       b.call(a); <span class="comment">//å°‘å¥³é›¨</span></div><div class="line">       b.call(a,<span class="number">2</span>);<span class="comment">//å°‘å¥³é›¨ 2</span></div></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å¯ä»¥ç”¨ä½œä¼ å‚<br>2.apply():åº”ç”¨æŸä¸€å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨å¦ä¸€ä¸ªå¯¹è±¡æ›¿æ¢å½“å‰å¯¹è±¡ã€‚<br>è¯´æ˜ï¼š<br>å¦‚æœ argArray ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°ç»„æˆ–è€…ä¸æ˜¯ arguments å¯¹è±¡ï¼Œé‚£ä¹ˆå°†å¯¼è‡´ä¸€ä¸ª TypeErrorã€‚<br>å¦‚æœæ²¡æœ‰æä¾› argArray å’Œ thisObj ä»»ä½•ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆ Global å¯¹è±¡å°†è¢«ç”¨ä½œ thisObjï¼Œ å¹¶ä¸”æ— æ³•è¢«ä¼ é€’ä»»ä½•å‚æ•°ã€‚<br>applyæ–¹æ³•å’Œcallæ–¹æ³•ç›¸ä¼¼ï¼Œå®ƒä¹Ÿå¯ä»¥æ”¹å˜thisæŒ‡å‘ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=&#123;</div><div class="line">     <span class="attr">user</span>:<span class="string">'å°‘å¥³é›¨'</span>,</div><div class="line">     <span class="attr">fn</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">          <span class="built_in">console</span>.log(<span class="keyword">this</span>.user);</div><div class="line">           &#125;</div><div class="line">       &#125; </div><div class="line">       <span class="keyword">var</span> b=a.fn;</div><div class="line">       b.apply(a);  <span class="comment">//å°‘å¥³é›¨</span></div></pre></td></tr></table></figure>
<p>åŒæ ·çš„applyä¹Ÿå¯ä»¥æœ‰å¤šä¸ªå‚æ•°ï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œç¬¬äºŒä¸ªå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=&#123;</div><div class="line">      <span class="attr">user</span>:<span class="string">'å°‘å¥³é›¨'</span>,</div><div class="line">      <span class="attr">fn</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</div><div class="line">           <span class="built_in">console</span>.log(<span class="keyword">this</span>.user);</div><div class="line">            <span class="built_in">console</span>.log(a);  <span class="comment">//10</span></div><div class="line">            &#125;</div><div class="line">        &#125; </div><div class="line">        <span class="keyword">var</span> b=a.fn;</div><div class="line">        b.apply(a,[<span class="number">10</span>]);  <span class="comment">//å°‘å¥³é›¨  10</span></div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šå¦‚æœcallå’Œapplyçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Null,é‚£ä¹ˆthisæŒ‡å‘çš„æ˜¯windowå¯¹è±¡ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=&#123;</div><div class="line">     <span class="attr">user</span>:<span class="string">'å°‘å¥³é›¨'</span>,</div><div class="line">     <span class="attr">fn</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</div><div class="line">           <span class="built_in">console</span>.log(<span class="keyword">this</span>);  </div><div class="line">           &#125;</div><div class="line">       &#125; </div><div class="line">       <span class="keyword">var</span> b=a.fn;</div><div class="line">       b.apply(<span class="literal">null</span>);</div><div class="line">       <span class="comment">//Window &#123;stop: function, open: function, alert: function, confirm: function, prompt: functionâ€¦&#125;</span></div></pre></td></tr></table></figure>
<p>3.bind() å’Œcall,applyæ–¹æ³•ä¸åŒï¼Œä½†æ˜¯éƒ½å¯ä»¥æ”¹å˜thisçš„æŒ‡å‘</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=&#123;</div><div class="line">      <span class="attr">user</span>:<span class="string">'å°‘å¥³é›¨'</span>,</div><div class="line">      <span class="attr">fn</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.user);       </div><div class="line">            &#125;</div><div class="line">        &#125; </div><div class="line">        <span class="keyword">var</span> b=a.fn; </div><div class="line">        b.bind(a);</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæ²¡æœ‰æ‰“å°å‡ºæ•°æ®ï¼›è¿™å°±æ˜¯bindå’Œcall,applyä¸åŒçš„åœ°æ–¹ï¼Œå®é™…ä¸Šbindè¿”å›çš„æ˜¯ä¸€ä¸ªä¿®æ”¹è¿‡åçš„å‡½æ•°ï¼›<br>ä½ çœ‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> c=b.bind(a); </div><div class="line">        <span class="built_in">console</span>.log(c);</div><div class="line">        <span class="comment">/*function (a)&#123;</span></div><div class="line">            console.log(this.user);       </div><div class="line">            &#125;*/</div></pre></td></tr></table></figure>
<p>è‹¥æƒ³æ‰“å°å‡ºæ•°æ®ï¼Œéœ€è¦å†æ‰§è¡Œä»¥ä¸‹c();<br>åŒæ ·bind()ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªå‚æ•°ï¼Œå¹¶ä¸”å‚æ•°å¯ä»¥æ‰§è¡Œçš„æ—¶å€™å†æ¬¡æ·»åŠ ï¼Œä½†æ³¨æ„ï¼Œå‚æ•°æ˜¯æŒ‰ç…§å½¢å‚é¡ºåºè¿›è¡Œçš„ï¼›<br>å°±æ˜¯è¿™æ ·</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=&#123;</div><div class="line">    <span class="attr">user</span>:<span class="string">'å°‘å¥³é›¨'</span>,</div><div class="line">    <span class="attr">fn</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;</div><div class="line">          <span class="built_in">console</span>.log(<span class="keyword">this</span>.user);   <span class="comment">//å°‘å¥³é›¨</span></div><div class="line">          <span class="built_in">console</span>.log(a,b,c);     <span class="comment">//1 3 4</span></div><div class="line">          &#125;</div><div class="line">      &#125; </div><div class="line">      <span class="keyword">var</span> b=a.fn; </div><div class="line">      <span class="keyword">var</span> c=b.bind(a,<span class="number">1</span>); </div><div class="line">      c(<span class="number">3</span>,<span class="number">4</span>);</div></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šcallå’Œapplyéƒ½æ˜¯æ”¹å˜ä¸Šä¸‹æ–‡ä¸­çš„thiså¹¶ç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œéƒ½å¯ä»¥æ·»åŠ å¤šä¸ªå‚æ•°ï¼Œä½†æ˜¯applyæ–¹æ³•æ·»åŠ çš„å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„;bindæ–¹æ³•å¯ä»¥è®©å¯¹åº”çš„å‡½æ•°æƒ³ä»€ä¹ˆæ—¶å€™è°ƒç”¨å°±ä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Œå¹¶ä¸”å‚æ•°å¯ä»¥åœ¨æ‰§è¡Œæ—¶å€™æ·»åŠ </p>
<h2 id="caller-calleeå’Œargumentsåˆ†åˆ«æ˜¯ä»€ä¹ˆ"><a href="#caller-calleeå’Œargumentsåˆ†åˆ«æ˜¯ä»€ä¹ˆ" class="headerlink" title="caller , calleeå’Œargumentsåˆ†åˆ«æ˜¯ä»€ä¹ˆ"></a>caller , calleeå’Œargumentsåˆ†åˆ«æ˜¯ä»€ä¹ˆ</h2><p>1.arguments:åœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨è¯¥å‡½æ•°å†…éƒ¨ç”Ÿæˆä¸€ä¸ªåä¸ºargumentsçš„éšè—å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç±»ä¼¼äºæ•°ç»„ï¼Œä½†åˆä¸æ˜¯æ•°ç»„ï¼›<br>å¯ä»¥ç”¨[]æ“ä½œç¬¦è·å–å‡½æ•°è°ƒç”¨æ—¶ä¼ é€’çš„å®å‚,å¹¶ä¸å±€é™äºå‡½æ•°å£°æ˜çš„å‚æ•°åˆ—è¡¨;<br>è¡¨ç¤ºè¢«è¿™æ‹—å£çš„è¯æ··ä¹±äº†ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">obj</span>(<span class="params"></span>)</span>&#123;</div><div class="line">     <span class="built_in">console</span>.log( <span class="string">'arguments instanceof Array? '</span> + (<span class="built_in">arguments</span> <span class="keyword">instanceof</span> <span class="built_in">Array</span>) ); <span class="comment">// arguments instanceof Array? false</span></div><div class="line">     <span class="built_in">console</span>.log( <span class="string">'arguments instanceof Object? '</span> + (<span class="built_in">arguments</span> <span class="keyword">instanceof</span> <span class="built_in">Object</span>) );  <span class="comment">// arguments instanceof Object? true</span></div><div class="line">     <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);  <span class="comment">//Arguments(0)</span></div><div class="line"> &#125;</div><div class="line"> obj();</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬é€šè¿‡æ§åˆ¶å°æ˜¾ç¤ºçš„æ•°æ®è¿˜çœ‹ï¼š<br><img src="/images/js-4.png" alt="js"><br>ä»æ‰“å°çš„ç»“æœçœ‹ï¼Œargumentsæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”é‡Œé¢è¿˜åŒ…å«äº†calleeï¼Œcalleeä¸­åˆåŒ…å«callerç­‰å±æ€§ï¼›<br>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬giaç™¾å¹´ä»£ç çœ‹çœ‹ï¼Œè®©å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼ é€’å‚æ•°ï¼Œè€Œå‡½æ•°æœ¬èº«æ²¡æœ‰å‚æ•°ï¼›<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">obj</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log( <span class="string">'arguments instanceof Array? '</span> + (<span class="built_in">arguments</span> <span class="keyword">instanceof</span> <span class="built_in">Array</span>) ); <span class="comment">// arguments instanceof Array? false</span></div><div class="line">    <span class="built_in">console</span>.log( <span class="string">'arguments instanceof Object? '</span> + (<span class="built_in">arguments</span> <span class="keyword">instanceof</span> <span class="built_in">Object</span>) );  <span class="comment">// arguments instanceof Object? true</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);  <span class="comment">//Arguments(0)</span></div><div class="line">&#125;</div><div class="line">obj(<span class="string">'xiaonv'</span>,<span class="string">'LOVE'</span>,<span class="number">23</span>);</div></pre></td></tr></table></figure></p>
<p>å’Œä¸Šé¢çš„ä»£ç æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåªæ˜¯objä¼ é€’äº†å‚æ•°ï¼›<br><img src="/images/js-5.png" alt="js"><br>å¾ˆæ˜¾ç„¶ï¼ŒArgumentsåŒ…å«äº†3ä¸ªå‚æ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è°ƒç”¨obj()æ—¶ä¼ é€’çš„ï¼›<br>æ‰€ä»¥ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ºä»€ä¹ˆargumentsæ˜¯å­˜å‚¨çš„å®é™…ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°å‘¢ï¼Œè€Œä¸æ˜¯å‡½æ•°å£°æ˜çš„å‚æ•°ï¼›<br>2.callee<br>ä¸Šé¢çš„æˆªå›¾ä¸­ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°äº†calleeçš„å‡ºç°ï¼Œå¯ä»¥çœ‹å‡ºï¼Œcalleeæ˜¯argumentså¯¹è±¡çš„ä¸€ä¸ªæˆå‘˜ï¼Œå¹¶ä¸”å€¼å°±æ˜¯ä¸ºæˆ‘ä»¬è¢«æ‰§è¡Œçš„obj()æ–¹æ³•ï¼›<br>æˆ‘ä»¬åœ¨objæ–¹æ³•ä¸­åŠ å…¥è¿™ä¸€å¥ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee);</div></pre></td></tr></table></figure>
<p><img src="/images/js-6.png" alt="js"><br>ä»è€Œå¯çŸ¥ï¼šarguments.calleeæ˜¯æŒ‡å‘å‚æ•°argumentså¯¹è±¡çš„å‡½æ•°ï¼Œåœ¨è¿™é‡Œå°±æ˜¯objå’¯ã€‚<br>3.calleråˆæ˜¯å“ªä¸ªï¼Ÿ<br>è®°å¾—ä¸Šå›¾ä¹Ÿå‡ºç°è¿‡ï¼Œcalleråˆ™æ˜¯calleeé‡Œçš„ä¸€ä¸ªå±æ€§å¯¹è±¡ï¼›è¯¥å±æ€§ä¿å­˜ç€è°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•°ï¼›<br>æ³¨æ„ï¼šæ˜¯è°ƒç”¨ï¼Œä¸ä»…ä»…åŒ…å«é—­åŒ…ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å‡½æ•°ï¼Œåˆ™ä¸ºnull;<br>æ‰€ä»¥ä¸Šè¯‰ä»£ç ä¸­ï¼Œæˆ‘ä»¬è¿™æ ·è¾“å‡ºï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee.caller);  <span class="comment">//null</span></div></pre></td></tr></table></figure></p>
<p>å› ä¸ºobjæ–¹æ³•æ²¡æœ‰çˆ¶å‡½æ•°ï¼Œæ‰€ä»¥ä¸ºnullï¼›<br>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†çœ‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//çˆ¶å‡½æ•°</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">parent</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">//å­å‡½æ•°</span></div><div class="line">     <span class="function"><span class="keyword">function</span> <span class="title">child</span>(<span class="params"></span>)</span>&#123;</div><div class="line">         <span class="built_in">console</span>.log(child.caller);</div><div class="line">     &#125;</div><div class="line">    child();</div><div class="line">    <span class="built_in">console</span>.log(parent.caller); <span class="comment">//null</span></div><div class="line">&#125; </div><div class="line">parent();</div></pre></td></tr></table></figure>
<p>çœ‹çœ‹è¾“å‡ºç»“æœï¼š<br><img src="/images/js-7.png" alt="js"><br>å¯ä»¥çœ‹åˆ°callerä¿å­˜çš„æ˜¯parentå¯¹è±¡ï¼›è¿™æ˜¯å› ä¸ºchildæœ‰ä¸€ä¸ªçˆ¶å‡½æ•°parentï¼Œå¹¶ä¸”åœ¨çˆ¶å‡½æ•°ä¸­è¢«æ‰§è¡Œchild(); è€Œåä¸€ä¸ªparentæ²¡æœ‰çˆ¶å‡½æ•°ï¼Œæ‰€ä»¥ä¸ºnullï¼›<br>é‚£è¿™æ ·çœ‹çœ‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">//parent2è°ƒç”¨äº†child2</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">parent2</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    child2();</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">child2</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(child2.caller);</div><div class="line">&#125;</div><div class="line"> parent2();</div></pre></td></tr></table></figure>
<p>ç»“æœå‘¢ï¼š<br><img src="/images/js-8.png" alt="js"><br>çœ‹è§åŒºåˆ«äº†å—ï¼Ÿ parent2è°ƒç”¨äº†child2ï¼Œä½†child2ä¸æ˜¯åµŒå¥—åœ¨parent2é‡Œçš„å‡½æ•°ï¼›<br>æ‰€ä»¥åªæ˜¾ç¤ºäº†child2();<br>å¤§æ¦‚å°±æ˜¯è¿™æ ·;</p>
<h2 id="ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Œé—­åŒ…æœ‰ä»€ä¹ˆç”¨å¤„"><a href="#ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Œé—­åŒ…æœ‰ä»€ä¹ˆç”¨å¤„" class="headerlink" title="ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Œé—­åŒ…æœ‰ä»€ä¹ˆç”¨å¤„"></a>ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Œé—­åŒ…æœ‰ä»€ä¹ˆç”¨å¤„</h2><p>ç›¸ä¿¡å¾ˆå¤šäººéƒ½ä¼šæœ‰è¿™ä¸ªå›°æƒ‘ï¼Œé—­åŒ…åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<h3 id="ä»€ä¹ˆæ˜¯é—­åŒ…å‘¢ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯é—­åŒ…å‘¢ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯é—­åŒ…å‘¢ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯é—­åŒ…å‘¢ï¼Ÿ</h3><p>é—­åŒ…æ˜¯æœ‰æƒè®¿é—®<b>å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸçš„å˜é‡</b>çš„å‡½æ•°<br>ç®€å•ç‚¹æ¥è¯´ï¼šjavascriptå…è®¸ä½¿ç”¨å†…éƒ¨å‡½æ•°â€”å³å‡½æ•°å®šä¹‰å’Œå‡½æ•°è¡¨è¾¾å¼ä½äºå¦ä¸€ä¸ªå‡½æ•°ä½“å†…ï¼Œè€Œä¸”ï¼Œè¿™äº›å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å®ƒä»¬æ‰€åœ¨çš„å†…éƒ¨å‡½æ•°ä¸­å£°æ˜çš„æ‰€æœ‰å…¨å±€å˜é‡ï¼Œå‚æ•°å’Œå£°æ˜çš„å…¶ä»–å†…éƒ¨å‡½æ•°ã€‚å½“å…¶ä¸­ä¸€ä¸ªè¿™æ ·çš„å†…éƒ¨å‡½æ•°åœ¨åŒ…å«å®ƒä»¬çš„å¤–éƒ¨å‡½æ•°ä¹‹å¤–è¢«è°ƒç”¨æ—¶ï¼Œå°±ä¼šå½¢æˆé—­åŒ…ï¼›</p>
<h3 id="ä½œç”¨åŸŸçš„ä½œç”¨"><a href="#ä½œç”¨åŸŸçš„ä½œç”¨" class="headerlink" title="ä½œç”¨åŸŸçš„ä½œç”¨"></a>ä½œç”¨åŸŸçš„ä½œç”¨</h3><p>è¿™æ˜¯ç†è§£é—­åŒ…çš„ç¬¬ä¸€æ­¥ï¼›å‰é¢å·²ç»ä»‹ç»è¿‡ä½œç”¨åŸŸäº†ï¼Œæ— éå°±æ˜¯å…¨å±€å’Œå±€éƒ¨ï¼›<br>javascriptè¯­è¨€çš„ç‰¹æ®Šä¹‹å¤„ï¼Œåœ¨äºå‡½æ•°å†…éƒ¨å¯ä»¥ç›´æ¥è¯»å–å…¨å±€å˜é‡ï¼›å…¶ä¸­å†…éƒ¨å‡½æ•°ä¸­å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œæ˜¯å› ä¸ºå†…éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸé“¾ä¸­åŒ…å«äº†å¤–éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> n=<span class="number">999</span>;</div><div class="line">   <span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">       <span class="built_in">console</span>.log(n); <span class="comment">//999</span></div><div class="line">   &#125;</div><div class="line">   f1();</div></pre></td></tr></table></figure>
<p>è€Œå¦ä¸€æ–¹é¢ï¼Œå‡½æ•°å¤–éƒ¨æ˜¯æ— æ³•å–åˆ°å‡½æ•°å†…éƒ¨çš„å€¼ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> n=<span class="number">999</span>;    </div><div class="line">&#125;</div><div class="line">f1();</div><div class="line"><span class="built_in">console</span>.log(n);  <span class="comment">//n is not defined</span></div></pre></td></tr></table></figure>
<p>è¿˜æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œå‡½æ•°å†…éƒ¨å£°æ˜å˜é‡æ—¶ï¼Œä¸€å®šè¦ä½¿ç”¨varå‘½ä»¤ï¼Œä¸ç„¶ç­‰äºå£°æ˜äº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå˜é‡ä½œç”¨åŸŸä¼šæå‡ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">ã€€ n=<span class="number">999</span>;</div><div class="line">&#125;</div><div class="line">f1();</div><div class="line">alert(n); <span class="comment">// 999</span></div></pre></td></tr></table></figure>
<h3 id="é—­åŒ…çš„å‡ ç§å†™æ³•"><a href="#é—­åŒ…çš„å‡ ç§å†™æ³•" class="headerlink" title="é—­åŒ…çš„å‡ ç§å†™æ³•"></a>é—­åŒ…çš„å‡ ç§å†™æ³•</h3><p>ç®€å•ä»‹ç»ä¸‹ï¼Œå’Œä¸Šé¢çš„å®šä¹‰ç±»çš„å‡ ç§æ–¹æ³•å…¶å®å°±æ˜¯é—­åŒ…ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Circle</span>(<span class="params">r</span>) </span>&#123; </div><div class="line">   <span class="keyword">this</span>.r = r; </div><div class="line">&#125; </div><div class="line">Circle.PI = <span class="number">3.14159</span>; </div><div class="line">Circle.prototype.area = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </div><div class="line">  <span class="keyword">return</span> Circle.PI * <span class="keyword">this</span>.r * <span class="keyword">this</span>.r; </div><div class="line">&#125; </div><div class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> Circle(<span class="number">1.0</span>); </div><div class="line"><span class="built_in">console</span>.log(c.area()); <span class="comment">//3.14159</span></div></pre></td></tr></table></figure>
<p>è¿˜æœ‰</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Circle=&#123; </div><div class="line"><span class="string">"PI"</span>:<span class="number">3.14159</span>, </div><div class="line"><span class="string">"area"</span>:<span class="function"><span class="keyword">function</span>(<span class="params">r</span>)</span>&#123; </div><div class="line"><span class="keyword">return</span> <span class="keyword">this</span>.PI * r * r; </div><div class="line">&#125; </div><div class="line">&#125;; </div><div class="line">alert( Circle.area(<span class="number">1.0</span>) );<span class="comment">//3.14159</span></div></pre></td></tr></table></figure>
<p>å¯ä»¥ç»“åˆä¸Šé¢çš„ä¾‹å­ç®€å•ç†è§£ä¸‹ï¼›</p>
<h3 id="é—­åŒ…çš„ä½œç”¨"><a href="#é—­åŒ…çš„ä½œç”¨" class="headerlink" title="é—­åŒ…çš„ä½œç”¨"></a>é—­åŒ…çš„ä½œç”¨</h3><p>1.å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œ<br>2.è®©è¿™äº›å˜é‡çš„å€¼å§‹ç»ˆä¿æŒåœ¨å†…å­˜ä¸­ï¼›<br>ä½†æ˜¯ç©¶ç«Ÿæ€ä¹ˆä½¿ç”¨é—­åŒ…æ‰èƒ½è¯»å–åˆ°å‡½æ•°å†…çš„å±€éƒ¨å˜é‡å‘¢ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">ã€€ã€€<span class="keyword">var</span> n=<span class="number">999</span>;</div><div class="line">ã€€ã€€<span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</div><div class="line">ã€€ã€€ã€€ <span class="built_in">console</span>.log(n); <span class="comment">// 999</span></div><div class="line">ã€€ã€€&#125;</div><div class="line">f2();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘åœ¨å‡½æ•°å†…éƒ¨å†å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼›f2è¢«åŒ…å«åœ¨f1å†…éƒ¨äº†ï¼Œæ‰€ä»¥å¯ä»¥è®¿é—®f1å†…éƒ¨çš„æ‰€æœ‰å…¨å±€å˜é‡ï¼›<br>ä½†æ˜¯f1å»ä¸èƒ½è®¿é—®f2å†…éƒ¨çš„å±€éƒ¨å˜é‡ï¼›<br>è¿™å°±æ˜¯jsçš„â€œé“¾å¼ä½œç”¨åŸŸâ€ç»“æ„ï¼Œå­å¯¹è±¡ä¼šä¸€çº§ä¸€çº§çš„å‘ä¸Šå¯»æ‰¾æ‰€æœ‰çˆ¶å¯¹è±¡çš„å˜é‡ï¼Œæ‰€ä»¥çˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡ï¼Œå¯¹å­å¯¹è±¡éƒ½æ˜¯å¯è§çš„ï¼Œåä¹‹åˆ™ä¸æˆç«‹ï¼›<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">ã€€ã€€<span class="keyword">var</span> n=<span class="number">999</span>;</div><div class="line">ã€€ã€€<span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</div><div class="line">ã€€ã€€ã€€ã€€<span class="built_in">console</span>.log(n); </div><div class="line">ã€€ã€€&#125;</div><div class="line">ã€€ã€€<span class="keyword">return</span> f2;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> result=f1();</div><div class="line">result(); <span class="comment">// 999</span></div></pre></td></tr></table></figure></p>
<p>f2å¯ä»¥è¯»å–åˆ°f1çš„å˜é‡ï¼Œé‚£ä¹ˆå°†f2ä½œä¸ºè¿”å›å€¼ï¼Œä¸ä¹…å¯ä»¥åœ¨f1ä¸­è¯»å–åˆ°å®ƒçš„å†…éƒ¨å˜é‡äº†ï¼›<br>ä½†æ˜¯å¦‚ä½•å°†å˜é‡çš„å€¼å­˜åœ¨å†…å­˜ä¸­å‘¢ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> n=<span class="number">99</span>;</div><div class="line">    nAdd=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="comment">//åŒ¿åå‡½æ•°</span></div><div class="line">       n+=<span class="number">1</span>; <span class="comment">//å…¨å±€å˜é‡</span></div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(n);</div><div class="line">     &#125;</div><div class="line">     <span class="keyword">return</span> f2;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> result=f1();</div><div class="line">result(); <span class="comment">//99</span></div><div class="line">nAdd();</div><div class="line">result(); <span class="comment">//100</span></div></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç ä¸­resultå®é™…ä¸Šå°±æ˜¯é—­åŒ…f2å‡½æ•°ï¼Œå®ƒä¸€å…±è¿è¡Œäº†ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡å€¼æ˜¯99ï¼Œç¬¬äºŒæ¬¡æ˜¯100ï¼›è¿™è¯æ˜äº†ï¼Œå‡½æ•°f1ä¸­çš„å±€éƒ¨å˜é‡nä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå¹¶æ²¡æœ‰åœ¨f1è°ƒç”¨åè¢«è‡ªåŠ¨æ¸…é™¤ã€‚<br>åŸå› å°±åœ¨äºf1æ˜¯f2çš„çˆ¶å‡½æ•°ï¼Œè€Œf2è¢«èµ‹ç»™äº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè¿™å¯¼è‡´f2å§‹ç»ˆåœ¨å†…å­˜ä¸­ï¼Œè€Œf2çš„å­˜åœ¨ä¾èµ–äºf1ï¼Œå› æ­¤f1ä¹Ÿå§‹ç»ˆåœ¨å†…å­˜ä¸­ï¼Œä¸ä¼šåœ¨è°ƒç”¨ç»“æŸåï¼Œè¢«åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆgarbage collectionï¼‰å›æ”¶ã€‚</p>
<h3 id="é—­åŒ…ä¸this"><a href="#é—­åŒ…ä¸this" class="headerlink" title="é—­åŒ…ä¸this"></a>é—­åŒ…ä¸this</h3><p>åœ¨é—­åŒ…ä¸­ä½¿ç”¨thiså¯¹è±¡ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼›å› ä¸ºåŒ¿åå‡½æ•°çš„æ‰§è¡Œå…·æœ‰å…¨å±€æ€§ï¼Œè€Œthiså¯¹è±¡é€šå¸¸æŒ‡å‘windowå¯¹è±¡ï¼›<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"The window"</span>;</div><div class="line"><span class="keyword">var</span> object = &#123;</div><div class="line">  <span class="attr">name</span>:<span class="string">"My object"</span>,</div><div class="line">  <span class="attr">getNameFun</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   <span class="keyword">return</span> <span class="keyword">this</span>.name;</div><div class="line">  &#125;;</div><div class="line"> &#125;</div><div class="line">&#125;;</div><div class="line"><span class="built_in">console</span>.log(object.getNameFun()); <span class="comment">//"The window"ï¼ˆåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰</span></div></pre></td></tr></table></figure></p>
<p>ä½†æ˜¯ï¼Œå°†å…¶é˜¿å¸ƒä½œç”¨åŸŸä¸­çš„thiså¯¹è±¡ä¿å­˜åœ¨ä¸€ä¸ªé—­åŒ…èƒ½å¤Ÿè®¿é—®çš„å˜é‡é‡Œï¼Œå°±å¯ä»¥è®©é—­åŒ…è®¿é—®è¯¥å¯¹è±¡å•¦ï¼›<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">getNameFun:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> that=<span class="keyword">this</span>;</div><div class="line">   <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">return</span> that.name;</div><div class="line">  &#125;;</div></pre></td></tr></table></figure></p>
<h3 id="ä½¿ç”¨é—­åŒ…æ³¨æ„ç‚¹"><a href="#ä½¿ç”¨é—­åŒ…æ³¨æ„ç‚¹" class="headerlink" title="ä½¿ç”¨é—­åŒ…æ³¨æ„ç‚¹"></a>ä½¿ç”¨é—­åŒ…æ³¨æ„ç‚¹</h3><p>1ï¼‰ç”±äºé—­åŒ…ä¼šä½¿å¾—å‡½æ•°ä¸­çš„å˜é‡éƒ½è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå†…å­˜æ¶ˆè€—å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸èƒ½æ»¥ç”¨é—­åŒ…ï¼Œå¦åˆ™ä¼šé€ æˆç½‘é¡µçš„æ€§èƒ½é—®é¢˜ï¼Œåœ¨IEä¸­å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨é€€å‡ºå‡½æ•°ä¹‹å‰ï¼Œå°†ä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚<br>2ï¼‰é—­åŒ…ä¼šåœ¨çˆ¶å‡½æ•°å¤–éƒ¨ï¼Œæ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æŠŠçˆ¶å‡½æ•°å½“ä½œå¯¹è±¡ï¼ˆobjectï¼‰ä½¿ç”¨ï¼ŒæŠŠé—­åŒ…å½“ä½œå®ƒçš„å…¬ç”¨æ–¹æ³•ï¼ˆPublic Methodï¼‰ï¼ŒæŠŠå†…éƒ¨å˜é‡å½“ä½œå®ƒçš„ç§æœ‰å±æ€§ï¼ˆprivate valueï¼‰ï¼Œè¿™æ—¶ä¸€å®šè¦å°å¿ƒï¼Œä¸è¦éšä¾¿æ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;js-å®šä¹‰ç±»æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ&quot;&gt;&lt;a href=&quot;#js-å®šä¹‰ç±»æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;js å®šä¹‰ç±»æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ&quot;&gt;&lt;/a&gt;js å®šä¹‰ç±»æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ&lt;/h2&gt;&lt;h3 id=&quot;1-å·¥å‚æ–¹å¼&quot;&gt;&lt;a href=&quot;#1-å·¥å‚æ–¹å¼&quot; class=&quot;headerlink&quot; title=&quot;1.å·¥å‚æ–¹å¼&quot;&gt;&lt;/a&gt;1.å·¥å‚æ–¹å¼&lt;/h3&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Car&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ocar=&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Obejct;  &lt;span class=&quot;comment&quot;&gt;//ä¸ç”¨æ‹¬å·&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ocar.color=&lt;span class=&quot;string&quot;&gt;&#39;blue&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ocar.doors=&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ocar.showColor=&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.color;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; ocar;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; car1=Car();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; car2=Car();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(car1);  &lt;span class=&quot;comment&quot;&gt;//&amp;#123;color: &quot;blue&quot;, doors: 4, snowColor: Æ’&amp;#125;  fæŒ‡çš„æ˜¯function()&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(car2);  &lt;span class=&quot;comment&quot;&gt;//&amp;#123;color: &quot;blue&quot;, doors: 4, snowColor: Æ’&amp;#125;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="å‰ç«¯é¢è¯•é¢˜æ•´ç†" scheme="http://www.sulishibaobei.com/categories/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/"/>
    
    
      <category term="javascript" scheme="http://www.sulishibaobei.com/tags/javascript/"/>
    
      <category term="é¢è¯•" scheme="http://www.sulishibaobei.com/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>ç®€è¿°alertå’Œconsole.logçš„åŒºåˆ«</title>
    <link href="http://www.sulishibaobei.com/js/console20170905/"/>
    <id>http://www.sulishibaobei.com/js/console20170905/</id>
    <published>2017-09-05T03:08:53.000Z</published>
    <updated>2017-09-08T00:53:34.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç”Ÿæ´»ä¸­è¿˜æ˜¯å¾—æœ‰å‘ç°ç¾å¥½å’Œå·®åˆ«çš„çœ¼ç›, å­¦ä¹ å‰ç«¯é‚£ä¹ˆä¹…æ—¢ç„¶è¿˜ä¸çŸ¥é“alertå’Œconsole.logçš„å·®åˆ«;</strong><br>æœ¬èœé¸Ÿä¸€ç›´ä»¥ä¸ºalertå’Œconsole.logå…¶å®æ˜¯ä¸€æ ·çš„ç”¨æ³•ï¼Œåªæ˜¯alertä»¥å¼¹å‡ºæ¡†å½¢å¼å‘ˆç°ï¼Œè€Œconsole.logåœ¨æ§åˆ¶å°è¾“å‡ºè€Œå·²ã€‚åªåˆ°é“æ˜¨å¤©è¾“å‡ºä¸€æ®µä»£ç ï¼Œç»“æœå‘ç°alertå’Œconsole.logè¾“å‡ºç»“æœä¸ä¸€æ ·,æœ¬å®å®å¯ç®—æ¶¨è§è¯†äº†, ç„¶åå°±æ˜¯å„ç§æŸ¥é˜…èµ„æ–™ï¼Œç™¾åº¦æŸ¥çœ‹ï¼Œç»ˆäºå‘ç°ç‚¹çœ‰ç›®å•¦ ;</p>
<a id="more"></a>
<p><strong>æˆ‘å†™äº†è¿™æ ·ä¸€æ®µä»£ç ï¼š</strong><br><img src="/images/console-3.png" alt="cmd-markdown-logo"><br>alertè¾“å‡ºçš„ç»“æœä¸ºï¼š<br><img src="/images/console-1.png" alt="cmd-markdown-logo"><br>console.logè¾“å‡ºçš„ç»“æœä¸ºï¼š<br><img src="/images/console-2.png" alt="cmd-markdown-logo"></p>
<p><strong>ç„¶åæˆ‘å°±å°´å°¬äº†</strong></p>
<p>[1]åŸæ¥console.log() å¯ä»¥æ‰“å°ä»»ä½•ç±»å‹çš„æ•°æ®ã€‚è€Œ alert() åªèƒ½è¾“å‡ºstringï¼Œ<br>[2]å¦‚æœalertè¾“å‡ºæ˜¯å¯¹è±¡ä¼šè‡ªåŠ¨è°ƒç”¨ toString() æ–¹æ³•ã€‚å¦‚æœæƒ³ console.log() è¾“å‡ºçš„ä¸alertç›¸åŒï¼Œéœ€è¦è°ƒç”¨ toString()ã€‚<br>[3]æ‰€ä»¥å°†åé¢çš„æ”¹å†™æˆ&nbsp;console.log(hmac.toString()) å°±å¯ä»¥å•¦</p>
<p><strong>ä¸‹é¢å†æ¥æ€»ç»“ä¸‹ä¸¤è€…çš„å·®åˆ«</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">alert()</div><div class="line">   <span class="number">1.1</span> æœ‰é˜»å¡ä½œç”¨ï¼Œä¸ç‚¹å‡»ç¡®å®šï¼Œåç»­ä»£ç æ— æ³•ç»§ç»­æ‰§è¡Œ</div><div class="line">   <span class="number">1.2</span> alert()åªèƒ½è¾“å‡ºstring,å¦‚æœalertè¾“å‡ºçš„æ˜¯å¯¹è±¡ä¼šè‡ªåŠ¨è°ƒç”¨toString()æ–¹æ³• </div><div class="line">      e.g. alert([a,b,c]); <span class="comment">//a,b,c  </span></div><div class="line">   <span class="number">1.3</span> alertä¸æ”¯æŒå¤šä¸ªå‚æ•°çš„å†™æ³•,åªèƒ½è¾“å‡ºç¬¬ä¸€ä¸ªå€¼</div><div class="line">      e.g. alert(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>); <span class="comment">// 1</span></div><div class="line"><span class="built_in">console</span>.log()</div><div class="line">   <span class="number">2.1</span> åœ¨æ‰“å°å°è¾“å‡º</div><div class="line">   <span class="number">2.2</span> å¯ä»¥æ‰“å°ä»»ä½•ç±»å‹çš„æ•°æ®</div><div class="line">        e.g. console.log([a,b,c]); <span class="comment">//[a,b,c]</span></div><div class="line">   <span class="number">2.3</span> æ”¯æŒå¤šä¸ªå‚æ•°çš„å†™æ³•</div><div class="line">        e.g. console.log(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>) <span class="comment">// 1 2 3</span></div></pre></td></tr></table></figure></p>
<p>å¥½å•¦~~~å°±æ˜¯è¿™æ ·å•¦ã€‚ </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç”Ÿæ´»ä¸­è¿˜æ˜¯å¾—æœ‰å‘ç°ç¾å¥½å’Œå·®åˆ«çš„çœ¼ç›, å­¦ä¹ å‰ç«¯é‚£ä¹ˆä¹…æ—¢ç„¶è¿˜ä¸çŸ¥é“alertå’Œconsole.logçš„å·®åˆ«;&lt;/strong&gt;&lt;br&gt;æœ¬èœé¸Ÿä¸€ç›´ä»¥ä¸ºalertå’Œconsole.logå…¶å®æ˜¯ä¸€æ ·çš„ç”¨æ³•ï¼Œåªæ˜¯alertä»¥å¼¹å‡ºæ¡†å½¢å¼å‘ˆç°ï¼Œè€Œconsole.logåœ¨æ§åˆ¶å°è¾“å‡ºè€Œå·²ã€‚åªåˆ°é“æ˜¨å¤©è¾“å‡ºä¸€æ®µä»£ç ï¼Œç»“æœå‘ç°alertå’Œconsole.logè¾“å‡ºç»“æœä¸ä¸€æ ·,æœ¬å®å®å¯ç®—æ¶¨è§è¯†äº†, ç„¶åå°±æ˜¯å„ç§æŸ¥é˜…èµ„æ–™ï¼Œç™¾åº¦æŸ¥çœ‹ï¼Œç»ˆäºå‘ç°ç‚¹çœ‰ç›®å•¦ ;&lt;/p&gt;
    
    </summary>
    
      <category term="å‰ç«¯é‚£äº›å¾®å°äº‹" scheme="http://www.sulishibaobei.com/categories/%E5%89%8D%E7%AB%AF%E9%82%A3%E4%BA%9B%E5%BE%AE%E5%B0%8F%E4%BA%8B/"/>
    
    
      <category term="console.log" scheme="http://www.sulishibaobei.com/tags/console-log/"/>
    
      <category term="alert" scheme="http://www.sulishibaobei.com/tags/alert/"/>
    
      <category term="javascript" scheme="http://www.sulishibaobei.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Angular 2+ è®¾ç½®ç»„ä»¶æ ·å¼çš„é‚£äº›äº‹</title>
    <link href="http://www.sulishibaobei.com/angular/style/component-style20170902/"/>
    <id>http://www.sulishibaobei.com/angular/style/component-style20170902/</id>
    <published>2017-09-02T03:05:53.000Z</published>
    <updated>2017-09-12T00:53:35.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/fengjing-4.jpg" alt="fengjing"></p>
<div class="image-caption">ä½ ç”¨Angularå—ï¼Ÿ</div>

<h2 id="ä»‹ç»-å¦‚ä½•åªæ”¹åŠ¨æœ€ç®€å•çš„cssä»£ç ï¼Œå‘ˆç°å®Œå…¨ä¸ä¸€æ ·çš„è§†å›¾æ•ˆæœã€‚"><a href="#ä»‹ç»-å¦‚ä½•åªæ”¹åŠ¨æœ€ç®€å•çš„cssä»£ç ï¼Œå‘ˆç°å®Œå…¨ä¸ä¸€æ ·çš„è§†å›¾æ•ˆæœã€‚" class="headerlink" title="ä»‹ç» :å¦‚ä½•åªæ”¹åŠ¨æœ€ç®€å•çš„cssä»£ç ï¼Œå‘ˆç°å®Œå…¨ä¸ä¸€æ ·çš„è§†å›¾æ•ˆæœã€‚"></a>ä»‹ç» :å¦‚ä½•åªæ”¹åŠ¨æœ€ç®€å•çš„cssä»£ç ï¼Œå‘ˆç°å®Œå…¨ä¸ä¸€æ ·çš„è§†å›¾æ•ˆæœã€‚</h2><h3 id="ç¬¬ä¸€ç§ï¼šæœ€åŸºæœ¬çš„è®¾ç½®ï¼š"><a href="#ç¬¬ä¸€ç§ï¼šæœ€åŸºæœ¬çš„è®¾ç½®ï¼š" class="headerlink" title="ç¬¬ä¸€ç§ï¼šæœ€åŸºæœ¬çš„è®¾ç½®ï¼š"></a>ç¬¬ä¸€ç§ï¼šæœ€åŸºæœ¬çš„è®¾ç½®ï¼š</h3><a id="more"></a>
<p><img src="http://upload-images.jianshu.io/upload_images/4116930-982f4ad0d5fd7408.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"> </p>
<div class="image-caption">å›¾1 ä»£ç </div><br><img src="http://upload-images.jianshu.io/upload_images/4116930-66db768ea2abfff5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><br><div class="image-caption">å›¾2 ç•Œé¢è¿è¡Œæ•ˆæœå›¾</div><br>å¹³å¸¸ï¼Œæƒ³ç»™ä¸€ä¸ªlabelæˆ–è€…pç­‰æ ‡ç­¾æ·»åŠ æ ·å¼ï¼Œæˆ‘ä»¬å°±æ˜¯è¿™æ ·æ“ä½œï¼Œåœ¨Angularä¸­ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚ç°åœ¨ï¼Œå¦‚æœæˆ‘æƒ³è¦å°†å­—ä½“æ¢æˆçº¢è‰²å‘¢ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯å»ä¿®æ”¹.labelé‡Œçš„colorå±æ€§å€¼ï¼Œå¯å¦‚æœæ ·å¼è¡¨æ˜¯å°è£…çš„æˆ–è€…å¤–éƒ¨å¼•ç”¨çš„ï¼Œä¸æ–¹ä¾¿ä¿®æ”¹å‘¢ï¼Ÿ<br>è¿™æ—¶å€™å°±è¦ç”¨åˆ°ElementRef å’ŒRenderer2äº†ã€‚å¯ä»¥å»Angular å®˜ç½‘é‡Œæœç´¢å“Ÿã€‚<br><img src="http://upload-images.jianshu.io/upload_images/4116930-84cb5a9a2291484d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><br><div class="image-caption">&nbsp; renderer.class å›¾</div><br>###  ç¬¬äºŒç§:æˆ‘ä»¬å¯ä»¥è¿™æ ·ç”¨<br><img src="http://upload-images.jianshu.io/upload_images/4116930-a174137d1ddabdf5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><br><div class="image-caption">&nbsp; label.html</div><br><img src="http://upload-images.jianshu.io/upload_images/4116930-047f9e0a9248b70d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><br><div class="image-caption">&nbsp; label.ts</div><br>å½“ç„¶ElementRefå’Œrenderer2éƒ½å¼•ç”¨è‡ª@angular/coreåº“é‡Œé¢çš„ã€‚ è‡³äºViewChild å’ŒngAfterViewInit()å¯ä»¥è‡ªè¡Œå»äº†è§£ã€‚<br><img src="http://upload-images.jianshu.io/upload_images/4116930-062a49888ff8ea87.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><br><div class="image-caption">&nbsp;&nbsp;&nbsp; ä¿®æ”¹æ•ˆæœå›¾</div>

<p>å½“ç„¶ï¼Œä½ è¯´è¿™æ ·ä¿®æ”¹çš„å¼Šç«¯æœ‰æ²¡æœ‰å‘¢ï¼Ÿè‚¯å®šæ˜¯æœ‰çš„ï¼Œå› ä¸ºï¼Œthis.el.nativeElementè·å–çš„æ˜¯å½“å‰å…ƒç´ ï¼Œå¦‚æœç”¨*ngForç”Ÿæˆäº†ä¸€ç³»åˆ—çš„labelçš„è¯ï¼Œå®ƒåªä¼šç»™ä½ ä¿®æ”¹ç¬¬ä¸€ä¸ªlabelçš„ã€‚é‚£æœ‰æ²¡æœ‰å…¶ä»–çš„åŠæ³•å¯ä»¥ä¿®æ”¹å‘¢ã€‚å½“ç„¶ä¹Ÿæ˜¯æœ‰çš„ï¼</p>
<h3 id="ç¬¬ä¸‰ç§ï¼šæˆ‘ä»¬å¯ä»¥è·å–åˆ°å…ƒç´ çš„èŠ‚ç‚¹è¿›è¡Œæ“ä½œ"><a href="#ç¬¬ä¸‰ç§ï¼šæˆ‘ä»¬å¯ä»¥è·å–åˆ°å…ƒç´ çš„èŠ‚ç‚¹è¿›è¡Œæ“ä½œ" class="headerlink" title="ç¬¬ä¸‰ç§ï¼šæˆ‘ä»¬å¯ä»¥è·å–åˆ°å…ƒç´ çš„èŠ‚ç‚¹è¿›è¡Œæ“ä½œ?"></a>ç¬¬ä¸‰ç§ï¼šæˆ‘ä»¬å¯ä»¥è·å–åˆ°å…ƒç´ çš„èŠ‚ç‚¹è¿›è¡Œæ“ä½œ?</h3><p><img src="http://upload-images.jianshu.io/upload_images/4116930-12c5b5c2c91e5027.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<div class="image-caption">&nbsp; label.ts</div>

<p>è·å–å…ƒç´ èŠ‚ç‚¹ï¼Œè¿˜æ˜¯ç”¨ä¸Šé¢çš„elementrefã€‚ å¦‚æœè¦æ”¹å˜æ‰€æœ‰çš„ï¼ŒForå¾ªç¯çš†å¯ä»¥å•¦ã€‚å¯æ˜¯ï¼Œè¿™æ ·åšåˆæœ‰é—®é¢˜äº†ï¼Ÿå¦‚æœæƒ³ä¸åŒçš„labelä¸åŒå­—ä½“é¢œè‰²æ€ä¹ˆåŠå‘¢ï¼Ÿ<br><strong>å½“ç„¶Angularä¹Ÿæä¾›äº†æ–¹æ³•å‘€ï¼Ÿ ngStyleå’ŒngClasså¯ä»¥ç”¨å‘€ï¼</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/4116930-9812d0ae51e1617b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<p><div class="image-caption">&nbsp;ngStyle</div></p>
<p>[ngStyle]=â€{color:â€™&nbsp; â€˜}â€&nbsp; å’Œ[style.color]æ˜¯ä¸€æ ·çš„æ„æ€ã€‚<br>ä½ çš„labelæƒ³å˜æˆä»€ä¹ˆé¢œè‰²ï¼Œä½ å°±ç»™æˆ‘ä¼ é‚£ä¸ªå€¼è¿›æ¥ï¼Œ0å°±æ˜¯greenâ€¦â€¦<br>è¿™ç§é€‚ç”¨äºåªéœ€è¦ä¿®æ”¹å°‘é‡å±æ€§çš„æ ‡ç­¾ã€‚<br>å¦‚æœä½ éœ€è¦ä¿®æ”¹é¢œè‰²ï¼Œå­—ä½“å¤§å°ï¼Œé—´è·â€¦.è¿™ç§æ–¹å¼æ˜¾ç„¶å¤ªç¹çï¼Œè¿™æ—¶å€™ngclasså°±æ¥äº†ã€‚</p><br><img src="http://upload-images.jianshu.io/upload_images/4116930-9e8fc68d79cdd836.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><br><div class="image-caption">&nbsp;ngclass</div><br><p>æ³¨æ„ngClassåé¢çš„å­—æ ·ã€‚labelä¸ºä»€ä¹ˆæ²¡æœ‰ç”¨å•å¼•å·å‘¢ï¼Œè€Œåé¢çš„text-primaryå´æœ‰å‘¢ï¼Ÿ<br>.labelæ˜¯ä¸€ä¸ªå˜é‡ï¼Œæˆ‘ä»¬çš„æ ·å¼æ˜¯å¯ä»¥ä¼ å‚çš„ã€‚</p><br><img src="http://upload-images.jianshu.io/upload_images/4116930-09c7142d6bee0a3d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><br><p>ä¹Ÿå°±æ˜¯ä½ çš„htmlæ ‡ç­¾ä¸éœ€è¦æ”¹åŠ¨ï¼Œéœ€è¦ä»€ä¹ˆæ ·å¼å°±åœ¨tsç¦»ä¼ å…¥å³å¯ã€‚ngClassä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§å»ä¿®æ”¹ã€‚<br>å…¶å®è¿™å‡ ç§ç”¨çš„åœ°æ–¹ä¹ŸæŒºå¤šçš„ï¼Œä¸è¿‡å¾—æ ¹æ®å®é™…éœ€æ±‚å»é‡‡ç”¨ä¸åŒå½¢å¼ã€‚<br>æ¬¢è¿æ¥æ‰¾æˆ‘äº¤æµAngular æˆ–å‰ç«¯æŠ€æœ¯å“Ÿã€‚</p>




]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/fengjing-4.jpg&quot; alt=&quot;fengjing&quot;&gt;&lt;/p&gt;
&lt;div class=&quot;image-caption&quot;&gt;ä½ ç”¨Angularå—ï¼Ÿ&lt;/div&gt;

&lt;h2 id=&quot;ä»‹ç»-å¦‚ä½•åªæ”¹åŠ¨æœ€ç®€å•çš„cssä»£ç ï¼Œå‘ˆç°å®Œå…¨ä¸ä¸€æ ·çš„è§†å›¾æ•ˆæœã€‚&quot;&gt;&lt;a href=&quot;#ä»‹ç»-å¦‚ä½•åªæ”¹åŠ¨æœ€ç®€å•çš„cssä»£ç ï¼Œå‘ˆç°å®Œå…¨ä¸ä¸€æ ·çš„è§†å›¾æ•ˆæœã€‚&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç» :å¦‚ä½•åªæ”¹åŠ¨æœ€ç®€å•çš„cssä»£ç ï¼Œå‘ˆç°å®Œå…¨ä¸ä¸€æ ·çš„è§†å›¾æ•ˆæœã€‚&quot;&gt;&lt;/a&gt;ä»‹ç» :å¦‚ä½•åªæ”¹åŠ¨æœ€ç®€å•çš„cssä»£ç ï¼Œå‘ˆç°å®Œå…¨ä¸ä¸€æ ·çš„è§†å›¾æ•ˆæœã€‚&lt;/h2&gt;&lt;h3 id=&quot;ç¬¬ä¸€ç§ï¼šæœ€åŸºæœ¬çš„è®¾ç½®ï¼š&quot;&gt;&lt;a href=&quot;#ç¬¬ä¸€ç§ï¼šæœ€åŸºæœ¬çš„è®¾ç½®ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬ä¸€ç§ï¼šæœ€åŸºæœ¬çš„è®¾ç½®ï¼š&quot;&gt;&lt;/a&gt;ç¬¬ä¸€ç§ï¼šæœ€åŸºæœ¬çš„è®¾ç½®ï¼š&lt;/h3&gt;
    
    </summary>
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/categories/Angular-2/"/>
    
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/tags/Angular-2/"/>
    
      <category term="ngStyle" scheme="http://www.sulishibaobei.com/tags/ngStyle/"/>
    
      <category term="ngClass" scheme="http://www.sulishibaobei.com/tags/ngClass/"/>
    
  </entry>
  
  <entry>
    <title>Angular 2+ è·¯ç”±çš„é‚£äº›äº‹</title>
    <link href="http://www.sulishibaobei.com/angular/route/title20170901/"/>
    <id>http://www.sulishibaobei.com/angular/route/title20170901/</id>
    <published>2017-09-01T03:08:53.000Z</published>
    <updated>2017-09-08T00:56:58.000Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è·¯ç”±çš„ä½œç”¨å°±æ˜¯ï¼ˆå¯¼èˆªï¼‰ï¼šä¼šåŠ è½½ä¸è¯·æ±‚è·¯ç”±ç›¸å…³è”çš„ç»„ä»¶ï¼Œå¹¶è·å–ç‰¹å®šè·¯ç”±çš„ç›¸å…³æ•°æ®ï¼Œè¿™å…è®¸æˆ‘ä»¬é€šè¿‡æ§åˆ¶ä¸åŒçš„è·¯ç”±ï¼Œè·å–ä¸åŒçš„æ•°æ®ï¼Œä»è€Œæ¸²æŸ“ä¸åŒçš„é¡µé¢ï¼›</p>
<h2 id="å‡ ç§å¸¸è§çš„è·¯ç”±é…ç½®ï¼š"><a href="#å‡ ç§å¸¸è§çš„è·¯ç”±é…ç½®ï¼š" class="headerlink" title="å‡ ç§å¸¸è§çš„è·¯ç”±é…ç½®ï¼š"></a>å‡ ç§å¸¸è§çš„è·¯ç”±é…ç½®ï¼š</h2><p>Angularè·¯ç”±å™¨æ˜¯ä¸€ä¸ªå¯é€‰çš„å¤–éƒ¨Angular NgModule ï¼Œå«RouterModule;<br>è·¯ç”±å™¨é‡Œé¢åŒ…å«å¤šç§æœåŠ¡(RouterModule)ï¼Œå¤šç§æŒ‡ä»¤ï¼ˆRouterOutletï¼ŒRouterLink,RouterLinkActiveï¼‰ï¼Œå’Œä¸€å¥—é…ç½®ï¼ˆRoutesï¼‰;</p>
<a id="more"></a>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">import &#123; RouterModule&#125; from '@angular/router';</div><div class="line"> RouterModule.forRoot([</div><div class="line">       &#123;</div><div class="line">         path: 'test',</div><div class="line">         component: TestComponent</div><div class="line">       &#125;</div><div class="line"> ]) </div><div class="line">&lt;a routerLink="test"&gt;Test&lt;/a&gt; </div><div class="line">&lt;router-outlet&gt;&lt;/router-outlet&gt;</div></pre></td></tr></table></figure>
<h3 id="è¯¦ç»†è§£æï¼š"><a href="#è¯¦ç»†è§£æï¼š" class="headerlink" title="è¯¦ç»†è§£æï¼š"></a>è¯¦ç»†è§£æï¼š</h3><h4 id="è·¯ç”±å®šä¹‰åŒ…æ‹¬ä¸‹é¢éƒ¨åˆ†ï¼š"><a href="#è·¯ç”±å®šä¹‰åŒ…æ‹¬ä¸‹é¢éƒ¨åˆ†ï¼š" class="headerlink" title="è·¯ç”±å®šä¹‰åŒ…æ‹¬ä¸‹é¢éƒ¨åˆ†ï¼š"></a>è·¯ç”±å®šä¹‰åŒ…æ‹¬ä¸‹é¢éƒ¨åˆ†ï¼š</h4><ul>
<li>[1]  Path:è·¯ç”±å™¨ä¼šç”¨å®ƒæ¥åŒ¹é…æµè§ˆå™¨åœ°å€æ ä¸­çš„åœ°å€ï¼Œå¦‚â€™testâ€™; </li>
<li>[2]  Component:å¯¼èˆªåˆ°æ­¤è·¯ç”±æ—¶ï¼Œéœ€è¦åŠ è½½çš„ç»„ä»¶ï¼›<br><strong><font color="#0099ff">æ³¨æ„ï¼Œpathä¸èƒ½ä»¥æ–œæ ï¼ˆ/ï¼‰å¼€å¤´ã€‚ è·¯ç”±å™¨ä¼šä¸ºè§£æå’Œæ„å»ºæœ€ç»ˆçš„URLï¼Œè¿™æ ·å½“æˆ‘ä»¬åœ¨åº”ç”¨çš„å¤šä¸ªè§†å›¾ä¹‹é—´å¯¼èˆªæ—¶ï¼Œå¯ä»¥ä»»æ„ä½¿ç”¨ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„ã€‚</font></strong></li>
</ul>
<p>å¦å¤–ï¼š</p>
<ol>
<li>è¿™é‡Œç”¨åˆ°äº†RouterModuleå¯¹è±¡ä¸ºæˆ‘ä»¬æä¾›çš„ä¸¤ä¸ªé™æ€æ–¹æ³•ï¼šforRoot()å’ŒforChild() æ¥é…ç½®è·¯ç”±ä¿¡æ¯ï¼›</li>
<li>forRoot()æ–¹æ³•æä¾›äº†è·¯ç”±éœ€è¦çš„è·¯ç”±æœåŠ¡æä¾›å•†å’ŒæŒ‡ä»¤ï¼Œå¹¶åŸºäºå½“å‰æµè§ˆå™¨ URL åˆå§‹åŒ–å¯¼èˆªï¼›ç”¨äºåœ¨æ¨¡å—ä¸­å®šä¹‰ä¸»è¦çš„è·¯ç”±ä¿¡æ¯ï¼Œé€šè¿‡è°ƒç”¨è¯¥æ–¹æ³•ä½¿å¾—æˆ‘ä»¬çš„ä¸»æ¨¡å—å¯ä»¥è®¿é—®è·¯ç”±æ¨¡å—ä¸­å®šä¹‰çš„æ‰€æœ‰æŒ‡ä»¤ï¼›</li>
<li>aæ ‡ç­¾ä¸­çš„routerLink æŒ‡ä»¤ç»‘å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²æ˜¯pathè·¯å¾„ä¸­é…ç½®çš„å­—ç¬¦ä¸²ï¼Œå®ƒå°†å‘Šè¯‰è·¯ç”±å™¨ï¼Œå½“ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªé“¾æ¥æ—¶ï¼Œåº”è¯¥å¯¼èˆªåˆ°å“ªé‡Œï¼›</li>
<li>å½“ç„¶routerLinkè¿˜å¯ä»¥ç»‘å®šä¸€ä¸ªæ•°ç»„ï¼Œå°±æ˜¯æˆ‘ä»¬çš„å¸¦å‚è·¯ç”±,ä¸‹é¢ä¼šå…·ä½“ä»‹ç»çš„ï¼š<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> [<span class="attr">routerLink</span>]=<span class="string">"['/test', id]"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿˜å¯ä»¥åœ¨ä¸Šé¢è¿™æ ·é…ç½®æ·»åŠ ä¸€ä¸ªrouterLinkActiveæŒ‡ä»¤, æˆ‘ä»¬éœ€è¦è®©ç”¨æˆ·çŸ¥é“å“ªä¸ªè·¯ç”±å¤„äºæ¿€æ´»çŠ¶æ€ï¼Œé€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬é€šè¿‡å‘æ¿€æ´»çš„é“¾æ¥æ·»åŠ ä¸€ä¸ª class æ¥å®ç°è¯¥åŠŸèƒ½,ç„¶åæˆ‘ä»¬å†™ä¸€ä¸ªactiveçš„ç±»:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">routerLink</span>=<span class="string">"test"</span> <span class="attr">routerLinkActive</span>=<span class="string">"active"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">   .active&#123;</div><div class="line">       colorï¼šred</div><div class="line">      &#125;</div></pre></td></tr></table></figure></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;å½“æ­¤è·¯ç”±è¢«ç‚¹å‡»æ—¶ï¼Œå­—ä½“ä¼šå˜æˆçº¢è‰²ï¼›è¿™ä¹Ÿæ˜¯routerLinkActiveçš„ä½œç”¨ï¼Œä½¿æˆ‘ä»¬çŸ¥é“å“ªä¸ªè·¯ç”±å¤„äºæ¿€æ´»çŠ¶æ€ï¼›å½“ç„¶è¿˜å¯ä»¥æ·»åŠ ä¸Šè¿™ä¸ª[routerLinkActiveOptions]=â€{exact: true}â€  åªæœ‰å½“è·¯ç”±å®Œå…¨ä¸€æ ·æ—¶ï¼Œæ‰ä¼šå°†activeç±»åŠ è½½ä¸Šå»ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">routerLink</span>=<span class="string">"dashboard"</span> <span class="attr">routerLinkActive</span>=<span class="string">"active"</span>  [<span class="attr">routerLinkActiveOptions</span>]=<span class="string">"&#123;exact: true&#125;"</span>&gt;</span>Dashboard<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;chromeæ§åˆ¶å°è¿™æ ·æ˜¾ç¤ºï¼š<br><img src="/images/router-1.png" alt="cmd-markdown-logo"><br>&nbsp;&nbsp;&nbsp;&nbsp;å¯è§routerLinkè¿˜æ˜¯ä¼šè‡ªåŠ¨å°†è·¯ç”±é“¾æ¥åˆ°hrefä¸Šçš„ï¼›class=â€activeâ€œä¹Ÿä½œç”¨ä¸Šå»å•¦ï¼›å½“åˆ‡æ¢è·¯ç”±æ—¶ï¼š<br><img src="/images/router-2.png" alt="cmd-markdown-logo"><br><code>class=â€activeâ€</code> ç§»åˆ°æˆ‘ç‚¹å‡»çš„è·¯ç”±ä¸Šï¼Œåªæ˜¯åº”è¯¥æ˜¯è°ƒç”¨äº†ï¼šngAfterContentInit(),ngOnChanges(),ngOnDestroy()</p>
<p>æ³¨æ„ï¼šç¬¬ä¸€ä¸ªè·¯å¾„ç‰‡æ®µå¯ä»¥ä»¥ / ï¼Œ./ æˆ– ../ å¼€å¤´ï¼š<br>  å¦‚æœä»¥ / å¼€å¤´ï¼Œè·¯ç”±å°†ä»æ ¹è·¯ç”±å¼€å§‹æŸ¥æ‰¾<br>  å¦‚æœä»¥ ./ å¼€å¤´æˆ–æ²¡æœ‰ä½¿ç”¨ / ï¼Œåˆ™è·¯ç”±å°†ä»å½“å‰æ¿€æ´»è·¯ç”±çš„å­è·¯ç”±å¼€å§‹æŸ¥æ‰¾<br>  å¦‚æœä»¥ ../ å¼€å¤´ï¼Œè·¯ç”±å¾€ä¸Šä¸€çº§æŸ¥æ‰¾<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> [<span class="attr">routerLink</span>]=<span class="string">"['../test', id]"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>å½“ç„¶è¿™é‡Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡åœ¨componenté‡Œæ§åˆ¶å†™:</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">import &#123;Router&#125; from '@angular/router';</div><div class="line">&lt;a (click)="go()"&gt;Heroes&lt;/a&gt;</div><div class="line">constructor(private router: Router) &#123;&#125;</div><div class="line">go() &#123;</div><div class="line">  this.router.navigate(['heroes']);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™ç§æ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„ï¼›è¿™é‡Œå°±éœ€è¦æ³¨å…¥routeræœåŠ¡ï¼šrouteræ–¹æ³•ç”¨äºåˆ‡æ¢è·¯ç”±å¾ˆæœ‰ç”¨ï¼Œä¸‹é¢ä¼šå…·ä½“æ¥ä»‹ç»routeræœåŠ¡çš„ï¼›<br>   è·¯ç”±å‡ºå£:RouterOutletæ˜¯ç”±RouterModuleæä¾›çš„æŒ‡ä»¤ä¹‹ä¸€ã€‚å½“æˆ‘ä»¬åœ¨åº”ç”¨ä¸­å¯¼èˆªæ—¶ï¼Œè·¯ç”±å™¨å°±æŠŠæ¿€æ´»çš„ç»„ä»¶æ˜¾ç¤ºåœ¨<code>&lt;/router-outlet&gt;</code> é‡Œé¢ã€‚ä¸å†™<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">router-outlet</span>&gt;</span><span class="tag">&lt;/<span class="name">router-outlet</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>ä¼šå¯¼è‡´ç»„ä»¶å†…å®¹ä¸åŠ è½½è¿›æ¥ï¼Œä»è€Œä¸æ˜¾ç¤ºå†…å®¹ï¼›<br>ä½†æ˜¯ä¸€ä¸ªç»„ä»¶å¯ä»¥å…±ç”¨ä¸€ä¸ªrouteroutletï¼Œæ‰€ä»¥app.component.tsé‡Œé¢é…ç½®å³å¯ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">router-outlet</span>&gt;</span><span class="tag">&lt;/<span class="name">router-outlet</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="ç¬¬äºŒç§å†™æ³•ï¼š"><a href="#ç¬¬äºŒç§å†™æ³•ï¼š" class="headerlink" title="ç¬¬äºŒç§å†™æ³•ï¼š"></a>ç¬¬äºŒç§å†™æ³•ï¼š</h2><p>è¯·çœ‹ä»£ç ï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">RouterModule.forRoot([...]) å°†[] åŠä¸­é—´çš„å†…å®¹å½“æˆé…ç½®æ–‡ä»¶æå–å‡ºå»ï¼›</div><div class="line">RouterModule.forRoot(routes),</div><div class="line">routesæ˜¯æˆ‘ä»¬éœ€è¦å¯¼å…¥çš„é…ç½®æ–‡ä»¶å‚æ•°åï¼š</div><div class="line"><span class="keyword">import</span> &#123; routes&#125; from <span class="string">'./app-routing.module'</span>;</div><div class="line">app-routing.module:ä¸­æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š</div><div class="line"><span class="keyword">import</span> &#123; DashboardComponent &#125; from <span class="string">'./dashboard/dashboard.component'</span>;</div><div class="line"><span class="keyword">import</span> &#123; HeroesComponent &#125; from <span class="string">'./hero/heroes.component'</span>;</div><div class="line"><span class="keyword">import</span> &#123; HeroDetailComponent &#125; from <span class="string">'./detail/hero-detail.component'</span>;</div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> routes = [</div><div class="line">  &#123; path: <span class="string">''</span>, redirectTo: <span class="string">'/dashboard'</span>, pathMatch: <span class="string">'full'</span> &#125;,</div><div class="line">  &#123; path: <span class="string">'dashboard'</span>,  component: DashboardComponent &#125;,</div><div class="line">  &#123; path: <span class="string">'detail/:id'</span>, component: HeroDetailComponent &#125;,</div><div class="line">  &#123; path: <span class="string">'heroes'</span>,     component: HeroesComponent &#125;,  &#123; path: <span class="string">'**'</span>, component:DashboardComponent&#125;];</div></pre></td></tr></table></figure></p>
<p><strong>æ³¨æ„ï¼š</strong><br> <strong>{ path: â€˜â€™, redirectTo: â€˜/dashboardâ€™, pathMatch: â€˜fullâ€™ }</strong><br>   è¡¨ç¤ºé‡å®šå‘è·¯ç”±ï¼šéœ€è¦ä¸€ä¸ªpathMatchå±æ€§ï¼Œå‘Šè¯‰è·¯ç”±å™¨æ˜¯å¦‚ä½•ç”¨URLå»åŒ¹é…è·¯ç”±çš„è·¯å¾„çš„ï¼Œæ²¡æœ‰è¿™ä¸ªå±æ€§å°±ä¼šæŠ¥é”™ï¼›æ„æ€å°±æ˜¯å½“è·¯ç”±URLç­‰äºâ€™â€™æ—¶ï¼Œä¼šå»åŠ è½½DashboardComponentç»„ä»¶ï¼›æ‰€ä»¥ä½ è¿è¡Œä½ çš„æœåŠ¡ç«¯å£å·ï¼šlocalhost:4200é¦–å…ˆåŠ è½½çš„å°±ä¼šæ˜¯è¿™ä¸ªç»„ä»¶ï¼›<br><em><font color="#000000">{ path: â€œ**â€, component:DashboardComponent}</font></em><br>   **è·¯å¾„æ˜¯ä¸€ä¸ªé€šé…ç¬¦ï¼Œè¡¨ç¤ºé™¤äº†ä»¥ä¸Šå‡ ç§path,ä»»ä½•çš„è·¯å¾„éƒ½ä¼šåŠ è½½DashboardComponentç»„ä»¶ï¼Œè¿™ä¸ªè®°å¾—å†™åœ¨è·¯ç”±é…ç½®æœ€å</p>
<h3 id="å½“ç„¶è¿™ç§æ–¹å¼æˆ‘ä»¬è¿˜èƒ½è¿™ä¹ˆå†™"><a href="#å½“ç„¶è¿™ç§æ–¹å¼æˆ‘ä»¬è¿˜èƒ½è¿™ä¹ˆå†™" class="headerlink" title="å½“ç„¶è¿™ç§æ–¹å¼æˆ‘ä»¬è¿˜èƒ½è¿™ä¹ˆå†™:"></a>å½“ç„¶è¿™ç§æ–¹å¼æˆ‘ä»¬è¿˜èƒ½è¿™ä¹ˆå†™:</h3><ol>
<li><p>æ— declarationsï¼å£°æ˜æ˜¯å…³è”æ¨¡å—çš„é‡ç‚¹ã€‚æˆ‘ä»¬å°†AppRoutingModuleæŠ›å‡ºå»ï¼Œå½“åšä¸€ä¸ªè·¯ç”±æ¨¡å—ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; NgModule &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123; Routes,RouterModule&#125; <span class="keyword">from</span> <span class="string">'@angular/router'</span>;</div><div class="line"><span class="keyword">import</span> &#123; DashboardComponent &#125; <span class="keyword">from</span> <span class="string">'./dashboard/dashboard.component'</span>;</div><div class="line"><span class="keyword">import</span> &#123; HeroesComponent &#125; <span class="keyword">from</span> <span class="string">'./hero/heroes.component'</span>;</div><div class="line"><span class="keyword">const</span> routes = [</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">''</span>, <span class="attr">redirectTo</span>: <span class="string">'/dashboard'</span>, <span class="attr">pathMatch</span>: <span class="string">'full'</span> &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'dashboard'</span>,  <span class="attr">component</span>: DashboardComponent &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'heroes'</span>,     <span class="attr">component</span>: HeroesComponent &#125;</div><div class="line">];</div><div class="line">@NgModule(&#123;</div><div class="line">  <span class="attr">imports</span>: [ RouterModule.forChild(routes) ],</div><div class="line">  <span class="attr">exports</span>: [ RouterModule ]</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">AppRoutingModule</span> </span>&#123;&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>app.module.tsä¸­å¼•å…¥ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; AppRoutingModule&#125; from <span class="string">'./app-routing.module'</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>imports:ä¸­å¯¼å…¥è¿™ä¸ªå°±å¯ä»¥å•¦<strong>AppRoutingModule</strong><br>è¿™ç§ç”¨æ³•å’Œä¸Šé¢è¿™ç§ç”¨æ³•æ˜¯ä¸€æ ·çš„è¿˜æœ‰ä¸€ç‚¹ï¼šå¦‚ä½•è§£å†³ç¬¬äºŒæ¬¡åˆ·æ–°å‡ºç°404é—®é¢˜ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[RouterModule.forRoot(routes,&#123;useHash:<span class="literal">true</span>&#125;)]</div></pre></td></tr></table></figure>
</li>
</ol>
<p>é…ç½®åé¢è¿™ä¸€ç‚¹ï¼Œé€šè¿‡æ·»åŠ ä¸€ä¸ª#ï¼Œé˜²æ­¢åˆ·æ–°ç¬¬äºŒæ¬¡å‡ºç°404ï¼›<em><a href="http://localhost:4201/#" target="_blank" rel="external">http://localhost:4201/#</a></em><br>RouterModule.forChild(routes)å†™åœ¨å­æ¨¡å—é‡Œé¢ï¼Œè€Œä¸”è¿™è¾¹ç”¨çš„æ˜¯forChild(),ä¸æ˜¯forRootï¼ˆï¼‰,ä½¿ç”¨forRoot()ä¹Ÿæ˜¯ä¸ä¼šé”™çš„ï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹<br><code><font color="red">æ ¹æ¨¡å—ä¸­ä½¿ç”¨forRoot()ï¼Œå­æ¨¡å—ä¸­ä½¿ç”¨forChild()</font></code><br>   forChild()åªèƒ½ç”¨åœ¨ç‰¹æ€§æ¨¡å—ä¸­ï¼Œè¿™æ ·çš„ä¸€ç‚¹å¥½å¤„å°±æ˜¯æˆ‘ä»¬ä¸å¿…åœ¨ä¸»æ¨¡å—å°±é…ç½®å¥½æ‰€æœ‰çš„è·¯ç”±ä¿¡æ¯ï¼Œåœ¨éœ€è¦çš„æ—¶å€™å°†ä»–ä»¬å¯¼å…¥ä¸»æ¨¡å—ï¼›</p>
<h3 id="å‚æ•°åŒ–è·¯ç”±"><a href="#å‚æ•°åŒ–è·¯ç”±" class="headerlink" title="å‚æ•°åŒ–è·¯ç”±"></a>å‚æ•°åŒ–è·¯ç”±</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123; path: <span class="string">'detail/:id'</span>, component: HeroDetailComponent &#125;,</div></pre></td></tr></table></figure>
<p>é…ç½®å‚æ•°åŒ–è·¯ç”±æ ¼å¼ï¼š :id æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œå½“å¯¼èˆªåˆ°HeroDetailCompnentç»„ä»¶ä¸Šæ—¶ï¼Œä¼šè¢«å¡«å…¥ä¸€ä¸ªç‰¹å®šçš„idï¼›<br><strong>è¿™é‡Œæˆ‘ä»¬æ˜¯è¿™æ ·ç»‘å®šçš„ï¼š</strong><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> *<span class="attr">ngFor</span>=<span class="string">"let hero of heroes"</span>  [<span class="attr">routerLink</span>]=<span class="string">"['/detail', hero.id]"</span>  <span class="attr">class</span>=<span class="string">"col-1-4"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><font color="red">eg: <a href="http://localhost:4201/detail/11" target="_blank" rel="external">http://localhost:4201/detail/11</a> è¿™æ—¶çš„idç­‰äº11ï¼›</font></p>
<ul>
<li>[1]ä¼ å‚ç±»å‹çš„idä½œç”¨å¯ä»¥æ ¹æ®ä¼ å…¥çš„idä¸åŒè®©HeroDetailComponentæ˜¾ç¤ºä¸åŒçš„å†…å®¹ï¼›</li>
<li>[2]ä½†æ˜¯æ€ä¹ˆèƒ½è®©å…¶æ˜¾ç¤ºä¸åŒçš„å†…å®¹å‘¢ï¼Ÿ ä¹Ÿå°±å’Œæˆ‘ä»¬è¿™ä¸ªidæœ‰å…³ç³»ï¼Œå¦‚ä½•è·å–è¿™ä¸ªid ç”¨åœ¨æˆ‘ä»¬çš„ç»„ä»¶é‡Œé¢å‘¢ï¼Ÿ</li>
<li>[3]é€šè¿‡æ³¨å…¥ActivatedRouteæœåŠ¡ï¼Œä¸€ç«™å¼è·å–è·¯ç”±ä¿¡æ¯ï¼›<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; ActivatedRoute&#125; from <span class="string">'@angular/router'</span>;</div><div class="line"> <span class="keyword">constructor</span>(<span class="params"></span></div><div class="line">    <span class="keyword">private</span> route: ActivatedRoute,</div><div class="line">     ) &#123;&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>æ¥ä¸‹æ¥æˆ‘ä»¬è¿™æ ·è¯•è¯•ï¼š</strong><br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> params;</div><div class="line"><span class="keyword">this</span>.route.params.subscribe(</div><div class="line">      params =&gt; &#123;</div><div class="line">         <span class="keyword">this</span>.params = params;</div><div class="line">         <span class="built_in">console</span>.log(<span class="keyword">this</span>.params);</div><div class="line">      &#125;</div><div class="line">    );</div></pre></td></tr></table></figure></p>
<p><em>è¿™æ ·è·å–æ¥çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼šç›´æ¥å–idå°±èƒ½è·å–åˆ°äº†ï¼›æ—¢ç„¶æ˜¯ä¸€ç«™å¼è·å–ï¼Œè‚¯å®šä¸æ­¢è¿™å‡ ä¸ªåŠŸèƒ½ åé¢ä¼šå…·ä½“ä»‹ç»å®ƒï¼š</em></p>
<h3 id="è·¯ç”±é…ç½®æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡å­è·¯ç”±æ¥é…ç½®childrenï¼š"><a href="#è·¯ç”±é…ç½®æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡å­è·¯ç”±æ¥é…ç½®childrenï¼š" class="headerlink" title="è·¯ç”±é…ç½®æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡å­è·¯ç”±æ¥é…ç½®childrenï¼š"></a>è·¯ç”±é…ç½®æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡å­è·¯ç”±æ¥é…ç½®childrenï¼š</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    path: <span class="string">'heroes'</span>,</div><div class="line">    component: HeroesComponent,</div><div class="line">    children: [</div><div class="line">      &#123; path: <span class="string">'heroTest'</span>, component: HeroTestComponent &#125;,</div><div class="line">    ]</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p>æ˜¯è¿™æ ·é…ç½®çš„ï¼›æ­¤æ—¶HeroTestComponentç»„ä»¶çš„è·¯ç”±å…¶å®æ˜¯:â€™heroes/heroTestâ€™;</p>
<h3 id="æ‡’åŠ è½½loadChildren"><a href="#æ‡’åŠ è½½loadChildren" class="headerlink" title="æ‡’åŠ è½½loadChildren:"></a>æ‡’åŠ è½½loadChildren:</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">     path:<span class="string">'loadtest'</span>,</div><div class="line">     loadChildren:<span class="string">'./loadtest/loadtest.module#LoadtestModule'</span></div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p><strong>è·¯ç”±æ˜¯è¿™æ ·é…ç½®çš„</strong>ï¼š</p>
<ul>
<li>[1]è¿™é‡Œæ³¨æ„å‡ ç‚¹ï¼š<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; LoadtestComponent &#125; from <span class="string">'./loadtest/loadtest.component'</span>;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>ç»„ä»¶ä¸éœ€è¦åœ¨app.module.tså¼•å…¥</p>
<ul>
<li><p>[2]loadtest.module.ts ä¹Ÿä¸éœ€è¦åœ¨app.module.tsä¸­å¼•å…¥ï¼›è€Œæ˜¯é€šè¿‡loadchildrenå±æ€§ï¼Œåœ¨éœ€è¦çš„æ—¶å€™å‘Šè¯‰Angularè·¯ç”±ä¾æ®loadchildren<br>å±æ€§é…ç½®çš„è·¯å¾„å»åŠ è½½LoadtestModuleæ¨¡å—ï¼Œè¿™å°±æ˜¯æ¨¡å—æ‡’åŠ è½½åŠŸèƒ½ï¼›å½“ç”¨æˆ·éœ€è¦çš„æ—¶å€™æ‰å›å»åŠ è½½ï¼Œå¤§å¤§å‡å°‘äº†åº”ç”¨å¯åŠ¨æ—¶çš„èµ„æºåŠ è½½å¤§å°ï¼›</p>
</li>
<li><p>[3] loadChildrenåé¢çš„å­—ç¬¦ä¸²ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š<br>(3.1) éœ€è¦å¯¼å…¥æ¨¡å—è·¯åŠ²çš„ç›¸å¯¹è·¯å¾„<br>(3.2) #åˆ†éš”ç¬¦<br>(3.3) å¯¼å‡ºæ¨¡å—ç±»çš„åç§°</p>
</li>
<li><p>[4]è¿˜æœ‰ä¸€ç‚¹ä¹Ÿæ˜¯ä¹Ÿæ˜¯é‡è¦çš„ï¼šloadtestModuleä»£ç æ˜¯è¿™æ ·çš„ï¼šé‡Œé¢è¦å¼•å…¥è‡ªå·±çš„è·¯ç”±ï¼›</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; NgModule &#125; from <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123;CommonModule&#125; from <span class="string">'@angular/common'</span>;</div><div class="line"><span class="keyword">import</span> &#123; LoadtestComponent &#125; from <span class="string">'./loadtest.component'</span>;</div><div class="line"><span class="keyword">import</span> &#123;RouterModule&#125; from <span class="string">'@angular/Router'</span>;</div><div class="line"><span class="keyword">import</span> &#123;route&#125; from <span class="string">'./loadtest-routing.module'</span>;</div><div class="line"><span class="meta">@NgModule</span>(&#123;</div><div class="line">    imports:[</div><div class="line">        CommonModule,</div><div class="line">        RouterModule.forChild(route),</div><div class="line">    ],</div><div class="line">    declarations:[</div><div class="line">        LoadtestComponent</div><div class="line">    ]</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> LoadtestModule&#123;&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>åœ¨routeè·¯ç”±é‡Œé¢è®°å¾—è¿™æ ·é…ç½®è¿™æ ·ä¸€å¥æ‰ä¸ä¼šå‡ºé”™ï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; LoadtestComponent &#125; from <span class="string">'./loadtest.component'</span>;</div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> route = [</div><div class="line">    &#123;</div><div class="line">       path:<span class="string">''</span>,</div><div class="line">        component: LoadtestComponent</div><div class="line">    &#125;,</div><div class="line">]</div></pre></td></tr></table></figure></p>
<p><font color="red">path:â€™â€™,æ‰èƒ½ä¿è¯ä»£ç ä¸å‡ºé”™ï¼›</font><br>æ‡’åŠ è½½çš„æ–‡ä»¶è¦æ³¨æ„ï¼šapp.module.tsä¸­ï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">declarations: [</div><div class="line">   AppComponent,</div><div class="line">   DashboardComponent,</div><div class="line">   HeroDetailComponent,</div><div class="line">   HeroesComponent,</div><div class="line">   TestComponent,</div><div class="line"> ],</div></pre></td></tr></table></figure></p>
<p>è¿™é‡Œé¢çš„æ–‡ä»¶ï¼Œé‡‡ç”¨æ‡’åœ¨å®¶çš„æ¨¡å—æ˜¯å¼•ç”¨ä¸åˆ°å¾—ï¼Œå› ä¸ºlazyåŠ è½½æ–‡ä»¶æœ‰è‡ªå·±çš„ngModule ï¼Œå¦‚æœè¦ä½¿ç”¨çš„ç»„ä»¶æ˜¯åŒä¸€ä¸ªï¼Œæœ€å¥½å»ºç«‹ä¸€ä¸ªshareModuleæ¨¡å—ï¼›<br>é‡‡ç”¨commonModule å°†å…±äº«æ–‡ä»¶æ”¾è¿›å»ï¼Œä¹‹åçš„Moduleé‡Œä½¿ç”¨å†åŠ è½½è¿›importsä¸­ï¼›</p>
<h2 id="RouteræœåŠ¡ï¼š"><a href="#RouteræœåŠ¡ï¼š" class="headerlink" title="RouteræœåŠ¡ï¼š"></a>RouteræœåŠ¡ï¼š</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">class</span> Router&#123;</div><div class="line"><span class="number">2.</span>         errorHandler:ErrorHandler</div><div class="line"><span class="number">3.</span>         navigated: <span class="built_in">boolean</span></div><div class="line"><span class="number">4.</span>         urlHandlingStrategy:UrlHandlingStrategy</div><div class="line"><span class="number">5.</span>         routeReuseStrategy:RouteReuseStrategy</div><div class="line"><span class="number">6.</span>         config:Routes</div><div class="line"><span class="number">7.</span>        initialNavigation():<span class="built_in">void</span></div><div class="line"><span class="number">8.</span>        setUpLocationChangeListener():<span class="built_in">void</span></div><div class="line"><span class="number">9.</span>        <span class="keyword">get</span> routerState():RouterState</div><div class="line"><span class="number">10.</span>       <span class="keyword">get</span> url(): <span class="built_in">string</span></div><div class="line"><span class="number">11.</span>       <span class="keyword">get</span> events():Observable&lt;Event&gt;</div><div class="line"><span class="number">12.</span>       resetConfig(config:Routes):<span class="built_in">void</span></div><div class="line"><span class="number">13.</span>       ngOnDestroy():<span class="built_in">void</span></div><div class="line"><span class="number">14.</span>       dispose():<span class="built_in">void</span></div><div class="line"><span class="number">15.</span>       createUrlTree(commands: <span class="built_in">any</span>[], navigationExtras:NavigationExtras):UrlTree</div><div class="line"><span class="number">16.</span>       navigateByUrl(url: <span class="built_in">string</span>|UrlTree, extras:NavigationExtras):Promise&lt;<span class="built_in">boolean</span>&gt;</div><div class="line"><span class="number">17.</span>       navigate(commands: <span class="built_in">any</span>[], extras:NavigationExtras):Promise&lt;<span class="built_in">boolean</span>&gt;</div><div class="line"><span class="number">18.</span>       serializeUrl(url:UrlTree): <span class="built_in">string</span></div><div class="line"><span class="number">19.</span>       parseUrl(url: <span class="built_in">string</span>):UrlTree</div><div class="line"><span class="number">20.</span>       isActive(url: <span class="built_in">string</span>|UrlTree, exact: <span class="built_in">boolean</span>): <span class="built_in">boolean</span></div><div class="line"><span class="number">21.</span>       &#125;</div></pre></td></tr></table></figure>
<p>è¿™æ˜¯Router APIä¸ºæˆ‘ä»¬æä¾›çš„æ–¹æ³•å’Œå±æ€§ï¼›</p>
<p>çœ‹çœ‹å‡ ä¸ªå¸¸ç”¨çš„ï¼š</p>
<h3 id="navigate"><a href="#navigate" class="headerlink" title="navigate()"></a><code>navigate()</code></h3><p>è¯¥æ–¹æ³•æ”¯æŒçš„å‚æ•°ç±»å‹å’ŒrouterLinkæŒ‡ä»¤ä¸€æ ·ï¼Œæ‰€ä»¥ä»–ä»¬çš„ä½œç”¨ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.router.navigate([<span class="string">'test'</span>, id]);</div></pre></td></tr></table></figure></p>
<p><strong>æˆ–è€…</strong><br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.router.navigate([<span class="string">'test'</span>]);</div></pre></td></tr></table></figure></p>
<blockquote>
<p>è°ƒç”¨è¯¥æ–¹æ³•åé¡µé¢ä¼šè‡ªåŠ¨è·³è½¬åˆ°å¯¹åº”çš„è·¯ç”±åœ°å€ï¼›<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.router.navigate([<span class="string">'test'</span>], &#123; relativeTo: <span class="keyword">this</span>.route&#125;);</div></pre></td></tr></table></figure></p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªå‚ç…§è·¯å¾„ï¼Œå‚ç…§è·¯å¾„this.routeä»ActivatedRouteé‡Œé¢å–ï¼›é…ç½®è¿™ä¸ªå¯ä»¥è®©è‡ªå·±çŸ¥é“ç›¸å¯¹äºä»€ä¹ˆä½ç½®å¯¼èˆªï¼Œthis.routeå°±æ˜¯ç›¸å¯¹äºå½“å‰çš„è·¯ç”±è¿›è¡Œå¯¼èˆªï¼Œ<br>å‡å¦‚å½“å‰urlï¼šlocalhost:4200/hero ,é‚£ä¹ˆå¯¼èˆªåçš„ç»“æœå°±æ˜¯ï¼šlocalhost:4200/hero/test</p>
<h3 id="navigateByUrl"><a href="#navigateByUrl" class="headerlink" title="navigateByUrl()"></a>navigateByUrl()</h3><p> è¿™ä¸ªå«åšç»å¯¹è·¯ç”±ï¼›<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.router.navigateByUrl(<span class="string">'home'</span>);</div></pre></td></tr></table></figure></p>
<p>å¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿçš„åˆ‡æ¢åˆ°æŸä¸ªè·¯ç”±ä¸‹é¢ï¼Œå¦‚æœä½ å½“æ—¶çš„è·¯ç”±æ˜¯è¿™æ ·çš„ï¼š<br>localhost:4200/hero/test ç‚¹å‡»è¿™ä¸ªè·¯ç”±åå°±æ˜¯ï¼šlocalhost:4200/home æˆ‘ä»¬ä¸€èˆ¬ç”¨è¿™ä¸ªè·¯ç”±æ¥å›åˆ°é¦–é¡µï¼›<br>å’Œnavigate()çš„åŒºåˆ«è¿˜æœ‰ç‚¹æ˜¯ï¼šè¿™ä¸ªä¸æ˜¯æ ¹æ®å‚æ•°æ¥ç¡®å®šè·¯ç”±åœ°å€çš„</p>
<h3 id="config-ä¼šå°†é¡µé¢æ‰€æœ‰çš„è·¯ç”±é…ç½®ä¿¡æ¯éƒ½æ˜¾ç¤ºï¼š"><a href="#config-ä¼šå°†é¡µé¢æ‰€æœ‰çš„è·¯ç”±é…ç½®ä¿¡æ¯éƒ½æ˜¾ç¤ºï¼š" class="headerlink" title="config ä¼šå°†é¡µé¢æ‰€æœ‰çš„è·¯ç”±é…ç½®ä¿¡æ¯éƒ½æ˜¾ç¤ºï¼š"></a>config ä¼šå°†é¡µé¢æ‰€æœ‰çš„è·¯ç”±é…ç½®ä¿¡æ¯éƒ½æ˜¾ç¤ºï¼š</h3><p><img src="/images/router-3.png" alt="cmd-markdown-logo"><br>çœ‹çœ‹è·¯ç”±æ ‘ï¼š<br><img src="/images/router-4.png" alt="cmd-markdown-logo"></p>
<h3 id="url-è¾“å‡ºå½“å‰-çš„è·¯ç”±path"><a href="#url-è¾“å‡ºå½“å‰-çš„è·¯ç”±path" class="headerlink" title="url è¾“å‡ºå½“å‰ çš„è·¯ç”±path"></a>url è¾“å‡ºå½“å‰ çš„è·¯ç”±path</h3><p><code><br>egï¼š<a href="http://localhost:4200/detail/11" target="_blank" rel="external">http://localhost:4200/detail/11</a><br>url: /detail/11<br></code></p>
<h3 id="æ¯æ¬¡å¯¼èˆªå‰éƒ½ä¼šè°ƒç”¨eventsæ–¹æ³•ï¼›"><a href="#æ¯æ¬¡å¯¼èˆªå‰éƒ½ä¼šè°ƒç”¨eventsæ–¹æ³•ï¼›" class="headerlink" title="æ¯æ¬¡å¯¼èˆªå‰éƒ½ä¼šè°ƒç”¨eventsæ–¹æ³•ï¼›"></a>æ¯æ¬¡å¯¼èˆªå‰éƒ½ä¼šè°ƒç”¨eventsæ–¹æ³•ï¼›</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">RouterModule.forRoot(routes, &#123;enableTracing: <span class="literal">true</span> &#125;)</div></pre></td></tr></table></figure>
<p>é€šè¿‡åœ¨æ§åˆ¶å°é…ç½®enableTracing: trueå¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°ç›¸å…³æ”¹å˜ï¼›<br> <strong>æ³¨æ„ï¼šenableTracing: true åªèƒ½åœ¨forRoot()é‡Œé¢æ·»åŠ </strong><br>å…·ä½“çš„äº‹ä»¶æœ‰ï¼š<br><img src="/images/router-5.png" alt="cmd-markdown-logo"><br> chromeæ§åˆ¶å°:<br><img src="/images/router-6.png" alt="cmd-markdown-logo"><br><strong>æ³¨æ„ï¼šè¿™äº›äº‹ä»¶æ˜¯ä»¥Observableçš„å½¢å¼æä¾›çš„</strong></p>
<h2 id="ActivateRoute-API"><a href="#ActivateRoute-API" class="headerlink" title="ActivateRoute API :"></a>ActivateRoute API :</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">interface</span> ActivatedRoute &#123;</div><div class="line">snapshot: ActivatedRouteSnapshot</div><div class="line">url: Observable&lt;UrlSegment[]&gt;</div><div class="line">params: Observable&lt;Params&gt;</div><div class="line">queryParams: Observable&lt;Params&gt;</div><div class="line">fragment: Observable&lt;<span class="built_in">string</span>&gt;</div><div class="line">data: Observable&lt;Data&gt;</div><div class="line">outlet: <span class="built_in">string</span></div><div class="line">component: Type&lt;<span class="built_in">any</span>&gt;|<span class="built_in">string</span>|<span class="literal">null</span></div><div class="line"><span class="keyword">get</span> routeConfig(): Route|<span class="literal">null</span></div><div class="line"><span class="keyword">get</span> root(): ActivatedRoute</div><div class="line"><span class="keyword">get</span> parent(): ActivatedRoute|<span class="literal">null</span></div><div class="line"><span class="keyword">get</span> firstChild(): ActivatedRoute|<span class="literal">null</span></div><div class="line"><span class="keyword">get</span> children(): ActivatedRoute[]</div><div class="line"><span class="keyword">get</span> pathFromRoot(): ActivatedRoute[]</div><div class="line"><span class="keyword">get</span> paramMap(): Observable&lt;ParamMap&gt;</div><div class="line"><span class="keyword">get</span> queryParamMap(): Observable&lt;ParamMap&gt;</div><div class="line">toString(): <span class="built_in">string</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="parmaMap"><a href="#parmaMap" class="headerlink" title="parmaMap"></a>parmaMap</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">ç¬¬ä¸€æ­¥ï¼šimport &#123; Router, ActivatedRoute, ParamMap &#125; from '@angular/router';</div><div class="line">ç¬¬äºŒæ­¥ï¼šimport 'rxjs/add/operator/switchMap';å¯¼å…¥switchMapæ“ä½œç¬¦æ˜¯å› ä¸ºæˆ‘ä»¬ç¨åå°†ä¼šå¤„ç†è·¯ç”±å‚æ•°çš„å¯è§‚å¯Ÿå¯¹è±¡Observable ;ä¼šåœ¨ä»¥åçš„ç« èŠ‚ä¸­ä»‹ç»æ“ä½œç¬¦çš„ï¼›</div><div class="line">ç¬¬ä¸‰æ­¥ï¼š</div><div class="line">constructor(</div><div class="line"> private heroService: HeroService,</div><div class="line"> private route: ActivatedRoute,</div><div class="line"> private router: Router,</div><div class="line">  ) &#123;&#125;</div><div class="line">&lt;code&gt; &lt;br&gt;&lt;/code&gt;</div></pre></td></tr></table></figure>
<p>å‡å®šäº‹å…ˆå†™å¥½äº†HeroServiceï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.route.paramMap</div><div class="line">   .switchMap((params: ParamMap) =&gt; <span class="keyword">this</span>.heroService.getHero(+params.get(<span class="string">'id'</span>)))</div><div class="line">    .subscribe(hero =&gt; <span class="keyword">this</span>.hero = hero );</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬è¿™æ ·æ“ä½œï¼Œå‰é¢å·²ç»ä»‹ç»è¿‡ç”¨parmasè·å–å‚æ•°ï¼›æ‰€ä»¥è¿™æ ·å†™ä¹Ÿå¯ä»¥ï¼Œç”¨çš„æ˜¯paramMapå°±å¼•å…¥paramMapï¼Œparamså°±å¼•å…¥Params</p>
 <figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.route.params</div><div class="line">     .switchMap((params: Params) =&gt; <span class="keyword">this</span>.heroService.getHero(+params[<span class="string">'id'</span>]))</div><div class="line">     .subscribe(hero =&gt;</div><div class="line">       <span class="keyword">this</span>.hero = hero;</div><div class="line">     &#125;</div><div class="line">     );</div></pre></td></tr></table></figure>
<p>ç”±äºå‚æ•°æ˜¯ä½œä¸ºObservableæä¾›çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—ç”¨switchMapæ“ä½œç¬¦æ¥æ ¹æ®åå­—å–å¾—idå‚æ•°ï¼Œå¹¶å‘Šè¯‰HeroServiceæ¥è·å–å¸¦æœ‰é‚£ä¸ªidçš„è‹±é›„ã€‚</p>
<h3 id="snapshot-å¿«ç…§"><a href="#snapshot-å¿«ç…§" class="headerlink" title="snapshot(å¿«ç…§)"></a>snapshot(å¿«ç…§)</h3><p>route.snapshotæä¾›äº†è·¯ç”±å‚æ•°çš„åˆå§‹å€¼ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒæ¥ç›´æ¥è®¿é—®å‚æ•°ï¼Œè€Œä¸ç”¨è®¢é˜…æˆ–è€…æ·»åŠ Observableçš„æ“ä½œç¬¦<br>æ‰€ä»¥è·å–å‚æ•°çš„idè¿˜å¯ä»¥è¿™æ ·ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> *<span class="attr">ngFor</span>=<span class="string">"let hero of heroes"</span>  [<span class="attr">routerLink</span>]=<span class="string">"['/detail', hero.id]"</span>  <span class="attr">class</span>=<span class="string">"col-1-4"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">br</span>&gt;</span>this.params = this.route.snapshot.paramMap.get('id');<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>console.log(this.params);</div></pre></td></tr></table></figure></p>
<p> æ‰€ä»¥ä¸Šé¢çš„ä»£ç æ”¹æˆè¿™æ ·æ›´å¥½ï¼š</p>
 <figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.params = <span class="keyword">this</span>.route.snapshot.paramMap.get(<span class="string">'id'</span>);</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.params);</div><div class="line"><span class="keyword">this</span>.heroService.getHero(<span class="keyword">this</span>.params)</div><div class="line">  .then(hero =&gt; <span class="keyword">this</span>.hero = hero);</div></pre></td></tr></table></figure>
<p>ä¸¤ç§æ–¹æ³•ï¼šparams å’Œsnapshotåˆ°åº•ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å“ªç§å‘¢ï¼Ÿ</p>
<ol>
<li>éœ€è¦ç›´æ¥è®¿é—®å‚æ•°ï¼Œä¸»è¦è·å–åˆå§‹å€¼ï¼Œä¸ç”¨è®¢é˜…çš„æƒ…å†µä¸‹ç”¨snapshotï¼›</li>
<li>éœ€è¦è¿ç»­å¯¼èˆªå¤šæ¬¡çš„ç”¨params;</li>
</ol>
<h2 id="æ€»ç»“-è·¯ç”±ä¸»è¦æ˜¯ç”¨åˆ°äº†è¿™äº›æ–¹é¢å•¦ï¼š"><a href="#æ€»ç»“-è·¯ç”±ä¸»è¦æ˜¯ç”¨åˆ°äº†è¿™äº›æ–¹é¢å•¦ï¼š" class="headerlink" title="æ€»ç»“ ,è·¯ç”±ä¸»è¦æ˜¯ç”¨åˆ°äº†è¿™äº›æ–¹é¢å•¦ï¼š"></a>æ€»ç»“ ,è·¯ç”±ä¸»è¦æ˜¯ç”¨åˆ°äº†è¿™äº›æ–¹é¢å•¦ï¼š</h2><p> <img src="/images/router-7.png" alt="cmd-markdown-logo"></p>
<h2 id="ç»™è·¯ç”±æ·»åŠ ä¸€äº›æ–°ç‰¹æ€§ï¼š"><a href="#ç»™è·¯ç”±æ·»åŠ ä¸€äº›æ–°ç‰¹æ€§ï¼š" class="headerlink" title="ç»™è·¯ç”±æ·»åŠ ä¸€äº›æ–°ç‰¹æ€§ï¼š"></a>ç»™è·¯ç”±æ·»åŠ ä¸€äº›æ–°ç‰¹æ€§ï¼š</h2><h3 id="æ·»åŠ åŠ¨ç”»"><a href="#æ·»åŠ åŠ¨ç”»" class="headerlink" title="æ·»åŠ åŠ¨ç”»"></a>æ·»åŠ åŠ¨ç”»</h3><p>[1] åœ¨app.module.tsä¸­å¼•å…¥å¯ç”¨AngularåŠ¨ç”»å¿…å¤‡çš„, è®°å¾—åœ¨importsä¸­å¯¼å…¥ï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; BrowserAnimationsModule &#125; from <span class="string">'@angular/platform-browser/animations'</span>;</div></pre></td></tr></table></figure></p>
<p>[2] åœ¨app.component.tsåŒçº§ä¸‹åˆ›å»ºä¸€ä¸ªanimation.tsæ–‡ä»¶ï¼Œç”¨æ¥å­˜æ”¾æˆ‘ä»¬çš„åŠ¨ç”»æ•ˆæœï¼›<br> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">import</span> &#123; animate, AnimationEntryMetadata, state, style, transition, trigger &#125; from <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> slideInDownAnimation: AnimationEntryMetadata =</div><div class="line">  trigger(<span class="string">'routeAnimation'</span>, [</div><div class="line">    state(<span class="string">'*'</span>,</div><div class="line">      style(&#123;</div><div class="line">        opacity: <span class="number">1</span>,</div><div class="line">        transform: <span class="string">'translateX(0)'</span></div><div class="line">      &#125;)</div><div class="line">    ),</div><div class="line">    transition(<span class="string">':enter'</span>, [</div><div class="line">      style(&#123;</div><div class="line">        opacity: <span class="number">0</span>,</div><div class="line">        transform: <span class="string">'translateX(-100%)'</span></div><div class="line">      &#125;),</div><div class="line">      animate(<span class="string">'0.2s ease-in'</span>)</div><div class="line">    ]),</div><div class="line">    transition(<span class="string">':leave'</span>, [</div><div class="line">      animate(<span class="string">'0.5s ease-out'</span>, style(&#123;</div><div class="line">        opacity: <span class="number">0</span>,</div><div class="line">        transform: <span class="string">'translateY(100%)'</span></div><div class="line">      &#125;))</div><div class="line">    ])</div><div class="line">  ]);</div></pre></td></tr></table></figure></p>
<p> å‡å®šæˆ‘æœ‰ä»¥ä¸Šä»£ç ï¼Œè§†å›¾è¿›åœºå’Œå‡ºåœºï¼›</p>
<ol>
<li>æ„å»ºåŠ¨ç”»éœ€è¦çš„åº“ï¼›</li>
<li>å¯¼å‡ºäº†ä¸€ä¸ªåå«slideInDownAnimationçš„å¸¸é‡ï¼Œå¹¶æŠŠå®ƒè®¾ç½®ä¸ºä¸€ä¸ªåï¼Œç”¨äºå¤–éƒ¨å¼•å…¥æ­¤tsæ–‡ä»¶ï¼›</li>
<li>å«routeAnimationçš„åŠ¨ç”»è§¦å‘å™¨ã€‚å¸¦åŠ¨ç”»çš„ç»„ä»¶å°†ä¼šå¼•ç”¨è¿™ä¸ªåå­—ã€‚ç”¨åœ¨å¤–éƒ¨htmlé¡µé¢å¼•ç”¨</li>
<li>æŒ‡å®šäº†ä¸€ä¸ªé€šé…ç¬¦çŠ¶æ€ â€”â€” *ï¼Œå®ƒåŒ¹é…è¯¥è·¯ç”±ç»„ä»¶å­˜åœ¨æ—¶çš„ä»»ä½•åŠ¨ç”»çŠ¶æ€ã€‚</li>
<li>å®šä¹‰ä¸¤ä¸ªè¿‡æ¸¡æ•ˆæœï¼Œå…¶ä¸­ä¸€ä¸ªï¼ˆ:enterï¼‰åœ¨ç»„ä»¶è¿›å…¥åº”ç”¨è§†å›¾æ—¶è®©å®ƒä»å±å¹•å·¦ä¾§ç¼“åŠ¨è¿›å…¥ï¼ˆease-inï¼‰ï¼Œå¦ä¸€ä¸ªï¼ˆ:leaveï¼‰åœ¨ç»„ä»¶ç¦»å¼€åº”ç”¨è§†å›¾æ—¶è®©å®ƒå‘ä¸‹é£å‡ºã€‚</li>
</ol>
<p>[3] å¦‚ä½•ä½¿ç”¨åŠ¨ç”»ï¼›</p>
<ol>
<li>åœ¨éœ€è¦çš„ç»„ä»¶ä¸­å¼•å…¥å˜é‡åä¸ºï¼šslideInDownAnimationçš„æ–‡ä»¶animation.tsï¼›</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;slideInDownAnimation&#125; from <span class="string">'../animation'</span>;</div></pre></td></tr></table></figure>
<p>[4]ç»„ä»¶ä¸­é…ç½®<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">templateUrl: <span class="string">'hero-detail.component.html'</span>,</div><div class="line">animations: [slideInDownAnimation]</div></pre></td></tr></table></figure></p>
<p>[5]htmlæ¨¡æ¿ä¸­è¿™æ ·å¼•å…¥ï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div *ngIf=<span class="string">"hero"</span> [<span class="meta">@routeAnimation</span>]=<span class="string">"'active'"</span>&gt;</div></pre></td></tr></table></figure></p>
<p> @routeAnimation åŠ¨ç”»è§¦å‘å™¨å<br><img src="/images/router-8.png" alt="cmd-markdown-logo"><br> ç‚¹å‡»ä¹‹åä¼šè‡ªåŠ¨åŠ è½½åŠ¨ç”»çš„ï¼›</p>
<h3 id="å¤šé‡è·¯ç”±å‡ºå£"><a href="#å¤šé‡è·¯ç”±å‡ºå£" class="headerlink" title="å¤šé‡è·¯ç”±å‡ºå£"></a>å¤šé‡è·¯ç”±å‡ºå£</h3><p><strong>ä¸€èˆ¬æƒ…å†µä¸‹ï¼šæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªè·¯ç”±å‡ºå£å°±è¡Œå•¦ï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¼šä½¿ç”¨ç¬¬äºŒè·¯ç”±å‘¢ï¼Ÿ</strong></p>
<p>1.åˆ›å»ºä¸€ä¸ªæ–°ç»„ä»¶ComposemessageComponent<br>2.è·¯ç”±é…ç½®ï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    path:<span class="string">'compose'</span>,</div><div class="line">    component:ComposemessageComponent,</div><div class="line">    outlet:<span class="string">'popup'</span></div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<p>3.htmlé¡µé¢è¿™æ ·é…ç½®ï¼š<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;nav&gt;</div><div class="line">   &lt;a routerLink="dashboard" routerLinkActive="active"  [routerLinkActiveOptions]="&#123;exact: true&#125;"&gt;Dashboard&lt;/a&gt;</div><div class="line">   &lt;a (click)="go()" &gt;Heroes&lt;/a&gt;</div><div class="line">   &lt;a routerLink="test"  routerLinkActive="active"  [routerLinkActiveOptions]="&#123;exact: true&#125;"&gt;Test&lt;/a&gt;</div><div class="line">    &lt;a routerLink="loadtest"  routerLinkActive="active"&gt;loadTest&lt;/a&gt; </div><div class="line">    &lt;a [routerLink]="[&#123; outlets: &#123; popup: ['compose'] &#125; &#125;]"&gt;Contact&lt;/a&gt;</div><div class="line"> &lt;/nav&gt;</div><div class="line">&lt;router-outlet&gt;&lt;/router-outlet&gt;</div><div class="line">&lt;router-outlet name="popup"&gt;&lt;/router-outlet&gt;</div></pre></td></tr></table></figure></p>
<p>è¿™æ˜¯æˆ‘çš„é¡µé¢æ‰€æœ‰çš„è·¯ç”±é…ç½®ï¼›<br><img src="/images/router-9.png" alt="cmd-markdown-logo"><br>ç‚¹å‡»Contact ä¸ä¼šæ›¿æ¢å…¶ä»–çš„ç»„ä»¶ä¿¡æ¯ï¼Œæ³¨æ„çœ‹<code>Url:<a href="http://localhost:4200/dashboard(popup:compose" target="_blank" rel="external">http://localhost:4200/dashboard(popup:compose</a>)</code><br>ç‚¹å‡»Contact urlåœ°å€æ²¡æœ‰å˜æˆ<code><a href="http://localhost:4200/contact" target="_blank" rel="external">http://localhost:4200/contact</a></code>è€Œæ˜¯é‡‡ç”¨åœ†æ‹¬å·åŠ è½½</p>
<ul>
<li>åœ†æ‹¬å·åŒ…è£¹çš„éƒ¨åˆ†æ˜¯ç¬¬äºŒè·¯ç”±ã€‚</li>
<li>ç¬¬äºŒè·¯ç”±åŒ…æ‹¬ä¸€ä¸ªå‡ºå£åç§°ï¼ˆpopupï¼‰ã€ä¸€ä¸ªå†’å·åˆ†éš”ç¬¦å’Œç¬¬äºŒè·¯ç”±çš„è·¯å¾„ï¼ˆcomposeï¼‰<br>è€Œæ˜¯æ˜¾ç¤ºåœ¨ä¸‹é¢ï¼Œç‚¹å‡»testä¹Ÿæ˜¯ä¸€æ ·ï¼š<br><img src="/images/router-10.png" alt="cmd-markdown-logo"></li>
</ul>
<p>Contactè·¯ç”±åŠ è½½çš„ç»„ä»¶ä¸ä¼šè¢«æ¸…é™¤ï¼Œä¸€ç›´æ˜¾ç¤ºåœ¨ä¸‹é¢ï¼ŒçŠ¶æ€ä¸€ç›´è¢«æ¿€æ´»ï¼›<br>è¿™é‡Œæˆ‘ä»¬å°±èƒ½çŸ¥é“ç¬¬äºŒè·¯ç”±çš„ç”¨å¤„ï¼šå³ä½¿åœ¨åº”ç”¨ä¸­çš„ä¸åŒé¡µé¢ä¹‹é—´åˆ‡æ¢ï¼Œè¿™ä¸ªç»„ä»¶ä¹Ÿåº”è¯¥å§‹ç»ˆä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œå¤šé‡å‡ºå£å¯ä»¥åœ¨åŒä¸€æ—¶é—´æ ¹æ®ä¸åŒçš„è·¯ç”±æ¥æ˜¾ç¤ºä¸åŒçš„å†…å®¹ï¼›<br>ä½†æ˜¯ä»€ä¹ˆæ—¶å€™æ¸…é™¤æˆ‘ä»¬çš„ç¬¬äºŒè·¯ç”±å‘¢ï¼Ÿå¦‚æœæˆ‘é¡µé¢ä¸éœ€è¦å‘¢ï¼Ÿ<br>æ³¨æ„ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> (<span class="attr">click</span>)=<span class="string">"go()"</span> &gt;</span>Heroes<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">go() &#123;</div><div class="line">   this.router.navigateByUrl('heroes');</div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>
<p>å½“ç‚¹å‡»Heroesæ—¶ï¼ŒContactè·¯ç”±åŠ è½½çš„å†…å®¹å°±ä¸ä¼šè¢«æ˜¾ç¤ºï¼š<br><img src="/images/router-1.png" alt="cmd-markdown-logo"><br>åŸå› æ˜¯è¿™æ ·çš„ï¼š<br>å®ƒä½¿ç”¨Router.navigateNyUrl()æ–¹æ³•è¿›è¡Œå¼ºåˆ¶å¯¼èˆª,æ‰€ä»¥è·¯ç”±æ¸…é™¤å•¦ï¼›<br>è¿˜å¯ä»¥è¿™æ ·æ¸…é™¤ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.router.navigate([&#123; outlets: &#123; popup: <span class="literal">null</span> &#125;&#125;]);</div><div class="line">outletså±æ€§çš„å€¼æ˜¯å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç”¨ä¸€äº›å‡ºå£åç§°ä½œä¸ºå±æ€§åã€‚ å”¯ä¸€çš„å‘½åå‡ºå£æ˜¯<span class="string">'popup'</span>ã€‚ä½†è¿™é‡Œï¼Œ<span class="string">'popup'</span>çš„å€¼æ˜¯<span class="literal">null</span>ã€‚<span class="literal">null</span>ä¸æ˜¯ä¸€ä¸ªè·¯ç”±ï¼Œ</div><div class="line">ä½†å´æ˜¯ä¸€ä¸ªåˆæ³•çš„å€¼ã€‚ æŠŠpopupè¿™ä¸ªRouterOutletè®¾ç½®ä¸º<span class="literal">null</span>ä¼šæ¸…é™¤è¯¥å‡ºå£ï¼Œå¹¶ä¸”ä»å½“å‰URLä¸­ç§»é™¤ç¬¬äºŒè·¯ç”±popup</div></pre></td></tr></table></figure>
<h3 id="è·¯ç”±å®ˆå«"><a href="#è·¯ç”±å®ˆå«" class="headerlink" title="è·¯ç”±å®ˆå«"></a>è·¯ç”±å®ˆå«</h3><p>æŒ‰ç…§ä¸Šé¢æ‰€è¯´ï¼šä»»ä½•ç”¨æˆ·éƒ½èƒ½åœ¨ä»»ä½•æ—¶å€™å¯¼èˆªåˆ°ä»»ä½•åœ°æ–¹ï¼Œè¿™æ ·å°±æœ‰é—®é¢˜ï¼Œå¯èƒ½æ­¤ç”¨æˆ·å¹¶æ²¡æœ‰æƒé™åˆ‡æ¢åˆ°æ­¤è·¯ç”±ï¼Œ<br>å¯èƒ½ç”¨æˆ·æœªç™»é™†ä¸èƒ½åˆ‡æ¢ï¼Œæˆ–è€…åšä¸€äº›å‹å¥½æç¤ºä¹‹åå†åˆ‡æ¢ï¼›<br>æ‰€ä»¥è·¯ç”±å®ˆå«å°±æ¥äº†ï¼š<br>å®ˆå«è¿”å›ä¸€ä¸ªå€¼ï¼Œä»¥æ§åˆ¶è·¯ç”±å™¨çš„è¡Œä¸ºï¼š</p>
<ol>
<li>å¦‚æœå®ƒè¿”å›trueï¼Œå¯¼èˆªè¿‡ç¨‹ä¼šç»§ç»­</li>
<li>å¦‚æœå®ƒè¿”å›falseï¼Œå¯¼èˆªè¿‡ç¨‹ä¼šç»ˆæ­¢ï¼Œä¸”ç”¨æˆ·ä¼šç•™åœ¨åŸåœ°ã€‚<br>ä¹Ÿå°±æ˜¯ä½ å¯¼èˆªçš„è·¯ç”±æ˜¯å¯ä»¥å–æ¶ˆçš„ï¼Œè·¯ç”±å®ˆå«è¿˜æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯å›é€€åŠŸèƒ½æ—¶ï¼Œå¯ä»¥é˜²æ­¢ç”¨æˆ·æ— é™å›é€€ï¼Œèµ°å‡ºappï¼›<br>è·¯ç”±å®ˆå«æ€ä¹ˆåšï¼š<br>ç”¨CanActivateæ¥å¤„ç†å¯¼èˆªåˆ°æŸè·¯ç”±çš„æƒ…å†µã€‚<br>ç”¨CanActivateChildæ¥å¤„ç†å¯¼èˆªåˆ°æŸå­è·¯ç”±çš„æƒ…å†µã€‚<br>ç”¨CanDeactivateæ¥å¤„ç†ä»å½“å‰è·¯ç”±ç¦»å¼€çš„æƒ…å†µ.<br>ç”¨Resolveåœ¨è·¯ç”±æ¿€æ´»ä¹‹å‰è·å–è·¯ç”±æ•°æ®ã€‚<br>ç”¨CanLoadæ¥å¤„ç†å¼‚æ­¥å¯¼èˆªåˆ°æŸç‰¹æ€§æ¨¡å—çš„æƒ…å†µã€‚</li>
</ol>
<hr>
<p>è¿”å›çš„å€¼æ˜¯ä¸€ä¸ªObservable<boolean>æˆ–Promise<boolean>ï¼Œè·¯ç”±å™¨ä¼šç­‰å¾…è¿™ä¸ªå¯è§‚å¯Ÿå¯¹è±¡è¢«è§£æä¸ºtrueæˆ–falseã€‚<br>åœ¨åˆ†å±‚è·¯ç”±çš„æ¯ä¸ªçº§åˆ«ä¸Šï¼Œæˆ‘ä»¬éƒ½å¯ä»¥è®¾ç½®å¤šä¸ªå®ˆå«ã€‚ è·¯ç”±å™¨ä¼šå…ˆæŒ‰ç…§ä»æœ€æ·±çš„å­è·¯ç”±ç”±ä¸‹å¾€ä¸Šæ£€æŸ¥çš„é¡ºåºæ¥æ£€æŸ¥CanDeactivate()å’ŒCanActivateChild()å®ˆå«ã€‚ ç„¶åå®ƒä¼šæŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºæ£€æŸ¥CanActivate()å®ˆå«ã€‚ å¦‚æœç‰¹æ€§æ¨¡å—æ˜¯å¼‚æ­¥åŠ è½½çš„ï¼Œåœ¨åŠ è½½å®ƒä¹‹å‰è¿˜ä¼šæ£€æŸ¥CanLoad()å®ˆå«ã€‚ å¦‚æœä»»ä½•ä¸€ä¸ªå®ˆå«è¿”å›falseï¼Œå…¶å®ƒå°šæœªå®Œæˆçš„å®ˆå«ä¼šè¢«å–æ¶ˆï¼Œè¿™æ ·æ•´ä¸ªå¯¼èˆªå°±è¢«å–æ¶ˆäº†ã€‚<br>çœ‹çœ‹è·¯ç”±å®ˆå«æ€ä¹ˆå®ç°ï¼š<br>1.new ä¸€ä¸ªæ–°é¡¹ç›®activeComponent;<br>2.ç¼–å†™å®ˆå«æœåŠ¡ï¼š</boolean></boolean></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Injectable &#125; from <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123; CanActivate &#125; from <span class="string">'@angular/router'</span>;</div><div class="line"><span class="meta">@Injectable</span>()</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> LoadTestService <span class="keyword">implements</span> CanActivate&#123;</div><div class="line">   canActivate() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'AuthGuard#canActivate called'</span>);</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> 3.è·¯ç”±ä¸­è¿™æ ·å¯¼å…¥æˆ‘ä»¬çš„å®ˆå«ï¼š</p>
 <figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; ActiveComponent &#125; from <span class="string">'./active/active.component'</span>;</div><div class="line"><span class="keyword">import</span> &#123;LoadTestService&#125; from <span class="string">'./loadtest.service'</span>;</div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> route = [</div><div class="line">    &#123;</div><div class="line">        path:<span class="string">''</span>,</div><div class="line">        component: LoadtestComponent,</div><div class="line">        canActivate:[LoadTestService],</div><div class="line">        children:[</div><div class="line">            &#123;</div><div class="line">                path:<span class="string">'a'</span>,</div><div class="line">                component: ActiveComponent</div><div class="line">            &#125;   </div><div class="line">        ]</div><div class="line">    &#125;,</div><div class="line">]</div></pre></td></tr></table></figure>
<p>è¿™æ ·æˆ‘ä»¬çš„ActiveComponentå°±æ˜¯å—ä¿æŠ¤çš„ï¼› å½“ç„¶è¿™åªæ˜¯æ¨¡æ‹Ÿï¼›è¿˜æœ‰æ›´å¤šç”¨æ³•ï¼Œä»¥åæ¥åˆ—ä¸¾ï¼›</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;è·¯ç”±çš„ä½œç”¨å°±æ˜¯ï¼ˆå¯¼èˆªï¼‰ï¼šä¼šåŠ è½½ä¸è¯·æ±‚è·¯ç”±ç›¸å…³è”çš„ç»„ä»¶ï¼Œå¹¶è·å–ç‰¹å®šè·¯ç”±çš„ç›¸å…³æ•°æ®ï¼Œè¿™å…è®¸æˆ‘ä»¬é€šè¿‡æ§åˆ¶ä¸åŒçš„è·¯ç”±ï¼Œè·å–ä¸åŒçš„æ•°æ®ï¼Œä»è€Œæ¸²æŸ“ä¸åŒçš„é¡µé¢ï¼›&lt;/p&gt;
&lt;h2 id=&quot;å‡ ç§å¸¸è§çš„è·¯ç”±é…ç½®ï¼š&quot;&gt;&lt;a href=&quot;#å‡ ç§å¸¸è§çš„è·¯ç”±é…ç½®ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‡ ç§å¸¸è§çš„è·¯ç”±é…ç½®ï¼š&quot;&gt;&lt;/a&gt;å‡ ç§å¸¸è§çš„è·¯ç”±é…ç½®ï¼š&lt;/h2&gt;&lt;p&gt;Angularè·¯ç”±å™¨æ˜¯ä¸€ä¸ªå¯é€‰çš„å¤–éƒ¨Angular NgModule ï¼Œå«RouterModule;&lt;br&gt;è·¯ç”±å™¨é‡Œé¢åŒ…å«å¤šç§æœåŠ¡(RouterModule)ï¼Œå¤šç§æŒ‡ä»¤ï¼ˆRouterOutletï¼ŒRouterLink,RouterLinkActiveï¼‰ï¼Œå’Œä¸€å¥—é…ç½®ï¼ˆRoutesï¼‰;&lt;/p&gt;
    
    </summary>
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/categories/Angular-2/"/>
    
    
      <category term="Angular 2+" scheme="http://www.sulishibaobei.com/tags/Angular-2/"/>
    
      <category term="router" scheme="http://www.sulishibaobei.com/tags/router/"/>
    
      <category term="æ‡’åŠ è½½" scheme="http://www.sulishibaobei.com/tags/%E6%87%92%E5%8A%A0%E8%BD%BD/"/>
    
  </entry>
  
</feed>
